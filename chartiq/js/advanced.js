/**
 *	8.0.0
 *	Generation date: 2020-10-06T16:02:04.903Z
 *	Client name: unlocked
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2021/07/13"
 *	Domain lock: ["127.0.0.1","localhost","192.168.1.61","chartiq.com","fiddle.jshell.net","jsfiddle.net"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
D200[268238]=(function(){var s=2;for(;s !== 9;){switch(s){case 2:s=typeof globalThis === '\x6f\x62\u006a\u0065\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var R;try{var V=2;for(;V !== 6;){switch(V){case 3:throw "";V=9;break;case 4:V=typeof wg7kW === '\u0075\u006e\x64\x65\u0066\u0069\u006e\u0065\x64'?3:9;break;case 9:delete R['\u0077\u0067\x37\x6b\u0057'];var x=Object['\x70\u0072\x6f\x74\u006f\u0074\x79\u0070\u0065'];delete x['\u006e\x24\x7a\u0039\u0037'];V=6;break;case 2:Object['\u0064\x65\u0066\x69\x6e\u0065\u0050\x72\x6f\x70\u0065\x72\u0074\u0079'](Object['\x70\x72\u006f\u0074\u006f\u0074\u0079\u0070\u0065'],'\x6e\x24\x7a\u0039\u0037',{'\x67\x65\x74':function(){var k=2;for(;k !== 1;){switch(k){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});R=n$z97;R['\u0077\u0067\u0037\x6b\u0057']=R;V=4;break;}}}catch(A){R=window;}return R;break;}}})();D200[83227]=L277(D200[268238]);D200[88474]=l477(D200[268238]);D200.y6C=function(){return typeof D200[37455].E6C === 'function'?D200[37455].E6C.apply(D200[37455],arguments):D200[37455].E6C;};D200.O6C=function(){return typeof D200[37455].M6C === 'function'?D200[37455].M6C.apply(D200[37455],arguments):D200[37455].M6C;};D200[498051]=true;D200[37455]=(function(F6C){return {E6C:function(){var S6C,t6C=arguments;switch(F6C){case 72:S6C=t6C[1] + t6C[0] / (t6C[2] >> t6C[3]) + t6C[4];break;case 30:S6C=t6C[0] < t6C[1];break;case 41:S6C=t6C[1] / +t6C[0];break;case 81:S6C=t6C[1] * -t6C[0];break;case 43:S6C=t6C[3] - t6C[1] * (t6C[0] - t6C[2]);break;case 68:S6C=t6C[1] - t6C[2] * t6C[0] - t6C[3];break;case 35:S6C=(t6C[0] - t6C[2]) * (t6C[6] - t6C[1]) / (t6C[5] - t6C[3]) + t6C[4];break;case 49:S6C=t6C[0] * t6C[1] + t6C[2];break;case 40:S6C=+t6C[1] / +t6C[0];break;case 48:S6C=(t6C[3] - t6C[1] * t6C[2]) / t6C[0];break;case 89:S6C=t6C[3] / (t6C[0] * t6C[1]) <= t6C[2];break;case 34:S6C=(t6C[4] - t6C[5]) / (t6C[2] - t6C[3]) > (t6C[0] ^ t6C[1]);break;case 33:S6C=t6C[2] * t6C[1] - t6C[0];break;case 60:S6C=(t6C[2] * t6C[3] + t6C[1]) / (t6C[0] | t6C[4]);break;case 74:S6C=+t6C[3] * t6C[2] / (t6C[1] + t6C[0]);break;case 21:S6C=t6C[3] * t6C[0] - t6C[1] - t6C[2];break;case 91:S6C=t6C[2] - (t6C[1] | t6C[0]);break;case 83:S6C=(t6C[2] + t6C[3] / t6C[1]) * t6C[0];break;case 13:S6C=t6C[1] & t6C[0];break;case 27:S6C=t6C[0] >> t6C[1];break;case 50:S6C=t6C[1] - +t6C[0];break;case 37:S6C=(t6C[0] >> t6C[1]) / t6C[2];break;case 46:S6C=t6C[4] * (t6C[1] * t6C[0] + t6C[2]) / t6C[3];break;case 38:S6C=t6C[2] / (t6C[1] & t6C[0]);break;case 22:S6C=t6C[0] | t6C[1];break;case 26:S6C=t6C[1] * t6C[0] / t6C[2];break;case 85:S6C=(t6C[0] + +t6C[2]) * t6C[1];break;case 64:S6C=t6C[2] - t6C[1] - t6C[0];break;case 52:S6C=t6C[1] % t6C[0];break;case 11:S6C=t6C[2] - t6C[1] * t6C[0];break;case 77:S6C=t6C[2] - (t6C[0] & t6C[1]);break;case 17:S6C=t6C[0] % t6C[1] >= t6C[2];break;case 4:S6C=t6C[2] + t6C[0] - t6C[3] - t6C[1];break;case 10:S6C=t6C[2] + t6C[1] * t6C[0];break;case 44:S6C=t6C[0] + +t6C[2] / t6C[1];break;case 94:S6C=t6C[0] > t6C[1];break;case 62:S6C=t6C[2] + (t6C[0] | t6C[1]);break;case 16:S6C=t6C[0] + t6C[1] > t6C[2];break;case 28:S6C=(t6C[0] - t6C[2]) / (t6C[3] - t6C[4]) > t6C[1];break;case 9:S6C=t6C[1] << t6C[0];break;case 56:S6C=t6C[6] + (t6C[4] - t6C[5]) / (t6C[0] - t6C[1]) * (t6C[2] - t6C[3]);break;case 90:S6C=t6C[2] * +t6C[1] * t6C[0] * t6C[3];break;case 59:S6C=(+t6C[3] * t6C[0] + t6C[1]) / t6C[2];break;case 63:S6C=t6C[5] + t6C[0] + t6C[7] + t6C[6] + t6C[4] + t6C[2] + t6C[3] + t6C[1];break;case 24:S6C=t6C[1] - t6C[2] / t6C[0];break;case 58:S6C=t6C[0] + (t6C[2] >> t6C[1]);break;case 76:S6C=(t6C[3] % t6C[2] + +t6C[1]) * t6C[0];break;case 84:S6C=t6C[3] * (t6C[0] / t6C[1] - t6C[2]);break;case 67:S6C=t6C[0] - +t6C[2] / (t6C[3] + t6C[1]);break;case 2:S6C=(t6C[0] + t6C[2]) / t6C[1];break;case 80:S6C=t6C[2] - +t6C[1] / (t6C[0] + t6C[3] / t6C[4]);break;case 8:S6C=(t6C[1] + t6C[3] + t6C[4] + t6C[0]) / t6C[2];break;case 36:S6C=+t6C[1] / t6C[0];break;case 6:S6C=t6C[0] - t6C[3] + t6C[2] + t6C[1];break;case 92:S6C=t6C[2] - t6C[0] / +t6C[1];break;case 69:S6C=t6C[0] + t6C[2] * t6C[3] + t6C[1];break;case 87:S6C=t6C[2] * t6C[5] - t6C[0] / (t6C[4] + t6C[3] / t6C[1]);break;case 54:S6C=-(t6C[0] - t6C[1]) * t6C[3] + t6C[2];break;case 95:S6C=t6C[1] * (t6C[0] + t6C[2]);break;case 20:S6C=(t6C[2] >> t6C[3]) * t6C[0] - t6C[4] - t6C[1];break;case 45:S6C=t6C[0] * (t6C[3] + +t6C[2]) / t6C[1];break;case 47:S6C=(t6C[6] * t6C[0] - t6C[3] * t6C[4]) / (t6C[1] * t6C[2] - t6C[5]);break;case 1:S6C=t6C[0] + t6C[1];break;case 29:S6C=(t6C[1] << t6C[3]) * t6C[0] - t6C[2];break;case 12:S6C=t6C[1] * t6C[0];break;case 19:S6C=t6C[1] + (t6C[0] - t6C[2]);break;case 66:S6C=t6C[1] + t6C[0] + t6C[2] + t6C[3];break;case 78:S6C=t6C[0] + t6C[2] + t6C[1] + t6C[3] + t6C[4];break;case 82:S6C=(t6C[2] - t6C[3] / t6C[0]) * t6C[1];break;case 71:S6C=t6C[1] == t6C[0];break;case 18:S6C=t6C[2] * t6C[1] < t6C[0];break;case 55:S6C=(t6C[3] - t6C[1]) * t6C[2] + t6C[0];break;case 75:S6C=t6C[3] * t6C[1] * +t6C[0] * t6C[2];break;case 32:S6C=+t6C[0] * t6C[1] - t6C[2];break;case 31:S6C=(t6C[3] - t6C[2]) / (t6C[1] - t6C[0]);break;case 42:S6C=t6C[2] + (t6C[3] - t6C[0]) / t6C[1];break;case 86:S6C=(t6C[0] << t6C[3]) * ((t6C[1] - t6C[5]) / t6C[2] + t6C[4]);break;case 93:S6C=t6C[4] + (t6C[2] / t6C[1] - t6C[3] / t6C[0]);break;case 5:S6C=t6C[1] - t6C[0] + t6C[2];break;case 15:S6C=(t6C[2] - t6C[1]) / t6C[0];break;case 79:S6C=t6C[0] / t6C[1] - t6C[2];break;case 23:S6C=t6C[1] ^ t6C[0];break;case 61:S6C=(t6C[1] + t6C[2] * t6C[0]) / t6C[3];break;case 51:S6C=t6C[2] + t6C[1] + t6C[0];break;case 57:S6C=t6C[1] + +t6C[0];break;case 73:S6C=t6C[1] - (t6C[2] << t6C[0]);break;case 14:S6C=t6C[0] - (t6C[2] - t6C[1]);break;case 7:S6C=t6C[0] / t6C[1];break;case 39:S6C=t6C[2] / (t6C[0] * t6C[1]);break;case 88:S6C=t6C[3] + t6C[1] * (t6C[0] - t6C[2]);break;case 70:S6C=t6C[4] - t6C[0] * (t6C[1] - t6C[2]) - t6C[3];break;case 65:S6C=(t6C[3] - (t6C[2] + t6C[0])) / t6C[1];break;case 25:S6C=t6C[0] + t6C[2] / t6C[1];break;case 53:S6C=(t6C[2] + t6C[1]) / +t6C[0];break;case 3:S6C=t6C[1] + t6C[0] - t6C[2];break;case 0:S6C=t6C[0] - t6C[1];break;}return S6C;},M6C:function(e6C){F6C=e6C;}};})();D200[457523]=(function(){var V2q=2;for(;V2q !== 9;){switch(V2q){case 5:d2q[7]={};d2q[7].b6C=function(){var n2q=2;for(;n2q !== 90;){switch(n2q){case 52:N2q[8].e277(N2q[45]);N2q[8].e277(N2q[52]);N2q[8].e277(N2q[1]);N2q[8].e277(N2q[67]);n2q=48;break;case 71:N2q[42]++;n2q=76;break;case 70:N2q[85]++;n2q=57;break;case 40:N2q[52]=N2q[80];N2q[25]={};N2q[25].Y6C=['N8C'];N2q[25].G6C=function(){var F9C=typeof P277 === 'function';return F9C;};N2q[12]=N2q[25];N2q[8].e277(N2q[7]);N2q[8].e277(N2q[9]);n2q=52;break;case 34:N2q[74]={};N2q[74].Y6C=['N8C'];N2q[74].G6C=function(){var V9C=typeof m277 === 'function';return V9C;};n2q=31;break;case 2:var N2q=[arguments];n2q=1;break;case 1:n2q=d2q[8]?5:4;break;case 12:N2q[1]=N2q[4];n2q=11;break;case 24:N2q[67]=N2q[55];N2q[22]={};N2q[22].Y6C=['v6C'];N2q[22].G6C=function(){var D9C=function(){return decodeURI('%25');};var f9C=!(/\x32\x35/).b277(D9C + []);return f9C;};N2q[45]=N2q[22];n2q=34;break;case 56:N2q[49]=N2q[8][N2q[85]];try{N2q[93]=N2q[49][N2q[69]]()?N2q[17]:N2q[14];}catch(m9C){N2q[93]=N2q[14];}n2q=77;break;case 68:n2q=21?68:67;break;case 67:d2q[8]=46;return 98;break;case 75:N2q[58]={};N2q[58][N2q[73]]=N2q[49][N2q[53]][N2q[42]];N2q[58][N2q[87]]=N2q[93];N2q[34].e277(N2q[58]);n2q=71;break;case 57:n2q=N2q[85] < N2q[8].length?56:69;break;case 4:N2q[8]=[];N2q[3]={};N2q[3].Y6C=['v6C'];n2q=8;break;case 69:n2q=(function(u2q){var F2q=2;for(;F2q !== 22;){switch(F2q){case 8:A2q[8]=0;F2q=7;break;case 13:A2q[6][A2q[4][N2q[73]]]=(function(){var U2q=2;for(;U2q !== 9;){switch(U2q){case 2:var z2q=[arguments];z2q[6]={};U2q=5;break;case 5:z2q[6].h=0;z2q[6].t=0;return z2q[6];break;}}}).Q277(this,arguments);F2q=12;break;case 24:A2q[8]++;F2q=16;break;case 4:A2q[6]={};A2q[2]=[];A2q[8]=0;F2q=8;break;case 20:A2q[6][A2q[4][N2q[73]]].h+=true;F2q=19;break;case 23:return A2q[9];break;case 7:F2q=A2q[8] < A2q[0][0].length?6:18;break;case 15:A2q[7]=A2q[2][A2q[8]];A2q[3]=A2q[6][A2q[7]].h / A2q[6][A2q[7]].t;F2q=26;break;case 2:var A2q=[arguments];F2q=1;break;case 1:F2q=A2q[0][0].length === 0?5:4;break;case 26:F2q=A2q[3] >= 0.5?25:24;break;case 17:A2q[8]=0;F2q=16;break;case 5:return;break;case 12:A2q[2].e277(A2q[4][N2q[73]]);F2q=11;break;case 11:A2q[6][A2q[4][N2q[73]]].t+=true;F2q=10;break;case 14:F2q=typeof A2q[6][A2q[4][N2q[73]]] === 'undefined'?13:11;break;case 18:A2q[9]=false;F2q=17;break;case 16:F2q=A2q[8] < A2q[2].length?15:23;break;case 6:A2q[4]=A2q[0][0][A2q[8]];F2q=14;break;case 10:F2q=A2q[4][N2q[87]] === N2q[17]?20:19;break;case 25:A2q[9]=true;F2q=24;break;case 19:A2q[8]++;F2q=7;break;}}})(N2q[34])?68:67;break;case 58:N2q[85]=0;n2q=57;break;case 18:N2q[2]={};N2q[2].Y6C=['v6C'];N2q[2].G6C=function(){var Y9C=function(){return ('aaa').includes('a');};var G9C=(/\u0074\x72\x75\u0065/).b277(Y9C + []);return G9C;};N2q[7]=N2q[2];n2q=27;break;case 48:N2q[8].e277(N2q[12]);N2q[8].e277(N2q[6]);N2q[8].e277(N2q[71]);N2q[8].e277(N2q[70]);N2q[34]=[];n2q=64;break;case 5:return 70;break;case 8:N2q[3].G6C=function(){var y9C=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var K9C=!(/\x28\x5b/).b277(y9C + []);return K9C;};N2q[6]=N2q[3];N2q[4]={};N2q[4].Y6C=['v6C'];N2q[4].G6C=function(){var t9C=function(){return btoa('=');};var g9C=!(/\u0062\u0074\u006f\u0061/).b277(t9C + []);return g9C;};n2q=12;break;case 77:N2q[42]=0;n2q=76;break;case 27:N2q[55]={};N2q[55].Y6C=['N8C'];N2q[55].G6C=function(){var z9C=typeof R277 === 'function';return z9C;};n2q=24;break;case 31:N2q[70]=N2q[74];N2q[26]={};N2q[26].Y6C=['N8C'];N2q[26].G6C=function(){var A9C=false;var O9C=[];try{for(var a9C in console){O9C.e277(a9C);}A9C=O9C.length === 0;}catch(h9C){}var b9C=A9C;return b9C;};n2q=44;break;case 11:N2q[5]={};N2q[5].Y6C=['v6C'];N2q[5].G6C=function(){var v9C=function(){var j9C=function(r9C){for(var C9C=0;C9C < 20;C9C++){r9C+=C9C;}return r9C;};j9C(2);};var N9C=(/\u0031\x39\x32/).b277(v9C + []);return N9C;};N2q[9]=N2q[5];n2q=18;break;case 76:n2q=N2q[42] < N2q[49][N2q[53]].length?75:70;break;case 64:N2q[17]='K6C';N2q[14]='a6C';N2q[53]='Y6C';N2q[87]='A6C';n2q=60;break;case 60:N2q[69]='G6C';N2q[73]='C6C';n2q=58;break;case 44:N2q[71]=N2q[26];N2q[80]={};N2q[80].Y6C=['v6C'];N2q[80].G6C=function(){var R9C=function(){return [] + ('a').concat('a');};var c9C=!(/\x5b\x5d/).b277(R9C + []) && (/\u0061\u0061/).b277(R9C + []);return c9C;};n2q=40;break;}}};return d2q[7];break;case 2:var d2q=[arguments];d2q[8]=undefined;V2q=5;break;}}})();D200.J6C=function(){return typeof D200[37455].M6C === 'function'?D200[37455].M6C.apply(D200[37455],arguments):D200[37455].M6C;};D200.y2q=function(){return typeof D200[457523].b6C === 'function'?D200[457523].b6C.apply(D200[457523],arguments):D200[457523].b6C;};function L277(D1Z){function d1Z(B7Z){var Q7Z=2;for(;Q7Z !== 5;){switch(Q7Z){case 2:var I1Z=[arguments];return I1Z[0][0].String;break;}}}var f7Z=2;for(;f7Z !== 11;){switch(f7Z){case 9:M1Z[7]=3;M1Z[7]=1;M1Z[6]=M1Z[5];M1Z[6]+=M1Z[8];M1Z[6]+=M1Z[2];f7Z=13;break;case 2:var M1Z=[arguments];M1Z[8]="27";M1Z[2]="7";M1Z[5]="";M1Z[5]="F";f7Z=9;break;case 12:v1Z(d1Z,"charCodeAt",M1Z[7],M1Z[6]);f7Z=11;break;case 13:var v1Z=function(S1Z,Z1Z,C7Z,J7Z){var x7Z=2;for(;x7Z !== 5;){switch(x7Z){case 2:var Y1Z=[arguments];X1Z(M1Z[0][0],Y1Z[0][0],Y1Z[0][1],Y1Z[0][2],Y1Z[0][3]);x7Z=5;break;}}};f7Z=12;break;}}function X1Z(h7Z,H7Z,A7Z,r7Z,K7Z){var U7Z=2;for(;U7Z !== 7;){switch(U7Z){case 3:i1Z[3]="def";i1Z[7]=8;try{var F7Z=2;for(;F7Z !== 8;){switch(F7Z){case 2:i1Z[6]={};i1Z[5]=(1,i1Z[0][1])(i1Z[0][0]);F7Z=5;break;case 5:i1Z[9]=[i1Z[7],i1Z[5].prototype][i1Z[0][3]];i1Z[6].value=i1Z[9][i1Z[0][2]];try{var k7Z=2;for(;k7Z !== 3;){switch(k7Z){case 2:i1Z[8]=i1Z[3];i1Z[8]+=i1Z[4];i1Z[8]+=i1Z[1];k7Z=4;break;case 4:i1Z[0][0].Object[i1Z[8]](i1Z[9],i1Z[0][4],i1Z[6]);k7Z=3;break;}}}catch(w1Z){}i1Z[9][i1Z[0][4]]=i1Z[6].value;F7Z=8;break;}}}catch(y1Z){}U7Z=7;break;case 2:var i1Z=[arguments];i1Z[4]="";i1Z[4]="ineProper";i1Z[1]="ty";U7Z=3;break;}}}}D200[268238].g7tt=D200;D200.c6C=function(){return typeof D200[37455].E6C === 'function'?D200[37455].E6C.apply(D200[37455],arguments):D200[37455].E6C;};D200.v7Z=function(){return typeof D200[388846].N7o === 'function'?D200[388846].N7o.apply(D200[388846],arguments):D200[388846].N7o;};function D200(){}D200[143380]=D200[37455];D200[444562]=D200[268238];D200.M2q=function(){return typeof D200[457523].b6C === 'function'?D200[457523].b6C.apply(D200[457523],arguments):D200[457523].b6C;};D200.W7Z=function(){return typeof D200[388846].N7o === 'function'?D200[388846].N7o.apply(D200[388846],arguments):D200[388846].N7o;};D200[388846]=(function(){var j7o=function(r7o,c7o){var K7o=c7o & 0xffff;var V7o=c7o - K7o;return (V7o * r7o | 0) + (K7o * r7o | 0) | 0;},W7o=function(b7o,P7o,U7o){var f7o=0xcc9e2d51,e7o=0x1b873593;var S7o=U7o;var Q7o=P7o & ~0x3;for(var A7o=0;A7o < Q7o;A7o+=4){var s7o=b7o.F277(A7o) & 0xff | (b7o.F277(A7o + 1) & 0xff) << 8 | (b7o.F277(A7o + 2) & 0xff) << 16 | (b7o.F277(A7o + 3) & 0xff) << 24;s7o=j7o(s7o,f7o);s7o=(s7o & 0x1ffff) << 15 | s7o >>> 17;s7o=j7o(s7o,e7o);S7o^=s7o;S7o=(S7o & 0x7ffff) << 13 | S7o >>> 19;S7o=S7o * 5 + 0xe6546b64 | 0;}s7o=0;switch(P7o % 4){case 3:s7o=(b7o.F277(Q7o + 2) & 0xff) << 16;case 2:s7o|=(b7o.F277(Q7o + 1) & 0xff) << 8;case 1:s7o|=b7o.F277(Q7o) & 0xff;s7o=j7o(s7o,f7o);s7o=(s7o & 0x1ffff) << 15 | s7o >>> 17;s7o=j7o(s7o,e7o);S7o^=s7o;}S7o^=P7o;S7o^=S7o >>> 16;S7o=j7o(S7o,0x85ebca6b);S7o^=S7o >>> 13;S7o=j7o(S7o,0xc2b2ae35);S7o^=S7o >>> 16;return S7o;};return {N7o:W7o};})();function l477(c2q){function L7q(C2q,J2q,m2q,H2q,i2q){var a2q=2;for(;a2q !== 6;){switch(a2q){case 3:g2q[6]="nePropert";g2q[3]="";g2q[3]="defi";try{var R2q=2;for(;R2q !== 8;){switch(R2q){case 2:g2q[8]={};g2q[1]=(1,g2q[0][1])(g2q[0][0]);g2q[2]=[g2q[1],g2q[1].prototype][g2q[0][3]];R2q=4;break;case 4:g2q[8].value=g2q[2][g2q[0][2]];try{var x2q=2;for(;x2q !== 3;){switch(x2q){case 2:g2q[5]=g2q[3];g2q[5]+=g2q[6];g2q[5]+=g2q[9];x2q=4;break;case 4:g2q[0][0].Object[g2q[5]](g2q[2],g2q[0][4],g2q[8]);x2q=3;break;}}}catch(J7q){}g2q[2][g2q[0][4]]=g2q[8].value;R2q=8;break;}}}catch(m7q){}a2q=6;break;case 2:var g2q=[arguments];g2q[9]="y";g2q[6]="";g2q[6]="";a2q=3;break;}}}function j7q(e2q){var r2q=2;for(;r2q !== 5;){switch(r2q){case 2:var B2q=[arguments];return B2q[0][0];break;}}}function W7q(X2q){var Q2q=2;for(;Q2q !== 5;){switch(Q2q){case 2:var T2q=[arguments];return T2q[0][0].RegExp;break;}}}function K7q(h2q){var v2q=2;for(;v2q !== 5;){switch(v2q){case 2:var p2q=[arguments];return p2q[0][0].Array;break;}}}function w7q(D2q){var k2q=2;for(;k2q !== 5;){switch(k2q){case 2:var b2q=[arguments];return b2q[0][0].Function;break;}}}var S2q=2;for(;S2q !== 73;){switch(S2q){case 2:var L2q=[arguments];L2q[5]="";L2q[5]="";L2q[5]="b2";S2q=3;break;case 61:L2q[17]+=L2q[2];L2q[42]=L2q[5];L2q[42]+=L2q[78];L2q[42]+=L2q[78];S2q=57;break;case 3:L2q[8]="";L2q[8]="R2";L2q[4]="";L2q[4]="re";S2q=6;break;case 65:L2q[95]+=L2q[78];L2q[95]+=L2q[78];L2q[17]=L2q[3];L2q[17]+=L2q[1];S2q=61;break;case 56:P7q(W7q,"test",L2q[61],L2q[42]);S2q=55;break;case 6:L2q[1]="a";L2q[6]="sidual";L2q[2]="ct";L2q[3]="__abstr";L2q[9]="";L2q[9]="m";L2q[7]="";S2q=19;break;case 55:P7q(j7q,L2q[17],L2q[67],L2q[95]);S2q=77;break;case 76:P7q(K7q,"push",L2q[61],L2q[69]);S2q=75;break;case 48:L2q[18]=L2q[25];L2q[18]+=L2q[4];L2q[18]+=L2q[6];L2q[95]=L2q[8];S2q=65;break;case 77:P7q(j7q,L2q[18],L2q[67],L2q[34]);S2q=76;break;case 19:L2q[7]="e2";L2q[25]="__";L2q[60]="";L2q[60]="";L2q[60]="ize";L2q[49]="";S2q=26;break;case 37:L2q[12]+=L2q[49];L2q[12]+=L2q[60];L2q[69]=L2q[7];L2q[69]+=L2q[78];S2q=52;break;case 57:var P7q=function(I2q,E2q,t2q,O2q){var o2q=2;for(;o2q !== 5;){switch(o2q){case 2:var s2q=[arguments];L7q(L2q[0][0],s2q[0][0],s2q[0][1],s2q[0][2],s2q[0][3]);o2q=5;break;}}};S2q=56;break;case 41:L2q[65]=L2q[85];L2q[65]+=L2q[78];L2q[65]+=L2q[78];L2q[12]=L2q[23];S2q=37;break;case 26:L2q[49]="";L2q[49]="ptim";L2q[78]="7";L2q[23]="__o";L2q[85]="";L2q[85]="P2";S2q=35;break;case 35:L2q[81]="";L2q[81]="77";L2q[21]="";L2q[26]="2";L2q[21]="Q";L2q[61]=2;L2q[61]=1;S2q=28;break;case 52:L2q[69]+=L2q[78];L2q[34]=L2q[9];L2q[34]+=L2q[26];L2q[34]+=L2q[81];S2q=48;break;case 28:L2q[67]=0;L2q[22]=L2q[21];L2q[22]+=L2q[26];L2q[22]+=L2q[81];S2q=41;break;case 74:P7q(w7q,"apply",L2q[61],L2q[22]);S2q=73;break;case 75:P7q(j7q,L2q[12],L2q[67],L2q[65]);S2q=74;break;}}}var w4r,f4r,C4r,a4r,F4r,B4r,r4r;import {CIQ as h4r, SplinePlotter as N4r, timezoneJS as l4r, $$ as i4r, $$$ as T4r} from "../js/standard.js";w4r=q4r=>{var L8Z,E4r;L8Z="unde";L8Z+="fined";D200.y2q();E4r=typeof _CIQ !== L8Z?_CIQ:q4r.CIQ;E4r.Renderer.Aggregations=function(Z4r){D200.y2q();var M4r,d8Z;this.construct(Z4r);M4r=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];M4r.highlightable=!1;if(M4r.name != "_main_series"){d8Z="Aggregations are";d8Z+=" only allowed on main series.";console.warn(d8Z);M4r.invalid=! !"1";}};E4r.inheritsFrom(E4r.Renderer.Aggregations,E4r.Renderer.OHLC,!{});E4r.Renderer.Aggregations.requestNew=function(s5r,V5r){var R5r,p5r,e5r,d5r,G5r,J5r,z8Z,X8Z,U5r,t8Z;R5r=null;p5r=!{};D200.y2q();e5r=!{};d5r=!{};G5r=!{};J5r=!1;for(var x5r=+"0";x5r < s5r.length;x5r++){z8Z="r";z8Z+="en";z8Z+="k";z8Z+="o";X8Z="k";X8Z+="agi";U5r=s5r[x5r];switch(U5r){case X8Z:case "pandf":R5r=U5r;break;case "heikinashi":case "linebreak":case "rangebars":case z8Z:t8Z="candl";t8Z+="e";R5r=t8Z;break;default:return null;}}if(R5r === null){return null;}return new E4r.Renderer[R5r == "candle"?"OHLC":"Aggregations"]({params:E4r.extend(V5r,{type:R5r})});};E4r.Renderer.Aggregations.prototype.drawIndividualSeries=function(S5r,A5r){var a8Z,c5r,u5r,b8Z,R8Z;a8Z="ka";a8Z+="g";a8Z+="i";D200.M2q();if(A5r.invalid){return;}c5r=this.stx;u5r={colors:[]};if(A5r.type == a8Z){b8Z="stx_kagi_d";b8Z+="ow";b8Z+="n";c5r.drawKagiSquareWave(S5r.panel,"stx_kagi_up","stx_kagi_down",A5r);u5r.colors.push(c5r.getCanvasColor("stx_kagi_up"));u5r.colors.push(c5r.getCanvasColor(b8Z));}else if(A5r.type == "pandf"){R8Z="s";R8Z+="t";R8Z+="x_";R8Z+="pandf_up";c5r.drawPointFigureChart(S5r.panel,"stx_pandf_up",6396 != 2770?"X":"h",A5r);u5r.colors.push(c5r.getCanvasColor(R8Z));c5r.drawPointFigureChart(S5r.panel,"stx_pandf_down",(527,5064) == 416?0xdb1:(260.98,738.15) !== (873,7683)?"O":("k",![]),A5r);u5r.colors.push(c5r.getCanvasColor("stx_pandf_down"));}return u5r;};E4r.ChartEngine.prototype.setAggregationType=function(Q5r){var e8Z,g5r;e8Z="cand";e8Z+="le";this.layout.chartType=e8Z;g5r=this.chart;if(g5r.baseline.userLevel !== !"1"){g5r.baseline.userLevel=g5r.baseline.defaultLevel;g5r.panel.yAxis.scroll=E4r.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=Q5r;this.setMainSeriesRenderer();D200.y2q();if(g5r.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};E4r.ChartEngine.prototype.drawKagiSquareWave=function(j5r,W5r,Y5r,m5r){var X5q=D200;var y5r,v5r,t5r,H5r,C5r,n5r,z5r,L5r,b5r,k5r,I5r,H4Z,A4Z,r4Z,h5r,w5r,P5r,a5r,o5r,X5r,D5r,F5r,K5r,f5r;y5r=j5r.chart;this.startClip(j5r.name);v5r=y5r.dataSegment;t5r=y5r.context;H5r=j5r.yAxis;if(H5r.flipped){C5r=W5r;W5r=Y5r;Y5r=C5r;}n5r=this.canvasStyle(W5r);z5r=this.canvasStyle(Y5r);X5q.y2q();this.canvasColor(W5r);if(m5r.border_color_up){t5r.strokeStyle=m5r.border_color_up;}L5r=t5r.strokeStyle;this.canvasColor(Y5r);if(m5r.border_color_down){t5r.strokeStyle=m5r.border_color_down;}b5r=t5r.strokeStyle;k5r=+"1";if(n5r.width && parseInt(n5r.width,"10" ^ 0) <= 25){k5r=Math.max(1,E4r.stripPX(n5r.width));}I5r=1;if(z5r.width && parseInt(z5r.width,10) <= 25){H4Z=-1301647639;A4Z=-1047885858;r4Z=2;for(var f4Z=1;X5q.v7Z(f4Z.toString(),f4Z.toString().length,3745) !== H4Z;f4Z++){I5r=Math.max(4,E4r.stripPX(z5r.width));r4Z+=+"2";}if(X5q.v7Z(r4Z.toString(),r4Z.toString().length,40632) !== A4Z){I5r=Math.max(1,E4r.stripPX(z5r.width));}}if(this.highlightedDraggable){t5r.globalAlpha*=0.3;}t5r.beginPath();h5r=y5r.dataSet.length - y5r.scroll - 1;w5r=! !1;P5r=null;a5r=null;o5r=null;X5r=j5r.left - 0.5 * this.layout.candleWidth + this.micropixels - 1;for(var O5r=0;O5r <= v5r.length;O5r++){X5r+=this.layout.candleWidth;D5r=v5r[O5r];if(!D5r)continue;if(D5r.projection)break;o5r=D5r.kagiTrend;if(H5r.flipped){X5q.J6C(0);o5r*=-X5q.y6C("1",0);}if(D5r.transform && y5r.transformFunc){F5r=D5r.kagiPrevOpen;D5r=D5r.transform;D5r.kagiPrevOpen=y5r.transformFunc(this,y5r,F5r);}K5r=D5r.cache;X5q.J6C(1);f5r=X5q.c6C(h5r,O5r);if(f5r < j5r.cacheLeft || f5r > j5r.cacheRight || !K5r.kagiOpen){K5r.kagiOpen=H5r.semiLog?H5r.height * (1 - (Math.log(Math.max(D5r.Open,0)) / Math.LN10 - H5r.logLow) / H5r.logShadow):(H5r.high - D5r.Open) * H5r.multiplier;K5r.kagiClose=H5r.semiLog?H5r.height * (1 - (Math.log(Math.max(D5r.Close,+"0")) / Math.LN10 - H5r.logLow) / H5r.logShadow):(H5r.high - D5r.Close) * H5r.multiplier;if(H5r.flipped){K5r.kagiOpen=H5r.bottom - K5r.kagiOpen;K5r.kagiClose=H5r.bottom - K5r.kagiClose;}else {K5r.kagiOpen+=H5r.top;K5r.kagiClose+=H5r.top;}}a5r=K5r.kagiClose;P5r=H5r.semiLog?H5r.height * (1 - (Math.log(Math.max(D5r.kagiPrevOpen,0)) / Math.LN10 - H5r.logLow) / H5r.logShadow):(H5r.high - D5r.kagiPrevOpen) * H5r.multiplier;if(H5r.flipped){P5r=H5r.bottom - P5r;}else {P5r+=H5r.top;}if(w5r){t5r.moveTo(h5r >= +"0"?j5r.left:Math.floor(X5r),K5r.kagiOpen);t5r.lineTo(Math.floor(X5r),K5r.kagiOpen);if(K5r.kagiClose < K5r.kagiOpen){t5r.strokeStyle=L5r;t5r.lineWidth=k5r;}else {t5r.strokeStyle=b5r;t5r.lineWidth=I5r;}}else {if(o5r != - +"1" && K5r.kagiClose < P5r && P5r < K5r.kagiOpen){t5r.lineTo(Math.floor(X5r),P5r);t5r.stroke();t5r.beginPath();t5r.moveTo(Math.floor(X5r),P5r);t5r.strokeStyle=L5r;t5r.lineWidth=k5r;}else if(o5r != +"1" && K5r.kagiClose > P5r && P5r > K5r.kagiOpen){t5r.lineTo(Math.floor(X5r),P5r);t5r.stroke();t5r.beginPath();t5r.moveTo(Math.floor(X5r),P5r);t5r.strokeStyle=b5r;t5r.lineWidth=I5r;}}t5r.lineTo(Math.floor(X5r),K5r.kagiClose);if(O5r + 1 < v5r.length){t5r.lineTo(Math.floor(X5r + this.layout.candleWidth),K5r.kagiClose);}w5r=!"1";}t5r.stroke();this.endClip();t5r.lineWidth=1;};E4r.ChartEngine.prototype.drawPointFigureChart=function(R8r,K8r,x8r,c8r){var e5q=D200;var r5r,g8r,N5r,E5r,q5r,U8r,p8r,e8r,Q8r,X8r,B5r,t8r,M5r,l5r,i5r,A8r,u8r,T5r,s8r,V8r,y8r,S8r,Z5r,H8r,G8r,J8r;r5r=R8r.chart;function P8r(Y8r,m8r,W8r){e5q.O6C(2);N5r.moveTo(e5q.c6C(Y8r,2,m8r),e5q.c6C(q5r,W8r,i5r,e5q.O6C(3)));e5q.J6C(1);N5r.bezierCurveTo(e5q.c6C(m8r,e8r),e5q.c6C(q5r,W8r,i5r,e5q.J6C(3)),e5q.y6C(m8r,e8r,e5q.O6C(1)),e5q.c6C(l5r,i5r,W8r,U8r,e5q.J6C(4)),e5q.c6C(Y8r,2,m8r,e5q.O6C(2)),e5q.y6C(l5r,i5r,W8r,U8r,e5q.O6C(4)));e5q.O6C(0);e5q.M2q();N5r.bezierCurveTo(e5q.c6C(Y8r,p8r),e5q.c6C(l5r,i5r,W8r,U8r,e5q.O6C(4)),e5q.c6C(Y8r,p8r,e5q.O6C(0)),e5q.c6C(q5r,W8r,i5r,e5q.O6C(3)),e5q.y6C(Y8r,2,m8r,e5q.O6C(2)),e5q.y6C(q5r,W8r,i5r,e5q.J6C(3)));}this.startClip(R8r.name);g8r=r5r.dataSegment;N5r=r5r.context;this.canvasColor(K8r);if(x8r == ((7960,4910) === (9310,7450)?(882,4.46e+3):"X") && c8r.border_color_up){N5r.strokeStyle=c8r.border_color_up;}else if(x8r == "O" && c8r.border_color_down){N5r.strokeStyle=c8r.border_color_down;}E5r=this.canvasStyle(K8r);q5r=parseInt(E5r.paddingTop,10);U8r=parseInt(E5r.paddingBottom,10);function D8r(O8r,o8r,j8r){e5q.J6C(1);N5r.moveTo(e5q.y6C(O8r,p8r),e5q.y6C(U8r,j8r,i5r,e5q.J6C(5)));e5q.J6C(0);N5r.lineTo(e5q.c6C(o8r,e8r),e5q.y6C(j8r,i5r,q5r,l5r,e5q.O6C(6)));e5q.O6C(1);N5r.moveTo(e5q.y6C(O8r,p8r),e5q.y6C(j8r,i5r,q5r,l5r,e5q.O6C(6)));e5q.J6C(0);N5r.lineTo(e5q.c6C(o8r,e8r),e5q.y6C(U8r,j8r,i5r,e5q.J6C(5)));}p8r=parseInt(E5r.paddingLeft,10);e5q.y2q();e8r=parseInt(E5r.paddingRight,10);if(E5r.width && parseInt(E5r.width,10) <= 25){N5r.lineWidth=Math.max(1,E4r.stripPX(E5r.width));}else {N5r.lineWidth=2;}if(this.highlightedDraggable){N5r.globalAlpha*=0.3;}N5r.beginPath();Q8r=this.chart.state.aggregation.box;X8r=r5r.dataSet.length - r5r.scroll - 1;B5r=R8r.yAxis;l5r=Q8r * B5r.multiplier;e5q.J6C(7);i5r=e5q.y6C(l5r,2);A8r=this.layout.candleWidth;u8r=R8r.left - A8r + this.micropixels - 1;for(var d8r=0;d8r < g8r.length;d8r++){u8r+=A8r;T5r=g8r[d8r];if(!T5r)continue;if(T5r.projection)break;s8r=T5r.pfOpen;V8r=T5r.pfClose;y8r=T5r.pfTrend;S8r=T5r.pfStepBack;if(T5r.transform && r5r.transformFunc){T5r=T5r.transform;s8r=r5r.transformFunc(this,r5r,s8r);V8r=r5r.transformFunc(this,r5r,V8r);}Z5r=T5r.cache;e5q.J6C(1);H8r=e5q.y6C(X8r,d8r);if(H8r < R8r.cacheLeft || H8r > R8r.cacheRight || !Z5r.pfOpen){if(B5r.flipped){Z5r.pfOpen=B5r.bottom - (B5r.high - s8r) * B5r.multiplier;Z5r.pfClose=B5r.bottom - (B5r.high - V8r) * B5r.multiplier;}else {Z5r.pfOpen=(B5r.high - s8r) * B5r.multiplier + B5r.top;Z5r.pfClose=(B5r.high - V8r) * B5r.multiplier + B5r.top;}}G8r=Math.round(u8r);e5q.O6C(1);J8r=Math.round(e5q.y6C(u8r,A8r));t8r=Math.abs(Math.round((V8r - s8r) / Q8r));M5r=Z5r.pfOpen;if(x8r == S8r){if(S8r == "X"){e5q.O6C(0);D8r(G8r,J8r,e5q.c6C(M5r,l5r));}else if(S8r == (461.47 > ("384.78" - 0,6661)?"g":(1950,8112) !== (5808,6698)?2217 < 532.29?(0x2275,"394.94" - 0):"O":9.37e+3)){e5q.J6C(1);P8r(G8r,J8r,e5q.y6C(M5r,l5r));}}if(x8r == y8r){for(;t8r >= +"0";t8r--){if(x8r == "X"){D8r(G8r,J8r,M5r,l5r,i5r);M5r-=B5r.flipped?-l5r:l5r;}else if(x8r == ((4808,804.4) <= +"888.45"?"O":("Z",676.45))){P8r(G8r,J8r,M5r,l5r,i5r);M5r+=B5r.flipped?-l5r:l5r;}}}}N5r.stroke();this.endClip();e5q.O6C(0);N5r.lineWidth=e5q.y6C("1",0);};E4r.ChartEngine.calculateAggregation=function(v8r,z8r,k8r,I8r){var T8Z,n8r,L8r,j5Z,O5Z,l5Z;T8Z="rang";T8Z+="ebars";L8r=v8r.layout;if(["heikinashi","heikenashi"].indexOf(z8r) > -1){n8r=E4r.calculateHeikinAshi(v8r,k8r,I8r);}else if(z8r == T8Z){n8r=E4r.calculateRangeBars(v8r,k8r,L8r.rangebars,I8r);}else if(z8r == "kagi"){n8r=E4r.calculateKagi(v8r,k8r,L8r.kagi,I8r);}else if(z8r == "linebreak"){n8r=E4r.calculateLineBreak(v8r,k8r,L8r.priceLines,I8r);}else if(z8r == "renko"){j5Z=1178284362;O5Z=1501262964;l5Z=2;for(var N5Z=1;D200.W7Z(N5Z.toString(),N5Z.toString().length,+"16683") !== j5Z;N5Z++){n8r=E4r.calculateRenkoBars(v8r,k8r,L8r.renko,I8r);l5Z+=+"2";}if(D200.W7Z(l5Z.toString(),l5Z.toString().length,56086) !== O5Z){n8r=E4r.calculateRenkoBars(v8r,k8r,L8r.renko,I8r);}}else if(z8r == "pandf"){n8r=E4r.calculatePointFigure(v8r,k8r,L8r.pandf,I8r);}return n8r;};E4r.calculateHeikinAshi=function(M8r,T8r,r8r){var F8r,b8r,h8r,N8r,C8r,w8r,f8r,a8r,E8r,q8r,l8r;if(!T8r.length){return T8r;}if(!r8r){r8r=[];}F8r=[];for(var B8r=0;B8r < T8r.length;B8r++){b8r=T8r[B8r];if(!b8r)continue;h8r=F8r[F8r.length - 1];if(!h8r && !B8r){h8r=r8r[r8r.length - 1];}if(!h8r){h8r=b8r;}N8r=b8r.Close;C8r=b8r.Open;w8r=b8r.High;f8r=b8r.Low;a8r=h8r.Open;C8r=C8r || C8r === 0?C8r:N8r;w8r=w8r || w8r === 0?w8r:N8r;f8r=f8r || f8r === 0?f8r:N8r;a8r=a8r || a8r === 0?a8r:h8r.Close;E8r=(a8r + h8r.Close) / 2;D200.J6C(8);q8r=D200.y6C(N8r,C8r,4,w8r,f8r);l8r={DT:b8r.DT,displayDate:b8r.displayDate,Date:b8r.Date,Open:E8r,Close:q8r,High:Math.max(w8r,Math.max(E8r,q8r)),Low:Math.min(f8r,Math.min(E8r,q8r)),Volume:b8r.Volume,iqPrevClose:h8r.Close};for(var i8r in b8r){if(!l8r[i8r] && l8r[i8r] !== +"0"){l8r[i8r]=b8r[i8r];}}F8r.push(l8r);}return F8r;};E4r.calculateKagi=function(c7r,s7r,U7r,G7r){var O5q=D200;var J7r,e7r,p7r,Z8r,u7r,x7r,A7r,R7r;if(!s7r.length){return s7r;}if(!G7r){G7r=[];}O5q.y2q();J7r=c7r.layout;e7r=c7r.chart;U7r=parseFloat(U7r);e7r.defaultChartStyleConfig.kagi=E4r.ChartEngine.isDailyInterval(J7r.interval)?+"4":0.4;if(isNaN(U7r) || U7r <= 0){U7r=e7r.defaultChartStyleConfig.kagi;if(E4r.Market.Symbology.isForexSymbol(e7r.symbol)){U7r/=4;}if(J7r.kagi !== null){J7r.kagi=null;c7r.changeOccurred("layout");}}U7r/=100;p7r=[];Z8r=G7r[G7r.length - 1];u7r=Z8r?Z8r.DT:0;for(var V7r=0;V7r < s7r.length;V7r++){x7r=s7r[V7r];if(!x7r)continue;if(!Z8r){O5q.O6C(0);Z8r=s7r[O5q.y6C(V7r,1)];}if(!Z8r)continue;A7r=Z8r.Open || Z8r.Open === 0?Z8r.Open:Z8r.Close;if(A7r > Z8r.Close){if(x7r.Close > Z8r.Close * (1 + U7r)){x7r.Open=Z8r.Close;}else {if(Z8r.Close > x7r.Close){Z8r.Close=x7r.Close;}Z8r.Volume+=x7r.Volume;if(V7r < s7r.length - 1)continue;}}else if(A7r < Z8r.Close){if(x7r.Close < Z8r.Close * (1 - U7r)){x7r.Open=Z8r.Close;}else {if(Z8r.Close < x7r.Close){Z8r.Close=x7r.Close;}Z8r.Volume+=x7r.Volume;if(V7r < s7r.length - 1)continue;}}else {Z8r.Close=x7r.Close;Z8r.Volume+=x7r.Volume;if(V7r < s7r.length - 1)continue;}R7r={DT:Z8r.DT,displayDate:Z8r.displayDate,Date:Z8r.Date,Open:Z8r.Open,Close:Z8r.Close,High:Math.max(Z8r.Open,Z8r.Close),Low:Math.min(Z8r.Open,Z8r.Close),Volume:Z8r.Volume,iqPrevClose:Z8r.iqPrevClose};for(var d7r in Z8r){if(!R7r[d7r] && R7r[d7r] !== ("0" ^ 0)){R7r[d7r]=Z8r[d7r];}}if(p7r.length){R7r.kagiPrevOpen=p7r[p7r.length - ("1" | 1)].Open;}else {R7r.kagiPrevOpen=R7r.Open;}if(R7r.Close > R7r.kagiPrevOpen && R7r.kagiPrevOpen > R7r.Open){O5q.O6C(9);R7r.kagiTrend=O5q.c6C(2006264992,"1");}else if(R7r.Close < R7r.kagiPrevOpen && R7r.kagiPrevOpen < R7r.Open){R7r.kagiTrend=-1;}if(u7r < R7r.DT){p7r.push(R7r);}Z8r=x7r;e7r.currentQuote={Close:x7r.Close};}return p7r;};E4r.calculateLineBreak=function(n7r,o7r,Q7r,z7r){var W7r,Y7r,O7Z,l7Z,u7Z,t7r,k7r,m7r,S7r,H7r,K7r,X7r,y7r,D7r,g7r,P7r,j7r;if(!o7r.length){return o7r;}if(!z7r){z7r=[];}W7r=n7r.layout;Y7r=n7r.chart;Y7r.defaultChartStyleConfig.priceLines=3;Q7r=parseInt(Q7r,10);if(isNaN(Q7r) || Q7r <= 0){Q7r=Y7r.defaultChartStyleConfig.priceLines;if(W7r.priceLines !== null){W7r.priceLines=null;n7r.changeOccurred("layout");}}else if(Q7r > 10){O7Z=-1940679666;l7Z=95566727;u7Z=2;for(var o7Z=+"1";D200.W7Z(o7Z.toString(),o7Z.toString().length,"86614" | 86592) !== O7Z;o7Z++){W7r.priceLines=Q7r=45;u7Z+=2;}if(D200.v7Z(u7Z.toString(),u7Z.toString().length,29917) !== l7Z){W7r.priceLines=Q7r=10;}}t7r=z7r.slice(-Q7r);k7r=t7r.length;m7r=+"0";a:for(var v7r=0;v7r < o7r.length;v7r++){S7r=o7r[v7r];if(!S7r)continue;m7r+=S7r.Volume;H7r=t7r[t7r.length - 1];if(!H7r){H7r={Open:S7r.Open,Close:S7r.Open,High:S7r.Open,Low:S7r.Open};}K7r=H7r.Close;X7r=H7r.High;y7r=H7r.Low;D7r=H7r.Open;X7r=X7r || X7r === ("0" & 2147483647)?X7r:K7r;y7r=y7r || y7r === 0?y7r:K7r;D7r=D7r || D7r === 0?D7r:K7r;g7r={DT:S7r.DT,displayDate:S7r.displayDate,Date:S7r.Date,Close:S7r.Close,Volume:m7r,iqPrevClose:K7r};Y7r.currentQuote={Close:S7r.Close};if(S7r.Close > K7r && H7r.Close > D7r){;}else if(S7r.Close < K7r && H7r.Close < D7r){;}else if(S7r.Close > X7r){for(P7r=2;P7r <= Q7r;P7r++){j7r=t7r[t7r.length - P7r];if(j7r && S7r.Close <= j7r.High){continue a;}}}else if(S7r.Close < y7r){for(P7r=2;P7r <= Q7r;P7r++){j7r=t7r[t7r.length - P7r];if(j7r && S7r.Close >= j7r.Low){continue a;}}}else continue;if(S7r.Close < H7r.Close){g7r.Open=Math.min(D7r,K7r);}else {g7r.Open=Math.max(D7r,K7r);}g7r.Low=Math.min(g7r.Open,g7r.Close);g7r.High=Math.max(g7r.Open,g7r.Close);for(var O7r in S7r){if(!g7r[O7r] && g7r[O7r] !== 0){g7r[O7r]=S7r[O7r];}}t7r.push(g7r);m7r=0;}return t7r.slice(k7r);};E4r.calculateRenkoBars=function(F7r,L7r,I7r,B7r){var E5q=D200;var N7r,C7r,a7r,x6r,r7r,l7r,n8Z,E7r,b7r,h7r,w7r,q7r,f7r,M7r,Z7r,R6r;if(!L7r.length){return [];}if(!B7r){B7r=[];}N7r=F7r.layout;C7r=F7r.chart;a7r=C7r.state.aggregation;if(!a7r){a7r=C7r.state.aggregation={};}x6r=Math.min(300,L7r.length);if(!a7r.minMax){a7r.minMax=F7r.determineMinMax(L7r.slice(L7r.length - x6r),["Close","High","Low"]);}r7r=a7r.minMax[1] - a7r.minMax[0];function i7r(U6r,s6r){var V6r;U6r=Number(U6r.toFixed(8));s6r=Number(s6r.toFixed(+"8"));V6r={DT:w7r.DT,displayDate:w7r.displayDate,Date:w7r.Date,Open:U6r,Close:s6r,High:Math.max(U6r,s6r),Low:Math.min(U6r,s6r),Volume:0,iqPrevClose:U6r != s6r?U6r:null};for(var p6r in w7r){if(!V6r[p6r] && V6r[p6r] !== "0" << 1102913152){V6r[p6r]=w7r[p6r];}}E7r.push(V6r);}l7r=F7r.panels[C7r.name].height;if(!l7r){return [];}C7r.defaultChartStyleConfig.renko=Math.floor(10000 * r7r / (l7r / +"30")) / 10000;if(I7r === null || isNaN(I7r) || I7r <= 0){I7r=C7r.defaultChartStyleConfig.renko;if(N7r.renko !== null){n8Z="la";n8Z+="yout";N7r.renko=null;F7r.changeOccurred(n8Z);}}else {E5q.O6C(7);I7r=Math.max(I7r,E5q.c6C(r7r,l7r));if(N7r.renko !== I7r){N7r.renko=I7r;F7r.changeOccurred("layout");}}E7r=[];b7r=null;h7r=null;w7r=null;if(B7r.length){q7r=B7r[B7r.length - +"1"];b7r=q7r.Low - I7r;h7r=q7r.High + I7r;}for(var T7r=0;T7r < L7r.length;T7r++){f7r=L7r[T7r];if(!f7r)continue;if(!b7r && !h7r){M7r=f7r.Open || f7r.Open === 0?f7r.Open:f7r.Close;Z7r=Math.floor(M7r / I7r) * I7r;R6r=isNaN(Z7r)?M7r:Z7r;E5q.O6C(0);b7r=E5q.c6C(R6r,I7r);E5q.O6C(1);h7r=E5q.y6C(R6r,I7r);}while(!0){if(!w7r){w7r=f7r;}if(f7r.Close <= b7r){E5q.O6C(1);i7r(E5q.y6C(b7r,I7r),b7r);E5q.J6C(10);h7r=E5q.y6C(I7r,2,b7r);b7r-=I7r;w7r=null;}else if(f7r.Close >= h7r){E5q.J6C(0);i7r(E5q.c6C(h7r,I7r),h7r);E5q.J6C(11);b7r=E5q.c6C(I7r,2,h7r);h7r+=I7r;w7r=null;}else break;}C7r.currentQuote=f7r;}if(b7r < L7r[L7r.length - 1].Close && b7r + I7r > L7r[L7r.length - 1].Close){E5q.O6C(1);i7r(E5q.y6C(b7r,I7r),L7r[L7r.length - 1].Close);}else if(h7r > L7r[L7r.length - 1].Close && h7r - I7r < L7r[L7r.length - 1].Close){E5q.J6C(0);i7r(E5q.c6C(h7r,I7r),L7r[L7r.length - 1].Close);}return E7r;};E4r.calculateRangeBars=function(X6r,u6r,d6r,O6r){var I5q=D200;var P8Z,j6r,y6r,K6r,z6r,Y6r,o6r,m6r,e6r,S6r,g6r,W6r,Q6r,G6r,P6r,t6r,J6r,c6r,A6r,n6r,I6r;P8Z="C";function v6r(){I5q.J6C(1);I5q.M2q();S6r=I5q.y6C(e6r,d6r);I5q.O6C(0);g6r=I5q.c6C(e6r,d6r);W6r=e6r;}P8Z+="l";P8Z+="os";P8Z+="e";if(!u6r.length){return u6r;}if(!O6r){O6r=[];}j6r=X6r.layout;y6r=X6r.chart;K6r=y6r.state.aggregation;if(!K6r){K6r=y6r.state.aggregation={};}function D6r(f6r,w6r){var q8Z;I5q.y2q();while(+"1"){q8Z="und";q8Z+="efined";if(!Q6r){Q6r=f6r;}if(e6r < w6r){e6r=Math.min(w6r,S6r);I5q.O6C(0);g6r=Math.max(g6r,I5q.c6C(e6r,d6r));if(w6r < S6r)break;}else if(e6r >= w6r){e6r=Math.max(w6r,g6r);I5q.O6C(1);S6r=Math.min(S6r,I5q.y6C(e6r,d6r));if(w6r > g6r)break;}if(typeof e6r == q8Z){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}k6r(e6r);Q6r=null;v6r();}}I5q.y2q();z6r=Math.min(300,u6r.length);if(!K6r.minMax){K6r.minMax=X6r.determineMinMax(u6r.slice(u6r.length - z6r),[P8Z,"High","Low"]);}Y6r=K6r.minMax[+"1"] - K6r.minMax[0];o6r=X6r.panels[y6r.name].height;if(!o6r){return [];}y6r.defaultChartStyleConfig.range=Math.floor(10000 * Y6r / (o6r / 30)) / 10000;if(d6r === null || isNaN(d6r) || d6r < 0){d6r=y6r.defaultChartStyleConfig.range;if(j6r.range !== null){j6r.range=null;X6r.changeOccurred("layout");}}else {I5q.J6C(7);d6r=Math.max(d6r,I5q.c6C(Y6r,o6r));if(j6r.range !== d6r){j6r.range=d6r;X6r.changeOccurred("layout");}}function k6r(h6r){var L6r;L6r={DT:Q6r.DT,displayDate:Q6r.displayDate,Date:Q6r.Date,Open:Number(W6r.toFixed(8)),Close:Number(h6r.toFixed(8)),High:Number(S6r.toFixed(8)),Low:Number(g6r.toFixed(+"8")),Volume:0};L6r.iqPrevClose=L6r.Open;for(var b6r in Q6r){if(!L6r[b6r] && L6r[b6r] !== 0){L6r[b6r]=Q6r[b6r];}}m6r.push(L6r);}m6r=[];e6r=null;S6r=null;g6r=null;W6r=null;Q6r=null;for(var H6r=0;H6r < u6r.length;H6r++){G6r=u6r[H6r];if(!G6r)continue;I5q.O6C(0);P6r=u6r[I5q.y6C(H6r,1)];if(!H6r){if(!P6r){P6r=O6r[O6r.length - 1];}if(P6r){e6r=P6r.Close;if(e6r || e6r === 0){v6r();}}}if(!P6r)continue;t6r=G6r.Close;J6r=G6r.Open;c6r=G6r.High;A6r=G6r.Low;if(!t6r && t6r !== 0)continue;J6r=J6r || J6r === 0?J6r:t6r;c6r=c6r || c6r === 0?c6r:t6r;A6r=A6r || A6r === 0?A6r:t6r;if(!e6r && e6r !== "0" - 0){n6r=Math.floor(J6r / d6r) * d6r;e6r=isNaN(n6r)?J6r:n6r;v6r();D6r(P6r,J6r);}if(H6r){D6r(G6r,J6r);}if(c6r - J6r < J6r - A6r){if(c6r){D6r(G6r,c6r);}if(A6r){D6r(G6r,A6r);}}else {if(A6r){D6r(G6r,A6r);}if(c6r){D6r(G6r,c6r);}}D6r(G6r,t6r);if(H6r == u6r.length - 1 && t6r != W6r){I6r=S6r;I5q.J6C(1);S6r=I5q.c6C(g6r,d6r);I5q.J6C(0);g6r=I5q.y6C(I6r,d6r);k6r(t6r);}}return m6r;};E4r.calculatePointFigure=function(p9r,e9r,G9r,J9r){var c5q=D200;var T6r,q6r,c9r,C6r,G8Z,l6r,M6r,s9r,V9r,x9r,i6r,N6r,r6r,a6r,E6r,U9r,F6r,B6r,Z6r,R9r;if(!e9r.length){return e9r;}if(!J9r){J9r=[];}T6r=p9r.layout;q6r=p9r.chart;c9r=q6r.state.aggregation;function d9r(H9r,K9r,D9r,P9r,X9r){H9r.High=Math.max(K9r,H9r.High);H9r.Low=Math.min(D9r,H9r.Low);H9r.Close=P9r;c5q.y2q();H9r.Volume+=X9r;}if(!c9r){c9r=q6r.state.aggregation={};}q6r.defaultChartStyleConfig.box=1;q6r.defaultChartStyleConfig.reversal=3;if(!G9r){G9r={};}C6r=G9r.box;function S9r(y9r,j9r,O9r,o9r,W9r,Y9r,m9r,v9r,n9r){return {DT:y9r.DT,Date:y9r.Date,pfOpen:v9r,pfClose:n9r,Open:j9r,Close:W9r,High:O9r,Low:o9r,Volume:Y9r,iqPrevClose:m9r};}if(!C6r){if(T6r.pandf){if(T6r.pandf.box !== null){G8Z="l";G8Z+="a";G8Z+="you";G8Z+="t";T6r.pandf.box=null;p9r.changeOccurred(G8Z);}}C6r=q6r.defaultChartStyleConfig.box;l6r=e9r[e9r.length - +"1"].Close;if(l6r){if(l6r < 0.25){C6r=+"0.0625";}else if(l6r < 1){C6r=0.125;}else if(l6r < 5){C6r=0.25;}else if(l6r < 20){C6r=0.5;}else if(l6r < 100){C6r=1;}else if(l6r < 200){C6r=2;}else if(l6r < 500){C6r=4;}else if(l6r < "1000" << 1132580032){C6r=5;}else if(l6r < 25000){C6r=50;}else {C6r=500;}}if(!E4r.ChartEngine.isDailyInterval(T6r.interval)){C6r/=10;}if(E4r.Market.Symbology.isForexSymbol(q6r.symbol)){if(l6r){if(l6r < 1){c5q.O6C(12);C6r=c5q.c6C(1,"0.001");}else if(l6r < +"2"){C6r=0.002;}else if(l6r < 50){C6r=0.02;}else if(l6r < "200" << 1165320416){C6r=0.2;}}if(E4r.ChartEngine.isDailyInterval(T6r.interval)){C6r*=10;}}q6r.defaultChartStyleConfig.box=C6r;}C6r=parseFloat(C6r);if(isNaN(C6r) || C6r <= 0){if(T6r.pandf){if(T6r.pandf.box !== null){T6r.pandf.box=null;p9r.changeOccurred("layout");}}c5q.J6C(12);q6r.defaultChartStyleConfig.box=C6r=c5q.c6C(1,"1");}M6r=Math.ceil(parseFloat(G9r.reversal));if(M6r > +"0" && M6r > G9r.reversal){T6r.pandf.reversal=M6r;p9r.changeOccurred("layout");}else if(isNaN(M6r) || M6r <= 0){if(T6r.pandf){if(T6r.pandf.reversal !== null){T6r.pandf.reversal=null;p9r.changeOccurred("layout");}}M6r=q6r.defaultChartStyleConfig.reversal;}c9r.box=C6r;M6r*=C6r;s9r=0.00000001;V9r=(C6r.toString() + (197 !== (5630,688.14)?5740 != 8510?".":944.76:0xf2a)).split((2580,944.4) <= "5910" >> 1123357984?".":(608.46,"5079" >> 2106976512) > 2000?"449.60" - 0:(! ![],"470.78" * 1))[1].length;x9r=[];function u9r(t9r,Q9r){c5q.M2q();for(var g9r in t9r){if(!Q9r[g9r] && Q9r[g9r] !== 0){Q9r[g9r]=t9r[g9r];}}return Q9r;}i6r=0;for(var A9r=0;A9r < e9r.length;A9r++){r6r=e9r[A9r];if(!r6r)continue;i6r+=r6r.Volume;E6r=r6r.Close;U9r=r6r.Open;F6r=r6r.High;B6r=r6r.Low;U9r=U9r || U9r === 0?U9r:E6r;F6r=F6r || F6r === +"0"?F6r:E6r;B6r=B6r || B6r === 0?B6r:E6r;if(!x9r.length && !J9r.length){N6r=u9r(r6r,S9r(r6r,U9r,F6r,B6r,E6r,i6r,F6r + C6r,Number((Math.ceil(B6r / C6r - s9r) * C6r).toFixed(V9r)),Number((Math.floor(F6r / C6r + s9r) * C6r).toFixed(V9r))));N6r.pfTrend="X";if(N6r.pfOpen == N6r.pfClose){N6r.pfStepBack="-";}x9r.push(N6r);i6r=0;continue;}a6r=x9r[x9r.length - 1];if(!a6r){a6r=E4r.clone(J9r[J9r.length - 1]);}if(a6r.pfTrend == (8420 == ("6420" | 4116)?(! !{},938.88):"O")){if(B6r <= a6r.pfClose - C6r){a6r.pfClose=Number((Math.ceil(B6r / C6r - s9r) * C6r).toFixed(V9r));if(a6r.pfStepBack == (+"799.54" > ("8046" << 2118453696,497)?"O":296)){a6r.pfStepBack=null;}d9r(a6r,F6r,B6r,E6r,i6r);}else if(F6r >= a6r.pfClose + M6r){Z6r=a6r.pfClose + C6r;R9r=Number((Math.floor(F6r / C6r + s9r) * C6r).toFixed(V9r));N6r=S9r(r6r,U9r,F6r,B6r,E6r,i6r,a6r.pfClose,Z6r,R9r);if(Z6r == R9r){N6r.pfStepBack="X";}if(a6r.pfStepBack == "O"){a6r.pfOpen=Z6r;a6r.pfClose=R9r;a6r.pfTrend=(21,6320) <= (920.13,4388)?(734.74,7510) != 6180?477.72 <= (4030,831.28)?948:(!{},!{}):(21.05,3.55e+3):"X";d9r(a6r,F6r,B6r,E6r,i6r);}else {N6r=u9r(r6r,N6r);N6r.pfTrend=(236.26,692.9) !== (5670,"3.01" * 1)?"X":("i",! !0);x9r.push(N6r);}}else {d9r(a6r,F6r,B6r,E6r,i6r);}i6r=+"0";}else if(a6r.pfTrend == ((611.3,497.45) != (1040,"7562" - 0)?9460 > (808.82,519.02)?"X":(!{},! !"1"):5.90e+3)){if(F6r >= a6r.pfClose + C6r){a6r.pfClose=Number((Math.floor(F6r / C6r + s9r) * C6r).toFixed(V9r));if(a6r.pfStepBack == "X" || a6r.pfStepBack == "-"){a6r.pfStepBack=null;}d9r(a6r,F6r,B6r,E6r,i6r);}else if(B6r <= a6r.pfClose - M6r){Z6r=a6r.pfClose - C6r;R9r=Number((Math.ceil(B6r / C6r - s9r) * C6r).toFixed(V9r));N6r=S9r(r6r,U9r,F6r,B6r,E6r,i6r,a6r.pfClose,Z6r,R9r);if(Z6r == R9r){N6r.pfStepBack=(+"3650",616) == ("861" >> 1912996128,7330)?629.44:(205.97,206.68) === +"10"?(909.64,"v"):1003 == 837.35?!"1":"O";}if(a6r.pfStepBack == (10 < (9883,5470)?"X":("j","p")) || a6r.pfStepBack == (7520 == 6440?(+"454.58",345.49) > (102.98,242.11)?(9.24e+2,9.70e+3):(0xa98,8.44e+3):"-")){a6r.pfOpen=Z6r;a6r.pfClose=R9r;a6r.pfTrend=9883 == 4384?(! !{},! !{}):(4850,6460) != 663.42?(815,368.83) !== 1466?"O":(! !"1",!"1"):(0x744,"z");d9r(a6r,F6r,B6r,E6r,i6r);if(Z6r != R9r && a6r.pfStepBack == ((323.8,1331) != 8218?"-":(5840,246.05) < (8490,533.09)?("a",0x1938):"703.34" * 1)){a6r.pfStepBack=null;}}else {N6r=u9r(r6r,N6r);N6r.pfTrend=("574" & 2147483647) < (5859,1469)?"O":(7450,+"4395") >= 665.89?(+"40.54",3988) >= 355.77?(320.32,+"894.39"):0x10f0:![];x9r.push(N6r);}}else {d9r(a6r,F6r,B6r,E6r,i6r);}i6r=0;}}return x9r;};};f4r=I9r=>{var Z2q=D200;var j2Z,s2Z,O2Z,z9r,k9r,g8Z,n9Z,T9Z,e9Z,R9Z,b9Z,a9Z,Q9Z,K9Z,r9Z,i6Z,I6Z,c6Z,m6Z,E6Z,o6Z,N6Z,u6Z,v6Z,W6Z,e0Z,k0Z,F0Z,J0Z,C0Z,M8Z,c8Z,m8Z,u8Z,l8Z,O8Z,s8Z,j8Z;j2Z=-1185289344;s2Z=26012137;Z2q.y2q();O2Z=2;for(var u2Z=1;Z2q.v7Z(u2Z.toString(),u2Z.toString().length,71004) !== j2Z;u2Z++){z9r=+_CIQ != "undefined"?_CIQ:I9r.CIQ;k9r=!_timezoneJS === "undefined"?_timezoneJS:I9r.timezoneJS;O2Z+=2;}if(Z2q.W7Z(O2Z.toString(),O2Z.toString().length,18871) !== s2Z){z9r=typeof _CIQ !== "undefined"?_CIQ:I9r.CIQ;k9r=typeof _timezoneJS !== "undefined"?_timezoneJS:I9r.timezoneJS;}if(!z9r.Drawing){g8Z="drawingAdvanced feature requires first activating drawing";g8Z+=" feature.";console.error(g8Z);}else {n9Z="cq-wav";n9Z+="e";n9Z+="-paramete";n9Z+="rs";T9Z="w";T9Z+="avePa";T9Z+="ramete";T9Z+="rs";e9Z="pa";e9Z+="ttern";R9Z="lineC";R9Z+="ol";R9Z+="o";R9Z+="r";b9Z="c";b9Z+="ol";b9Z+="or";a9Z="I";a9Z+="V";Q9Z="a";Q9Z+="xi";Q9Z+="sLab";Q9Z+="el";K9Z="pat";K9Z+="te";K9Z+="rn";r9Z="l";r9Z+="ineWidth";i6Z="cq-cvp-contro";i6Z+="ller[cq-cvp-header=\"3\"]";I6Z="cq-cvp-contro";I6Z+="ller[cq-cvp-";I6Z+="header=\"1\"]";c6Z="p";c6Z+="at";c6Z+="tern3";m6Z="lineW";m6Z+="id";m6Z+="th3";E6Z="co";E6Z+="l";E6Z+="o";E6Z+="r3";o6Z="acti";o6Z+="v";o6Z+="e1";N6Z="pat";N6Z+="tern";u6Z="co";u6Z+="lor";v6Z="lineW";v6Z+="idth";W6Z="c";W6Z+="olor";e0Z="co";e0Z+="lor";k0Z="f";k0Z+="o";k0Z+="n";k0Z+="t";F0Z="fil";F0Z+="l";F0Z+="Col";F0Z+="or";J0Z="p";J0Z+="at";J0Z+="t";J0Z+="ern";C0Z="fill";C0Z+="C";C0Z+="olor";M8Z="pat";M8Z+="ter";M8Z+="n";c8Z="li";c8Z+="neWidth";m8Z="c";m8Z+="o";m8Z+="lo";m8Z+="r";u8Z="pat";u8Z+="t";u8Z+="ern";l8Z="fil";l8Z+="lCol";l8Z+="or";O8Z="p";O8Z+="atte";O8Z+="rn";s8Z="lineWi";s8Z+="d";s8Z+="th";j8Z="co";j8Z+="l";j8Z+="o";j8Z+="r";z9r.Drawing.ray=function(){var p8Z;p8Z="r";p8Z+="a";p8Z+="y";this.name=p8Z;};z9r.inheritsFrom(z9r.Drawing.ray,z9r.Drawing.line);z9r.Drawing.ray.prototype.calculateOuterSet=function(h9r){var L9r,b9r;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1["1" & 2147483647] || z9r.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}L9r={x0:this.p0[0],y0:this.p0[1],x1:this.p1["0" & 2147483647],y1:this.p1[1]};b9r=L9r.x1 + 1000;if(L9r.x0 > L9r.x1){b9r=L9r.x1 - "1000" * 1;}this.v0B=this.v0;this.v1B=z9r.yIntersection(L9r,b9r);Z2q.M2q();this.d0B=this.d0;this.d1B=this.stx.dateFromTick(b9r,h9r.chart);};z9r.Drawing.ray.prototype.adjust=function(){var w9r;w9r=this.stx.panels[this.panelName];if(!w9r){return;}Z2q.O6C(13);this.setPoint(Z2q.y6C(2147483647,"0"),this.d0,this.v0,w9r.chart);this.setPoint(1,this.d1,this.v1,w9r.chart);Z2q.y2q();if(z9r.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,w9r.chart);}};z9r.Drawing.continuous=function(){this.name="continuous";Z2q.y2q();this.dragToDraw=!{};this.maxSegments=null;};z9r.inheritsFrom(z9r.Drawing.continuous,z9r.Drawing.segment);z9r.Drawing.continuous.prototype.click=function(l9r,C9r,a9r){var f9r,B9r,F9r,N9r,Y3Z,I3Z,i3Z;f9r=this.stx.panels[this.panelName];if(!f9r){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,C9r,a9r,f9r.chart);this.penDown=!"";return !{};}if(this.accidentalClick(C9r,a9r)){this.stx.undo();return ! ![];}this.setPoint(1,C9r,a9r,f9r.chart);B9r=z9r.Drawing.segment;F9r=new B9r();N9r=this.serialize(this.stx);F9r.reconstruct(this.stx,N9r);this.stx.addDrawing(F9r);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;Y3Z=59658332;I3Z=-1122802097;i3Z=2;for(var S3Z=1;Z2q.v7Z(S3Z.toString(),S3Z.toString().length,89733) !== Y3Z;S3Z++){if(this.maxSegments || this.segment < this.maxSegments){return !{};}i3Z+=2;}if(Z2q.v7Z(i3Z.toString(),i3Z.toString().length,97998) !== I3Z){if(this.maxSegments && this.segment > this.maxSegments){return !"";}}this.setPoint(0,C9r,a9r,f9r.chart);return ! !0;};z9r.Drawing.ellipse=function(){Z2q.y2q();this.name="ellipse";};z9r.inheritsFrom(z9r.Drawing.ellipse,z9r.Drawing.BaseTwoPoint);z9r.Drawing.ellipse.prototype.render=function(i9r){var w8Z,E9r,d0h,R0h,x0h,U0h,q9r,s0h,V0h,p0h,e0h,M9r,T9r,r9r,Z9r,G0h;w8Z="no";w8Z+="ne";E9r=this.stx.panels[this.panelName];if(!E9r){return;}d0h=this.stx.pixelFromTick(this.p0[0],E9r.chart);R0h=this.stx.pixelFromTick(this.p1[0],E9r.chart);x0h=this.stx.pixelFromValueAdjusted(E9r,this.p0[0],this.p0[1]);U0h=this.stx.pixelFromValueAdjusted(E9r,this.p1[0],this.p1[1]);Z2q.J6C(14);q9r=Z2q.y6C(d0h,d0h,R0h);s0h=R0h;V0h=x0h;p0h=U0h;Z2q.O6C(14);e0h=Z2q.c6C(x0h,x0h,U0h);Z2q.J6C(15);M9r=Z2q.c6C(6,e0h,p0h);T9r=this.lineWidth;if(!T9r){T9r=+"1.1";}r9r=this.color;if(r9r == "auto" || z9r.isTransparent(r9r)){r9r=this.stx.defaultColor;}if(this.highlighted){r9r=this.stx.getCanvasColor("stx_highlight_vector");if(T9r == 0.1){T9r=1.1;}}Z9r=this.fillColor;i9r.beginPath();i9r.moveTo(q9r,V0h);Z2q.J6C(1);i9r.bezierCurveTo(q9r,Z2q.y6C(p0h,M9r),s0h,Z2q.c6C(p0h,M9r),s0h,V0h);Z2q.J6C(0);i9r.bezierCurveTo(s0h,Z2q.y6C(e0h,M9r),q9r,Z2q.c6C(e0h,M9r),q9r,V0h);if(Z9r && !z9r.isTransparent(Z9r) && Z9r != "auto"){i9r.fillStyle=Z9r;i9r.globalAlpha=0.2;i9r.fill();i9r.globalAlpha=1;}if(r9r && this.pattern != w8Z){i9r.strokeStyle=r9r;i9r.lineWidth=T9r;if(i9r.setLineDash){i9r.setLineDash(z9r.borderPatternToArray(T9r,this.pattern));i9r.lineDashOffset=0;;}i9r.stroke();}i9r.closePath();if(this.highlighted){G0h=this.highlighted == "p1"?! !"1":!{};this.littleCircle(i9r,R0h,U0h,G0h);}};z9r.Drawing.ellipse.prototype.intersected=function(g0h,Q0h,J0h){var y8Z,c0h,A0h,u0h,S0h;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],J0h)){y8Z="d";y8Z+="ra";y8Z+="g";this.highlighted="p1";return {action:y8Z,point:"p1"};}c0h=this.p0[0] - (this.p1[0] - this.p0[0]);A0h=this.p1[0];u0h=this.p1[1];S0h=this.p0[1] - (this.p1[1] - this.p0[1]);if(J0h.x0 > Math.max(c0h,A0h) || J0h.x1 < Math.min(c0h,A0h)){return ! !0;}if(J0h.y1 > Math.max(S0h,u0h) || J0h.y0 < Math.min(S0h,u0h)){return !1;}this.highlighted=!0;return {action:"move",p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:g0h,value:Q0h};};z9r.Drawing.ellipse.prototype.configs=[j8Z,"fillColor",s8Z,O8Z];z9r.Drawing.ellipse.prototype.reconstruct=function(H0h,t0h){this.stx=H0h;this.color=t0h.col;this.fillColor=t0h.fc;this.panelName=t0h.pnl;Z2q.M2q();this.pattern=t0h.ptrn;this.lineWidth=t0h.lw;this.d0=t0h.d0;this.d1=t0h.d1;this.tzo0=t0h.tzo0;this.tzo1=t0h.tzo1;this.v0=t0h.v0;this.v1=t0h.v1;this.adjust();};z9r.Drawing.ellipse.prototype.serialize=function(){Z2q.y2q();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};z9r.Drawing.channel=function(){this.name="channel";this.dragToDraw=! !"";this.p2=null;};z9r.inheritsFrom(z9r.Drawing.channel,z9r.Drawing.segment);z9r.Drawing.channel.prototype.configs=["color",l8Z,"lineWidth",u8Z];z9r.Drawing.channel.prototype.move=function(X0h,K0h,D0h){var P0h;if(!this.penDown){return;}Z2q.y2q();this.copyConfig();if(this.p2 === null){this.p1=[K0h,D0h];}else {P0h=D0h - (this.p1[1] - this.p0[+"1"]) / (this.p1[0] - this.p0[0]) * (K0h - this.p1[0]);this.p2=[this.p1[0],P0h];}this.render(X0h);};z9r.Drawing.channel.prototype.click=function(o0h,j0h,O0h){var y0h;y0h=this.stx.panels[this.panelName];if(!y0h){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,j0h,O0h,y0h.chart);this.penDown=! !"1";return ![];}if(this.accidentalClick(j0h,O0h)){this.stx.undo();return ! !{};}Z2q.y2q();if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],y0h.chart);this.penDown=!"1";return ! !"1";}this.setPoint(1,j0h,O0h,y0h.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !{};}this.p2=[this.p1[0],this.p1[1]];return ! !"";};z9r.Drawing.channel.prototype.boxIntersection=function(n0h,I0h,m0h){var W0h,Y0h,v0h,z0h,k0h,t3Z,a3Z,b3Z;W0h=this.p0;Y0h=this.p1;v0h=this.p2;if(!W0h || !Y0h || !v0h){return !"1";}Z2q.y2q();if(m0h.x0 > Math.max(W0h[0],Y0h[0]) || m0h.x1 < Math.min(W0h[+"0"],Y0h[0])){return ! !0;}z0h=(Y0h[0] - W0h[0]) * ((v0h[1] < W0h[1]?m0h.y1:m0h.y0) - W0h[+"1"]) - (Y0h[1] - W0h[1]) * (n0h - W0h[0]);k0h=(v0h[0] - W0h[+"0"]) * ((v0h[1] > W0h[+"1"]?m0h.y1:m0h.y0) - (W0h[1] + v0h[1] - Y0h[1])) - (Y0h[1] - W0h["1" << 940061504]) * (n0h - W0h[0]);t3Z=242960076;a3Z=-224659226;b3Z=2;for(var e3Z=1;Z2q.v7Z(e3Z.toString(),e3Z.toString().length,+"22278") !== t3Z;e3Z++){Z2q.O6C(16);return Z2q.c6C(z0h,k0h,4);}if(Z2q.v7Z(b3Z.toString(),b3Z.toString().length,40805) !== a3Z){Z2q.J6C(17);return Z2q.y6C(z0h,k0h,5);}Z2q.J6C(18);return Z2q.y6C(0,k0h,z0h);};z9r.Drawing.channel.prototype.intersected=function(h0h,w0h,f0h){var b0h,N8Z;if(!this.p0 || !this.p1 || !this.p2){return null;}b0h={0:this.p0,1:this.p1,2:this.p2};for(var L0h in b0h){if(this.pointIntersection(b0h[L0h][0],b0h[L0h][1],f0h)){N8Z="dra";N8Z+="g";Z2q.O6C(1);this.highlighted=Z2q.c6C((14.23,2658) == 385?! !"1":"p",L0h);return {action:N8Z,point:"p" + L0h};}}if(this.boxIntersection(h0h,w0h,f0h)){this.highlighted=!"";return {action:"move",p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),p2:z9r.clone(this.p2),tick:h0h,value:w0h};}return null;};z9r.Drawing.channel.prototype.render=function(C0h){var a0h,N0h,F0h,l0h,i0h,B0h,q0h,E0h,T0h,r0h,M0h,Z0h,R1h;a0h=this.stx.panels[this.panelName];if(!a0h){return;}N0h=this.stx.pixelFromTick(this.p0[0],a0h.chart);F0h=this.stx.pixelFromTick(this.p1[0],a0h.chart);l0h=this.stx.pixelFromValueAdjusted(a0h,this.p0[0],this.p0[1]);i0h=this.stx.pixelFromValueAdjusted(a0h,this.p1[0],this.p1[1]);B0h=null;if(this.p2){B0h=this.stx.pixelFromValueAdjusted(a0h,this.p2[0],this.p2[1]);}Z2q.M2q();q0h=this.lineWidth;E0h=this.getLineColor();T0h=this.fillColor;if(this.p2 && T0h && !z9r.isTransparent(T0h) && T0h != "auto"){C0h.beginPath();C0h.moveTo(N0h,l0h);C0h.lineTo(F0h,i0h);C0h.lineTo(F0h,B0h);Z2q.J6C(19);C0h.lineTo(N0h,Z2q.y6C(B0h,l0h,i0h));C0h.closePath();C0h.globalAlpha=0.2;C0h.fillStyle=T0h;C0h.fill();C0h.globalAlpha=1;}r0h={pattern:this.pattern,lineWidth:q0h};if((this.penDown || this.highlighted) && this.pattern == "none"){r0h.pattern="dotted";}this.stx.plotLine(N0h,F0h,l0h,i0h,E0h,"segment",C0h,a0h,r0h);if(this.p2){Z2q.O6C(19);this.stx.plotLine(N0h,F0h,Z2q.c6C(B0h,l0h,i0h),B0h,E0h,"segment",C0h,a0h,r0h);}if(this.highlighted){M0h=this.highlighted == "p0"?! !{}:!{};Z0h=this.highlighted == "p1"?!"":! !0;R1h=this.highlighted == "p2"?! ![]:! !0;this.littleCircle(C0h,N0h,l0h,M0h);this.littleCircle(C0h,F0h,i0h,Z0h);this.littleCircle(C0h,F0h,B0h,R1h);}};z9r.Drawing.channel.prototype.reposition=function(p1h,x1h,e1h,d1h){Z2q.y2q();var o8Z,U1h,s1h,V1h;o8Z="d";o8Z+="ra";o8Z+="g";if(!x1h){return;}U1h=this.stx.panels[this.panelName];s1h=x1h.tick - e1h;V1h=x1h.value - d1h;if(x1h.action == "move"){this.setPoint(0,x1h.p0[0] - s1h,x1h.p0["1" | 1] - V1h,U1h.chart);this.setPoint(+"1",x1h.p1[0] - s1h,x1h.p1[1] - V1h,U1h.chart);this.setPoint(2,x1h.p2[0] - s1h,x1h.p2[1] - V1h,U1h.chart);this.render(p1h);}else if(x1h.action == o8Z){this[x1h.point]=[e1h,d1h];this.setPoint(0,this.p0[0],this.p0[1],U1h.chart);this.setPoint(1,this.p1[0],this.p1[+"1"],U1h.chart);this.setPoint(2,this.p2[0],this.p2[1],U1h.chart);this.render(p1h);}};z9r.Drawing.channel.prototype.adjust=function(){var G1h;G1h=this.stx.panels[this.panelName];if(!G1h){return;}this.setPoint(0,this.d0,this.v0,G1h.chart);this.setPoint(1,this.d1,this.v1,G1h.chart);this.setPoint(2,this.d1,this.v2,G1h.chart);;};z9r.Drawing.channel.prototype.reconstruct=function(c1h,J1h){var x4Z,Q4Z,U4Z;this.stx=c1h;this.color=J1h.col;this.fillColor=J1h.fc;this.panelName=J1h.pnl;this.pattern=J1h.ptrn;this.lineWidth=J1h.lw;this.d0=J1h.d0;this.d1=J1h.d1;this.tzo0=J1h.tzo0;this.tzo1=J1h.tzo1;Z2q.M2q();x4Z=-315492872;Q4Z=+"1944817668";U4Z=2;for(var k4Z=1;Z2q.v7Z(k4Z.toString(),k4Z.toString().length,43276) !== x4Z;k4Z++){this.v0=J1h.v0;this.v1=J1h.v1;U4Z+=+"2";}if(Z2q.W7Z(U4Z.toString(),U4Z.toString().length,9539) !== Q4Z){this.v0=J1h.v0;this.v1=J1h.v1;}this.v2=J1h.v2;this.adjust();};z9r.Drawing.channel.prototype.serialize=function(){Z2q.y2q();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};z9r.Drawing.pitchfork=function(){var E8Z;E8Z="pitch";Z2q.y2q();E8Z+="f";E8Z+="ork";this.name=E8Z;this.dragToDraw=!1;this.p2=null;};z9r.inheritsFrom(z9r.Drawing.pitchfork,z9r.Drawing.channel);z9r.Drawing.pitchfork.prototype.configs=[m8Z,c8Z,M8Z];z9r.Drawing.pitchfork.prototype.move=function(S1h,A1h,u1h){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[A1h,u1h];}else {this.p2=[A1h,u1h];}Z2q.y2q();this.render(S1h);};z9r.Drawing.pitchfork.prototype.intersected=function(K1h,D1h,P1h){var t1h,H1h,Y8Z;if(!this.p0 || !this.p1 || !this.p2){return null;}t1h={0:this.p0,1:this.p1,2:this.p2};for(var Q1h in t1h){if(this.pointIntersection(t1h[Q1h][0],t1h[Q1h][1],P1h)){Z2q.J6C(1);this.highlighted=Z2q.c6C((432,+"6030") != (434.91,5260)?"p":("g","0xbcf" | 512),Q1h);return {action:"drag",point:(7658 < (2341,6230)?("0x16bf" * 1,"X"):(1939,2370) > (761.05,1830)?7360 !== (382.96,5091)?"p":![]:0x19a0) + Q1h};}}H1h=this.rays;for(var g1h="0" & 2147483647;g1h < H1h.length;g1h++){if(this.lineIntersection(K1h,D1h,P1h,g1h?"ray":"segment",H1h[g1h][0],H1h[g1h][1],!0)){Y8Z="m";Y8Z+="o";Y8Z+="v";Y8Z+="e";this.highlighted=! ![];return {action:Y8Z,p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),p2:z9r.clone(this.p2),tick:K1h,value:D1h};}}Z2q.y2q();return null;};z9r.Drawing.pitchfork.prototype.render=function(z1h){var X1h,y1h,Y1h,k1h,j1h,O1h,I1h,o1h,W1h,h1h,w1h,f1h,m1h,L1h,b1h,i8Z,I8Z,n1h,C1h,a1h,F1h,B1h;X1h=this.stx.panels[this.panelName];if(!X1h){return;}y1h=this.stx;Y1h=this.p2;if(!Y1h){Y1h=this.p1;}k1h=y1h.pixelFromTick(this.p0[0],X1h.chart);j1h=y1h.pixelFromTick(this.p1[0],X1h.chart);O1h=y1h.pixelFromTick(Y1h[0],X1h.chart);I1h=y1h.pixelFromValueAdjusted(X1h,this.p0["0" & 2147483647],this.p0["1" & 2147483647]);o1h=y1h.pixelFromValueAdjusted(X1h,this.p1[0],this.p1[1]);W1h=y1h.pixelFromValueAdjusted(X1h,Y1h[0],Y1h[+"1"]);h1h=this.lineWidth;w1h=this.getLineColor();f1h={pattern:this.pattern,lineWidth:h1h};m1h=50;Z2q.O6C(20);L1h=Z2q.y6C(I1h,W1h,"2",2027441984,o1h);Z2q.O6C(21);b1h=Z2q.y6C(k1h,j1h,O1h,2);if(b1h < 0){m1h*=-1;}Z2q.J6C(7);L1h*=Z2q.c6C(m1h,b1h);Z2q.O6C(2);this.rays=[[[j1h,o1h],[O1h,W1h]],[[k1h,I1h],[Z2q.y6C(j1h,2,O1h),Z2q.y6C(o1h,2,W1h)]]];if(!(j1h == O1h && o1h == W1h)){Z2q.J6C(0);this.rays.push([[j1h,o1h],[Z2q.y6C(j1h,m1h),Z2q.c6C(o1h,L1h)]],[[O1h,W1h],[Z2q.c6C(O1h,m1h),Z2q.c6C(W1h,L1h)]]);}for(var v1h=0;v1h < this.rays.length;v1h++){i8Z="s";i8Z+="e";i8Z+="gment";I8Z="r";I8Z+="a";I8Z+="y";n1h=this.rays[v1h];C1h=v1h?I8Z:i8Z;y1h.plotLine(n1h[0][0],n1h[1][0],n1h[0][1],n1h[1][1],w1h,C1h,z1h,X1h,f1h);}if(this.highlighted){a1h=this.highlighted == "p0"?! !1:!1;F1h=this.highlighted == "p1"?!"":!1;B1h=this.highlighted == "p2"?! !{}:![];this.littleCircle(z1h,k1h,I1h,a1h);this.littleCircle(z1h,j1h,o1h,F1h);this.littleCircle(z1h,O1h,W1h,B1h);}};z9r.Drawing.pitchfork.prototype.adjust=function(){var N1h;N1h=this.stx.panels[this.panelName];Z2q.M2q();if(!N1h){return;}this.setPoint(0,this.d0,this.v0,N1h.chart);this.setPoint(+"1",this.d1,this.v1,N1h.chart);Z2q.J6C(13);this.setPoint(Z2q.c6C(2147483647,"2"),this.d2,this.v2,N1h.chart);};z9r.Drawing.pitchfork.prototype.reconstruct=function(i1h,l1h){this.stx=i1h;this.color=l1h.col;this.panelName=l1h.pnl;this.pattern=l1h.ptrn;Z2q.M2q();this.lineWidth=l1h.lw;this.d0=l1h.d0;this.d1=l1h.d1;this.d2=l1h.d2;this.tzo0=l1h.tzo0;this.tzo1=l1h.tzo1;this.tzo2=l1h.tzo2;this.v0=l1h.v0;this.v1=l1h.v1;this.v2=l1h.v2;this.adjust();};z9r.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};z9r.Drawing.gartley=function(){var D8Z;D8Z="ga";D8Z+="r";D8Z+="tl";D8Z+="ey";Z2q.y2q();this.name=D8Z;this.dragToDraw=!{};this.maxSegments=4;this.shape=null;this.points=[];};z9r.inheritsFrom(z9r.Drawing.gartley,z9r.Drawing.continuous);z9r.Drawing.gartley.prototype.check=function(r1h,T1h){if(!T1h){return ! !{};}if(r1h[0] >= T1h[0] || r1h[1] == T1h[1]){return !"1";}if(this.segment == "1" << 518032800){if(r1h[1] < T1h["1" - 0]){this.shape=(757,"1870" << 1418699936) === (6075,6120)?5370 !== 8513?! !0:("938.53" - 0,9.11e+3):"M";}else {this.shape=267.11 !== (500,688.55)?(582.3,184.41) >= (6270,827.02)?(529.16,868.7) >= (9737,5970)?(!{},183):(282.30,0x2648):"W":150.99;}}else if(this.segment == 2){if(this.shape == "M" && r1h[1] < T1h[1]){return ! !"";}else if(this.shape == ((8978,6390) == 847.92?2020 !== (56.28,129.91)?(5905,345) == 9685?"g":0x1ad2:!{}:"W") && r1h["1" | 0] > T1h[1]){return !"1";}else if((T1h[1] - r1h[1]) / (this.points[0][1] - r1h[1]) < 0.618){return ![];}else if((T1h[1] - r1h[1]) / (this.points[0][1] - r1h[1]) >= 0.786){return !1;}}else if(this.segment == 3){if(this.shape == ((71,4550) != (2.5,979.23)?"M":+"3.49e+3") && r1h[1] > T1h[1]){return ! !0;}else if(this.shape == (+"4212" > 333.86?5444 !== ("5560" & 2147483647)?(3990,4760) != (49.52,368)?"W":! !1:90.97:(! !0,3.39e+3)) && r1h[1] < T1h[1]){return !{};}else if((T1h[1] - r1h[1]) / (this.points[1][1] - r1h[1]) < 0.618){return ![];}else if((T1h[1] - r1h[1]) / (this.points[1][1] - r1h[+"1"]) >= "0.786" - 0){return ![];}}else if(this.segment == 4){if(this.shape == "M" && (r1h[1] < T1h[+"1"] || T1h[1] < this.points["0" | 0][1])){return ![];}else if(this.shape == "W" && (r1h[1] > T1h[1] || T1h["1" - 0] > this.points[0][1])){return ! !"";}else if((this.points[+"1"][1] - T1h[1]) / (this.points["1" * 1][1] - this.points[2][1]) < +"1.27"){return !1;}else if((this.points[1][1] - T1h[+"1"]) / (this.points["1" - 0][1] - this.points[2][1]) >= 1.618){return !"1";}}Z2q.M2q();return !"";};z9r.Drawing.gartley.prototype.click=function(Z1h,q1h,M1h){Z2q.y2q();var E1h;E1h=this.stx.panels[this.panelName];if(!E1h){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,q1h,M1h,E1h.chart);this.pts=[];this.penDown=! ![];this.segment=1;return !{};}if(this.accidentalClick(q1h,M1h)){this.penDown=! !{};return ![];}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,q1h,M1h,E1h.chart);this.segment++;if(this.segment > this.maxSegments){Z2q.J6C(0);this.setPoint(Z2q.y6C("0",0),this.points[0][+"0"],this.points[0][1],E1h.chart);this.penDown=![];return !0;}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,q1h,M1h,E1h.chart);;}return !"1";};z9r.Drawing.gartley.prototype.render=function(x2h){var R2h,Q2h,G2h,t2h,J2h,V2h,H2h,c2h,d2h,e2h,s2h,S8Z,E7Z,m7Z,c7Z,A2h,u2h,S2h,g2h;R2h=this.stx.panels[this.panelName];if(!R2h){return;}Z2q.y2q();Q2h=this.stx.pixelFromTick(this.p0[0],R2h.chart);G2h=this.stx.pixelFromTick(this.p1[0],R2h.chart);t2h=this.stx.pixelFromValueAdjusted(R2h,this.p0["0" * 1],this.p0[1]);J2h=this.stx.pixelFromValueAdjusted(R2h,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(x2h,("0.618" - 0) * this.points[0][1] + ("0.382" - 0) * this.p0["1" | 0],+"0.786" * this.points[0][+"1"] + 0.214 * this.p0["1" | 1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(x2h,0.618 * this.points[1]["1" << 1334859168] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0["1" >> 1522057504],this.p0[0]);}else if(this.segment == 4){V2h=1.618 * this.points[2]["1" | 1] - +"0.618" * this.points[1][1];if(this.shape == (2930 !== 3007?(943.15,7060) < 2983?(5695,9494) >= (+"3640",976.43)?"i":(9.11e+3,"n"):"M":(0x9c6,! !"1"))){V2h=Math.max(V2h,this.points[0][1]);}else {V2h=Math.min(V2h,this.points[0][1]);}this.drawDropZone(x2h,V2h,1.27 * this.points[2]["1" | 0] - 0.27 * this.points[1][1],this.p0[0]);}H2h=this.lineWidth;c2h=this.getLineColor();d2h={pattern:this.pattern,lineWidth:H2h};if((this.penDown || this.highlighted) && this.pattern == "none"){d2h.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(Q2h,G2h,t2h,J2h,c2h,this.name,x2h,R2h,d2h);}e2h=this.fillColor;s2h=[];if(this.points.length){S8Z="au";S8Z+="t";S8Z+="o";E7Z=990672010;m7Z=556336826;c7Z=2;for(var Y7Z=1;Z2q.v7Z(Y7Z.toString(),Y7Z.toString().length,33042) !== E7Z;Y7Z++){x2h.beginPath();c7Z+=+"2";}if(Z2q.W7Z(c7Z.toString(),c7Z.toString().length,53070) !== m7Z){x2h.beginPath();}for(var U2h="1" - 0;U2h < this.points.length && U2h <= +"4";U2h++){A2h=this.stx.pixelFromTick(this.points[U2h - 1][0],R2h.chart);u2h=this.stx.pixelFromTick(this.points[U2h][0],R2h.chart);S2h=this.stx.pixelFromValueAdjusted(R2h,this.points[U2h - 1][0],this.points[U2h - +"1"][+"1"]);g2h=this.stx.pixelFromValueAdjusted(R2h,this.points[U2h][0],this.points[U2h][1]);if(U2h == +"1"){s2h.push(A2h,S2h);}s2h.push(u2h,g2h);this.stx.plotLine(A2h,u2h,S2h,g2h,c2h,this.name,x2h,R2h,d2h);}if(this.points.length == +"2" || this.points.length == 4){s2h.push(G2h,J2h);}if(this.points[2]){s2h.push(this.stx.pixelFromTick(this.points[2][0],R2h.chart),this.stx.pixelFromValueAdjusted(R2h,this.points[2][0],this.points[2][1]));}if(e2h && e2h != S8Z && !z9r.isTransparent(e2h)){for(var p2h="0" - 0;p2h < s2h.length;p2h+=2){if(p2h === 0){x2h.moveTo(s2h[0],s2h[1]);}x2h.lineTo(s2h[p2h],s2h[p2h + 1]);}x2h.fillStyle=e2h;x2h.globalAlpha=0.2;x2h.closePath();x2h.fill();x2h.globalAlpha=1;}};};z9r.Drawing.gartley.prototype.lineIntersection=function(X2h,y2h,j2h,O2h){var K2h,P2h;K2h=this.points;P2h=this.stx.panels[this.panelName];if(K2h.length != this.maxSegments + 1 || !P2h){return !"1";}for(var D2h=0;D2h < K2h.length - 1;D2h++){if(z9r.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,X2h,y2h,j2h,"segment",K2h[D2h],K2h[D2h + 1])){return ! ![];}}return ! !0;};z9r.Drawing.gartley.prototype.boxIntersection=function(v2h,n2h,W2h){var z2Z,t2Z,a2Z,Y2h,m2h;if(!this.p0 || !this.p1){return !1;}if(W2h.x0 > Math.max(this.p0["0" << 701089696],this.p1["0" - 0]) || W2h.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}Z2q.J6C(22);z2Z=Z2q.y6C("1027109641",740324104);t2Z=-1256325412;a2Z=2;for(var R2Z=1;Z2q.W7Z(R2Z.toString(),R2Z.toString().length,96480) !== z2Z;R2Z++){Y2h=Math.min(this.p0[3],this.p1[0]);a2Z+=2;}if(Z2q.W7Z(a2Z.toString(),a2Z.toString().length,95806) !== t2Z){Y2h=Math.min(this.p0[0],this.p1["8" << 844834624]);}Y2h=Math.min(this.p0[1],this.p1["1" << 634404192]);m2h=Math.max(this.p0["1" >> 511491520],this.p1[1]);for(var o2h=0;o2h < this.points.length;o2h++){Y2h=Math.min(Y2h,this.points[o2h][1]);m2h=Math.max(m2h,this.points[o2h][1]);}if(W2h.y1 > m2h || W2h.y0 < Y2h){return ![];}return ! !{};};z9r.Drawing.gartley.prototype.reposition=function(f2h,k2h,L2h,b2h){var Z8Z,I2h,h2h,w2h;Z8Z="mo";Z8Z+="ve";if(!k2h){return;}I2h=this.stx.panels[this.panelName];h2h=k2h.tick - L2h;k2h.tick=L2h;w2h=k2h.value - b2h;k2h.value=b2h;if(k2h.action == Z8Z){this.pts=[];for(var z2h=0;z2h < this.points.length;z2h++){Z2q.O6C(23);this.points[z2h][Z2q.y6C(0,"0")]-=h2h;this.points[z2h][1]-=w2h;this.setPoint(1,this.points[z2h][0],this.points[z2h]["1" & 2147483647],I2h.chart);if(z2h && z2h < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[z2h]=this.p1;}Z2q.J6C(12);this.setPoint(Z2q.c6C(1,"0"),this.points[0][+"0"],this.points[0][1],I2h.chart);this.render(f2h);;}};z9r.Drawing.gartley.prototype.configs=["color",C0Z,"lineWidth",J0Z];z9r.Drawing.gartley.prototype.adjust=function(){var C2h;C2h=this.stx.panels[this.panelName];if(!C2h){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,C2h.chart);this.points.unshift(this.p0);Z2q.J6C(0);this.setPoint(Z2q.y6C("1",0),this.d1,this.v1,C2h.chart);this.points.push(this.p1);};z9r.Drawing.gartley.prototype.reconstructPoints=function(){var B2h,F2h;B2h=this.stx.panels[this.panelName];if(!B2h){return;}this.points=[];for(var a2h=0;a2h < this.pts.length;a2h+=3){F2h=z9r.strToDateTime(this.pts[a2h]);F2h.setMinutes(F2h.getMinutes() + Number(this.pts[a2h + +"1"]) - F2h.getTimezoneOffset());this.points.push([this.stx.tickFromDate(z9r.yyyymmddhhmmssmmm(F2h),B2h.chart),this.pts[a2h + 2]]);}};z9r.Drawing.gartley.prototype.reconstruct=function(l2h,N2h){this.stx=l2h;this.color=N2h.col;this.fillColor=N2h.fc;this.panelName=N2h.pnl;this.pattern=N2h.ptrn;this.lineWidth=N2h.lw;this.d0=N2h.d0;this.d1=N2h.d1;this.tzo0=N2h.tzo0;this.tzo1=N2h.tzo1;this.v0=N2h.v0;this.v1=N2h.v1;this.pts=N2h.pts.split(",");this.adjust();};z9r.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(8910 < (2490,764.15)?(947.02,"240.23" * 1):",")};};z9r.Drawing.freeform=function(){var B0Z;B0Z="f";B0Z+="re";B0Z+="ef";B0Z+="orm";this.name=B0Z;this.splineTension=+"0.3";this.dragToDraw=! !"1";};z9r.inheritsFrom(z9r.Drawing.freeform,z9r.Drawing.segment);z9r.Drawing.freeform.prototype.measure=function(){};z9r.Drawing.freeform.prototype.intersected=function(T2h,r2h,i2h){if(i2h.x0 > this.hiX || i2h.x1 < this.lowX){return null;}if(i2h.y1 > this.hiY || i2h.y0 < this.lowY){return null;}this.highlighted=! ![];return {action:"move",p0:z9r.clone(this.p0),tick:T2h,value:r2h};};z9r.Drawing.freeform.prototype.reposition=function(R3h,E2h,x3h,U3h){var h0Z,q2h,M2h,Z2h;h0Z="m";h0Z+="o";Z2q.y2q();h0Z+="ve";if(!E2h){return;}q2h=this.stx.panels[this.panelName];M2h=E2h.tick - x3h;Z2h=E2h.value - U3h;if(E2h.action == h0Z){this.setPoint(0,E2h.p0[0] - M2h,E2h.p0[1] - Z2h,q2h.chart);this.adjust();this.render(R3h);}};z9r.Drawing.freeform.prototype.click=function(d3h,V3h,e3h){var A0Z,s3h,H0Z,p3h;Z2q.M2q();A0Z="a";A0Z+="u";A0Z+="t";A0Z+="o";s3h=this.stx.panels[this.panelName];if(!s3h){return;}if(this.penDown === ! !0){H0Z="p";H0Z+="oi";H0Z+="n";H0Z+="ter";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(V3h,s3h.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(s3h,V3h,e3h)));p3h=this.stx.dateFromTick(V3h,s3h.chart,! !{});this.d0=z9r.yyyymmddhhmmssmmm(p3h);this.tzo0=p3h.getTimezoneOffset();this.v0=e3h;this.p0=[z9r.ChartEngine.crosshairX - this.startX,z9r.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=s3h.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=H0Z;this.penDown=! !{};return ![];}this.penDown=!"1";this.splineTension=this.tempSplineTension;document.body.style.cursor=A0Z;return !"";};z9r.Drawing.freeform.prototype.move=function(c3h,A3h,u3h){var G3h,J3h;if(!this.penDown){return;}G3h=this.stx.panels[this.panelName];J3h=this.stx.dateFromTick(A3h,G3h.chart,! ![]);this.d1=z9r.yyyymmddhhmmssmmm(J3h);this.tzo1=J3h.getTimezoneOffset();this.v1=u3h;this.p1=[z9r.ChartEngine.crosshairX - this.startX,G3h.yAxis.flipped?this.startY - z9r.ChartEngine.crosshairY:z9r.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][+"0"] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - ("2" << 1446078752)][+"1"] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1["1" * 1]);this.pNodes.push(this.p1);this.render(c3h);return ![];};z9r.Drawing.freeform.prototype.intervalRatio=function(H3h,S3h,y3h,j3h,Q3h,t3h){var g3h,r0Z,K0Z,f0Z,Q0Z,x0Z;g3h=0;function X3h(O3h,o3h){Z2q.M2q();return 5;}if(H3h == S3h){g3h=1;}else if(!isNaN(H3h) && !isNaN(S3h)){Z2q.J6C(7);g3h=Z2q.y6C(H3h,S3h);}else if(isNaN(H3h)){r0Z="w";r0Z+="e";r0Z+="e";r0Z+="k";if(H3h == "month"){if(S3h == "week"){g3h=X3h(Q3h,t3h);}else if(S3h == "day"){g3h=P3h(Q3h,t3h);}else if(!isNaN(S3h)){g3h=P3h(Q3h,t3h) * K3h(Q3h,t3h) / S3h;}}else if(H3h == r0Z){K0Z="m";K0Z+="on";K0Z+="th";if(S3h == K0Z){g3h=1 / X3h(Q3h,t3h);}if(S3h == "day"){g3h=D3h(Q3h,t3h);}else if(!isNaN(S3h)){g3h=D3h(Q3h,t3h) * K3h(Q3h,t3h) / S3h;}}else if(H3h == "day"){f0Z="wee";f0Z+="k";if(S3h == f0Z){g3h=+"1" / D3h(Q3h,t3h);}else if(S3h == "month"){g3h=1 / P3h(Q3h,t3h);}else if(!isNaN(S3h)){g3h=K3h(Q3h,t3h) / S3h;}}}else if(!isNaN(H3h)){Q0Z="d";Q0Z+="a";Q0Z+="y";x0Z="m";x0Z+="on";x0Z+="t";x0Z+="h";if(S3h == x0Z){g3h=H3h / (P3h(Q3h,t3h) * K3h(Q3h,t3h));}else if(S3h == "week"){g3h=H3h / (D3h(Q3h,t3h) * K3h(Q3h,t3h));}else if(S3h == Q0Z){g3h=H3h / K3h(Q3h,t3h);}}function P3h(m3h,v3h){Z2q.M2q();return 30;}function K3h(z3h,n3h){if(z9r.Market.Symbology.isForexSymbol(n3h)){return 1440;}return 390;}function D3h(W3h,Y3h){return 5;}Z2q.O6C(7);g3h*=Z2q.c6C(y3h,j3h);return g3h;};z9r.Drawing.freeform.prototype.render=function(a3h){Z2q.y2q();var k3h,h3h,F3h,B3h,N3h,w3h,I3h,l3h,f3h,C3h,i3h,b3h;k3h=this.stx.panels[this.panelName];if(!k3h){return;}h3h=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,k3h.chart.symbol);if(h3h === 0){return;}F3h=this.stx.layout.candleWidth / this.candleWidth;B3h=k3h.yAxis.multiplier / this.multiplier;this.setPoint(+"0",this.d0,this.v0,k3h.chart);N3h=this.stx.pixelFromTick(this.p0[0],k3h.chart);w3h=this.stx.pixelFromValueAdjusted(k3h,this.p0[0],this.p0["1" & 2147483647]);I3h=[];l3h=this.lineWidth;f3h=this.getLineColor();C3h={pattern:this.pattern,lineWidth:l3h};for(var L3h=0;L3h < this.pNodes.length;L3h++){i3h=h3h * F3h * this.pNodes[L3h][0] + N3h;b3h=B3h * this.pNodes[L3h][1];if(k3h.yAxis.flipped){Z2q.O6C(0);b3h=Z2q.y6C(w3h,b3h);}else {b3h+=w3h;}I3h.push(i3h,b3h);}if(!I3h.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(I3h,f3h,this.name,a3h,k3h,C3h);}else {this.stx.plotSpline(I3h,this.splineTension,f3h,this.name,a3h,!"",C3h);}};z9r.Drawing.freeform.prototype.adjust=function(){var T3h,U4h,r3h,Z3h,R4h,q3h,x4h,M3h;T3h=this.stx.panels[this.panelName];if(!T3h){return;}U4h=[this.nodes[0],this.nodes[1]];Z2q.y2q();this.pNodes=[U4h];this.lowX=this.nodes[0];this.hiX=this.nodes[+"0"];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var E3h=2;E3h < this.nodes.length;E3h+=2){Z2q.O6C(1);r3h=[this.nodes[E3h],this.nodes[Z2q.y6C(E3h,1)]];this.pNodes.push(r3h);this.lowX=Math.min(this.lowX,r3h[+"0"]);this.hiX=Math.max(this.hiX,r3h[0]);this.lowY=Math.max(this.lowY,r3h[1]);this.hiY=Math.min(this.hiY,r3h[1]);}Z3h=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,T3h.chart.symbol);if(Z3h === 0){return;}R4h=this.stx.layout.candleWidth / this.candleWidth;q3h=T3h.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,T3h.chart);x4h=this.stx.pixelFromTick(this.p0[0],T3h.chart);M3h=this.stx.pixelFromValueAdjusted(T3h,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(Z3h * R4h * this.lowX) + x4h,T3h.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(Z3h * R4h * this.hiX) + x4h,T3h.chart);if(T3h.yAxis.flipped){this.lowY=this.stx.valueFromPixel(M3h - Math.floor(q3h * this.lowY),T3h);this.hiY=this.stx.valueFromPixel(M3h - Math.ceil(q3h * this.hiY),T3h);}else {this.lowY=this.stx.valueFromPixel(Math.floor(q3h * this.lowY) + M3h,T3h);this.hiY=this.stx.valueFromPixel(Math.ceil(q3h * this.hiY) + M3h,T3h);}};z9r.Drawing.freeform.prototype.serialize=function(){Z2q.M2q();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};z9r.Drawing.freeform.prototype.reconstruct=function(V4h,s4h){this.stx=V4h;this.color=s4h.col;this.panelName=s4h.pnl;this.pattern=s4h.ptrn;this.lineWidth=s4h.lw;this.candleWidth=s4h.cw;this.multiplier=s4h.mlt;this.d0=s4h.d0;this.tzo0=s4h.tzo0;this.v0=s4h.v0;this.interval=s4h.inter;this.periodicity=s4h.pd;this.nodes=s4h.nodes;this.adjust();};z9r.Drawing.callout=function(){var U0Z,n7Z,P7Z,q7Z;U0Z="ca";U0Z+="llout";this.name=U0Z;this.arr=[];Z2q.M2q();this.w=+"0";this.h=0;this.padding=4;this.text="";n7Z=1301731839;P7Z=- +"1266316669";q7Z=2;for(var g7Z=1;Z2q.W7Z(g7Z.toString(),g7Z.toString().length,66603) !== n7Z;g7Z++){this.ta=1;this.fontSize=+"9";this.font={};this.stemEntry="";this.defaultWidth=44;q7Z+=2;}if(Z2q.v7Z(q7Z.toString(),q7Z.toString().length,74664) !== P7Z){this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";Z2q.O6C(13);this.defaultWidth=Z2q.y6C(2147483647,"50");}this.defaultHeight=10;;};z9r.inheritsFrom(z9r.Drawing.callout,z9r.Drawing.annotation);z9r.Drawing.callout.prototype.configs=["color",F0Z,"lineWidth","pattern",k0Z];z9r.Drawing.callout.prototype.copyConfig=function(p4h){z9r.Drawing.copyConfig(this,p4h);Z2q.y2q();this.borderColor=this.color;};z9r.Drawing.callout.prototype.move=function(e4h,d4h,G4h){Z2q.y2q();if(!this.penDown){return;}this.copyConfig();this.p0=[d4h,G4h];this.render(e4h);};z9r.Drawing.callout.prototype.onChange=function(u4h){var A4h,c4h,J4h;A4h=this.stx.panels[this.panelName];Z2q.y2q();if(!A4h){return;}c4h=u4h.target;this.w=c4h.clientWidth;this.h=c4h.clientHeight;J4h=this.context || this.stx.chart.tempCanvas.context;z9r.clearCanvas(J4h.canvas,this.stx);this.render(J4h);this.edit(J4h);};z9r.Drawing.callout.prototype.render=function(S4h){var t0Z,v0Z,W0Z,V0Z,j4h,n4h,v4h,Q4h,g4h,H4h,t4h,O4h,o4h,y4h,D4h,W4h,P4h,Y4h,K4h,X4h,X0Z,d0Z,L0Z,N2Z,o2Z,E2Z,z0Z,z4h;t0Z="al";t0Z+="phab";t0Z+="etic";v0Z="stx_hig";v0Z+="hlight_vecto";v0Z+="r";W0Z="a";W0Z+="ut";W0Z+="o";V0Z="t";V0Z+="o";V0Z+="p";this.context=S4h;j4h=this.stx.panels[this.panelName];if(!j4h){return;}n4h=this.stx.pixelFromTick(this.p0[+"0"],j4h.chart);v4h=this.stx.pixelFromValueAdjusted(j4h,this.p0["0" >> 273585728],this.p0[1]);if(isNaN(v4h)){return;}S4h.font=this.fontString;S4h.textBaseline=V0Z;Q4h=n4h;g4h=v4h;H4h=this.w / 2;t4h=this.h / ("2" | 0);if(this.penDown){H4h=this.defaultWidth;t4h=this.defaultHeight;if(!t4h){t4h=this.fontSize;}}Z2q.y2q();O4h=this.lineWidth;if(!O4h){O4h=1.1;}o4h=this.color;if(o4h == "auto" || z9r.isTransparent(o4h)){o4h=this.stx.defaultColor;}y4h=this.borderColor;if(y4h == W0Z || z9r.isTransparent(y4h)){y4h=this.stx.defaultColor;}if(this.highlighted){y4h=this.stx.getCanvasColor(v0Z);}K4h=Math.min(Math.min(H4h,t4h) / 2,8);if(this.stem){if(this.stem.t){D4h=this.stx.pixelFromTick(this.stem.t);P4h=this.stx.pixelFromValueAdjusted(j4h,this.stem.t,this.stem.v);}else if(this.stem.x){D4h=Q4h;P4h=g4h;Q4h+=this.stem.x;g4h+=this.stem.y;}X4h="";if(D4h >= Q4h + H4h){Z2q.J6C(1);W4h=Z2q.c6C(Q4h,H4h);X4h=(3846,5549) >= 2780?203.05 === (2800,347.3)?(494.84,0x1290):"r":! !{};}else if(D4h > Q4h - H4h && D4h < Q4h + H4h){W4h=Q4h;X4h=(7200,+"100.44") >= 1043?("1618" & 2147483647) != 134.06?0x1904:"i":"c";}else if(D4h <= Q4h - H4h){Z2q.J6C(0);W4h=Z2q.y6C(Q4h,H4h);X4h=3837 < (747,3013)?554.02 !== (529.71,1690)?(! !"1",6.26e+3):(+"1.56e+3",3.74e+3):"l";}if(P4h >= g4h + t4h){Z2q.O6C(1);Y4h=Z2q.c6C(g4h,t4h);X4h+=(5820,8883) == +"696"?"f":"b";}else if(P4h > g4h - t4h && P4h < g4h + t4h){Y4h=g4h;X4h+=(561.96,849.46) < 8134?(3850,2830) !== (384.32,+"96.07")?"m":(8.35e+3,"C"):+"109.11";}else if(P4h <= g4h - t4h){Z2q.J6C(0);Y4h=Z2q.y6C(g4h,t4h);X4h+="t";}this.stemEntry=X4h;if(X4h != "cm"){D4h=Math.round(D4h);W4h=Math.round(W4h);P4h=Math.round(P4h);Y4h=Math.round(Y4h);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",S4h);}else {if(this.fillColor){S4h.fillStyle=this.fillColor;S4h.globalAlpha=0.4;}else if(this.stem){S4h.fillStyle=this.stx.containerColor;}}S4h.strokeStyle=y4h;if(S4h.setLineDash){S4h.setLineDash(z9r.borderPatternToArray(O4h,this.pattern));Z2q.O6C(9);S4h.lineDashOffset=Z2q.c6C(1233436896,"0");;}if(y4h){X0Z="non";X0Z+="e";d0Z="l";d0Z+="b";L0Z="r";L0Z+="m";S4h.beginPath();S4h.lineWidth=O4h;Z2q.J6C(3);S4h.moveTo(Z2q.y6C(H4h,Q4h,K4h),Z2q.y6C(g4h,t4h,Z2q.O6C(0)));if(this.stemEntry != "rt"){Z2q.O6C(1);S4h.quadraticCurveTo(Z2q.c6C(Q4h,H4h),Z2q.y6C(g4h,t4h,Z2q.O6C(0)),Z2q.c6C(Q4h,H4h,Z2q.J6C(1)),Z2q.y6C(t4h,g4h,K4h,Z2q.J6C(5)));;}else {S4h.lineTo(D4h,P4h);Z2q.J6C(1);S4h.lineTo(Z2q.c6C(Q4h,H4h),Z2q.y6C(t4h,g4h,K4h,Z2q.J6C(5)));}Z2q.O6C(1);S4h.lineTo(Z2q.y6C(Q4h,H4h),Z2q.c6C(2,g4h,K4h,Z2q.J6C(24)));if(this.stemEntry == L0Z){S4h.lineTo(D4h,P4h);}Z2q.O6C(1);S4h.lineTo(Z2q.y6C(Q4h,H4h),Z2q.c6C(g4h,2,K4h,Z2q.J6C(25)));Z2q.O6C(1);S4h.lineTo(Z2q.c6C(Q4h,H4h),Z2q.c6C(t4h,g4h,K4h,Z2q.J6C(3)));if(this.stemEntry != "rb"){Z2q.J6C(1);S4h.quadraticCurveTo(Z2q.y6C(Q4h,H4h),Z2q.c6C(g4h,t4h,Z2q.J6C(1)),Z2q.y6C(H4h,Q4h,K4h,Z2q.J6C(3)),Z2q.y6C(g4h,t4h,Z2q.J6C(1)));;}else {S4h.lineTo(D4h,P4h);Z2q.O6C(3);S4h.lineTo(Z2q.c6C(H4h,Q4h,K4h),Z2q.c6C(g4h,t4h,Z2q.O6C(1)));}Z2q.J6C(25);S4h.lineTo(Z2q.c6C(Q4h,2,K4h),Z2q.y6C(g4h,t4h,Z2q.O6C(1)));if(this.stemEntry == "cb"){S4h.lineTo(D4h,P4h);}Z2q.J6C(24);S4h.lineTo(Z2q.y6C(2,Q4h,K4h),Z2q.c6C(g4h,t4h,Z2q.J6C(1)));Z2q.O6C(5);S4h.lineTo(Z2q.c6C(H4h,Q4h,K4h),Z2q.y6C(g4h,t4h,Z2q.O6C(1)));if(this.stemEntry != d0Z){Z2q.O6C(0);S4h.quadraticCurveTo(Z2q.y6C(Q4h,H4h),Z2q.y6C(g4h,t4h,Z2q.O6C(1)),Z2q.y6C(Q4h,H4h,Z2q.O6C(0)),Z2q.y6C(t4h,g4h,K4h,Z2q.O6C(3)));;}else {S4h.lineTo(D4h,P4h);Z2q.J6C(0);S4h.lineTo(Z2q.y6C(Q4h,H4h),Z2q.y6C(t4h,g4h,K4h,Z2q.O6C(3)));}Z2q.J6C(0);S4h.lineTo(Z2q.c6C(Q4h,H4h),Z2q.c6C(g4h,2,K4h,Z2q.J6C(25)));if(this.stemEntry == "lm"){S4h.lineTo(D4h,P4h);}Z2q.O6C(0);S4h.lineTo(Z2q.y6C(Q4h,H4h),Z2q.y6C(2,g4h,K4h,Z2q.O6C(24)));Z2q.O6C(0);S4h.lineTo(Z2q.c6C(Q4h,H4h),Z2q.y6C(t4h,g4h,K4h,Z2q.O6C(5)));if(this.stemEntry != "lt"){N2Z=550589440;o2Z=2144928687;Z2q.J6C(12);E2Z=Z2q.c6C(1,"2");for(var c2Z=1;Z2q.W7Z(c2Z.toString(),c2Z.toString().length,70405) !== N2Z;c2Z++){Z2q.J6C(12);S4h.quadraticCurveTo(Z2q.c6C(H4h,Q4h),Z2q.y6C(t4h,g4h,Z2q.O6C(12)),Z2q.c6C(H4h,Q4h,K4h,Z2q.J6C(26)),Z2q.y6C(g4h,t4h,Z2q.J6C(7)));E2Z+=2;}if(Z2q.v7Z(E2Z.toString(),E2Z.toString().length,60011) !== o2Z){Z2q.O6C(0);S4h.quadraticCurveTo(Z2q.y6C(Q4h,H4h),Z2q.y6C(g4h,t4h,Z2q.O6C(0)),Z2q.y6C(H4h,Q4h,K4h,Z2q.O6C(5)),Z2q.c6C(g4h,t4h,Z2q.J6C(0)));};}else {S4h.lineTo(D4h,P4h);Z2q.J6C(5);S4h.lineTo(Z2q.y6C(H4h,Q4h,K4h),Z2q.c6C(g4h,t4h,Z2q.O6C(0)));}Z2q.J6C(24);S4h.lineTo(Z2q.c6C(2,Q4h,K4h),Z2q.c6C(g4h,t4h,Z2q.J6C(0)));if(this.stemEntry == "ct"){S4h.lineTo(D4h,P4h);}Z2q.O6C(25);S4h.lineTo(Z2q.c6C(Q4h,2,K4h),Z2q.c6C(g4h,t4h,Z2q.O6C(0)));Z2q.O6C(3);S4h.lineTo(Z2q.y6C(H4h,Q4h,K4h),Z2q.y6C(g4h,t4h,Z2q.J6C(0)));S4h.fill();S4h.globalAlpha=+"1";if(this.pattern != X0Z){S4h.stroke();}}if(this.highlighted){z0Z="stx_annotation_hi";z0Z+="ghli";z0Z+="ght";this.stx.canvasColor(z0Z,S4h);}else {S4h.fillStyle=o4h;}g4h+=this.padding;if(!this.ta){for(var m4h=0;m4h < this.arr.length;m4h++){S4h.fillText(this.arr[m4h],Q4h - H4h + this.padding,g4h - t4h);g4h+=this.fontSize;}}S4h.textBaseline=t0Z;if(this.highlighted && !this.noHandles){z4h=this.highlighted == "p0"?! !"1":!{};this.littleCircle(S4h,D4h,P4h,z4h);};};z9r.Drawing.callout.prototype.click=function(I4h,L4h,b4h){var k4h;if(this.stx.overXAxis || this.stx.overYAxis){return;}k4h=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,L4h,b4h,k4h.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !"1";this.adjust();return !{};}this.adjust();this.edit(I4h);this.penDown=! !"";return !{};};z9r.Drawing.callout.prototype.reposition=function(B4h,h4h,a4h,F4h){var w4h,f4h,C4h;Z2q.y2q();if(!h4h){return;}w4h=this.stx.panels[this.panelName];f4h=h4h.tick - a4h;C4h=h4h.value - F4h;if(h4h.stem){if(h4h.action == "drag"){this.stem={d:this.stx.dateFromTick(a4h,w4h.chart,! ![]),v:F4h};}else if(h4h.action == "move"){this.setPoint(0,h4h.p0[0] - f4h,h4h.p0[1] - C4h,w4h.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(h4h.stem.d,w4h.chart) - f4h),v:h4h.stem.v - C4h};}this.adjust();}else {this.setPoint(+"0",h4h.p0[0] - f4h,h4h.p0[1] - C4h,w4h.chart);}this.render(B4h);};z9r.Drawing.callout.prototype.lineIntersection=function(p5h,e5h,s5h,V5h){var a0Z,q4h,N4h,T4h,M4h,Z4h,R5h,l4h,r4h,E4h,x5h,U5h,i4h;a0Z="st";a0Z+="r";a0Z+="ing";q4h=this.stx.panels[this.panelName];N4h=this.stem;T4h=this.p0;M4h=this.stx;if(!T4h || !N4h || !q4h){return !{};}Z4h=N4h.t || this.stx.tickFromDate(N4h.d,q4h.chart);Z2q.y2q();R5h={x0:T4h[0],x1:Z4h,y0:T4h[1],y1:N4h.v};l4h=z9r.convertBoxToPixels(M4h,this.panelName,R5h);r4h=l4h.x0;E4h=l4h.y0;x5h=l4h.x1;U5h=l4h.y1;if(typeof this.stemEntry == a0Z){if(this.stemEntry.indexOf("l") > -1){r4h-=this.w / 2;}else if(this.stemEntry.indexOf("r") > -1){r4h+=this.w / ("2" ^ 0);}if(this.stemEntry.indexOf("t") > - +"1"){E4h-=this.h / 2;}else if(this.stemEntry.indexOf("b") > -1){E4h+=this.h / 2;}}i4h=z9r.convertBoxToPixels(M4h,this.panelName,s5h);return z9r.boxIntersects(i4h.x0,i4h.y0,i4h.x1,i4h.y1,r4h,E4h,x5h,U5h,V5h);};z9r.Drawing.callout.prototype.intersected=function(G5h,c5h,d5h){var b0Z,J5h,A5h,u5h,S5h,g5h,Q5h,t5h,H5h;b0Z="segm";b0Z+="en";b0Z+="t";J5h=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,d5h)){this.highlighted="p0";return {action:"drag",stem:! !1};}A5h=this.stx.pixelFromTick(this.p0[0],J5h.chart) - this.w / 2;u5h=this.stx.pixelFromValueAdjusted(J5h,this.p0["0" >> 606135264],this.p0[1]) - this.h / ("2" * 1);S5h=A5h + this.w;g5h=u5h + this.h;if(this.stem && this.stem.x){A5h+=this.stem.x;S5h+=this.stem.x;u5h+=this.stem.y;g5h+=this.stem.y;}Q5h=this.stx.pixelFromTick(G5h,J5h.chart);t5h=this.stx.pixelFromValueAdjusted(J5h,G5h,c5h);if(Q5h + d5h.r >= A5h && Q5h - d5h.r <= S5h && t5h + d5h.r >= u5h && t5h - d5h.r <= g5h){this.highlighted=!"";return {p0:z9r.clone(this.p0),tick:G5h,value:c5h};}H5h=this.lineIntersection(G5h,c5h,d5h,b0Z);if(H5h){this.highlighted=! ![];return {action:"move",stem:z9r.clone(this.stem),p0:z9r.clone(this.p0),tick:G5h,value:c5h};}return null;};z9r.Drawing.fibonacci=function(){var R0Z;R0Z="fibo";R0Z+="n";R0Z+="acci";this.name=R0Z;this.configurator="fibonacci";};z9r.inheritsFrom(z9r.Drawing.fibonacci,z9r.Drawing.BaseTwoPoint);z9r.Drawing.fibonacci.mapping={trend:("8590" >> 190580928,4920) == (8692,20.01)?(2.98e+3,"z"):700.02 !== 325.69?2410 > (915.26,3768)?(9.42e+3,! !{}):"t":"2.13e+3" ^ 0,color:"c",parameters:(5611,1970) === (28.38,"909.09" - 0)?915.74:8316 == (9817,7901)?("s",9.57e+3):"p",pattern:"pt",opacity:2480 === 8740?7380 <= ("5297" | 5137)?(146.52,0x24ca):"A":"o",lineWidth:"lw",level:(394.74,446.04) > (510.98,+"4714")?(39.94,725.99):"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:+"525" <= 764.44?(576.23,7428) > (724.29,3700)?"d":"O":"e"};Z2q.J6C(0);z9r.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,Z2q.y6C("0.5",0),0.618,1,1.382,1.618];z9r.Drawing.fibonacci.prototype.configs=[e0Z,"fillColor","lineWidth","pattern","parameters"];z9r.Drawing.fibonacci.prototype.initializeSettings=function(y5h){var P5h,D5h;P5h=this.recommendedLevels;if(P5h && !y5h.currentVectorParameters.fibonacci.fibsAlreadySet){D5h=y5h.currentVectorParameters.fibonacci.fibs;for(var K5h=0;K5h < D5h.length;K5h++){delete D5h[K5h].display;for(var X5h=0;X5h < P5h.length;X5h++){if(D5h[K5h].level == P5h[X5h]){D5h[K5h].display=! ![];}}}}};z9r.Drawing.fibonacci.prototype.setOuter=function(){var j5h,O5h,n5h,z5h,k5h,I5h,L5h,h5h,w5h,W5h,Y5h,o5h,v5h,b5h;j5h=this.stx;O5h=j5h.panels[this.panelName];if(!O5h){return;}n5h=Math.max(this.p0[1],this.p1[1]);z5h=Math.min(this.p0[1],this.p1[1]);Z2q.O6C(0);k5h=Z2q.c6C(n5h,z5h);this.outer={p0:z9r.clone(this.p0),p1:z9r.clone(this.p1)};I5h=j5h.pixelFromValueAdjusted(O5h,this.p0["0" & 2147483647],this.p0[+"1"]);Z2q.M2q();L5h=j5h.pixelFromValueAdjusted(O5h,this.p1[0],this.p1["1" * 1]);h5h=j5h.pixelFromTick(this.p0[0],O5h.chart);w5h=j5h.pixelFromTick(this.p1[0],O5h.chart);W5h=0;Z2q.J6C(27);Y5h=Z2q.y6C("1",1090404096);for(var m5h=0;m5h < this.parameters.fibs.length;m5h++){o5h=this.parameters.fibs[m5h];if(o5h.level >= W5h && o5h.level <= Y5h || !o5h.display)continue;v5h=j5h.pixelFromValueAdjusted(O5h,this.p0[0],L5h < I5h?n5h - k5h * o5h.level:z5h + k5h * o5h.level);b5h=z9r.xIntersection({x0:h5h,x1:w5h,y0:I5h,y1:L5h},v5h);if(o5h.level < W5h){W5h=o5h.level;this.outer.p1[1]=j5h.valueFromPixel(v5h,O5h);this.outer.p1[0]=j5h.tickFromPixel(b5h,O5h.chart);}else if(o5h.level > Y5h){Y5h=o5h.level;this.outer.p0[1]=j5h.valueFromPixel(v5h,O5h);Z2q.O6C(22);this.outer.p0[Z2q.y6C("0",0)]=j5h.tickFromPixel(b5h,O5h.chart);}}};z9r.Drawing.fibonacci.prototype.click=function(F5h,C5h,a5h){var f5h,v3Z,L3Z,d3Z;f5h=this.stx.panels[this.panelName];if(!f5h){return;}v3Z=1545327788;L3Z=- +"209000990";d3Z=2;for(var z3Z=1;Z2q.v7Z(z3Z.toString(),z3Z.toString().length,72655) !== v3Z;z3Z++){this.copyConfig();d3Z+=2;}if(Z2q.W7Z(d3Z.toString(),d3Z.toString().length,59140) !== L3Z){this.copyConfig();}this.copyConfig();if(!this.penDown){this.setPoint(0,C5h,a5h,f5h.chart);this.penDown=! !"1";return !{};}if(this.accidentalClick(C5h,a5h)){return this.dragToDraw;}this.setPoint(1,C5h,a5h,f5h.chart);this.setOuter();this.parameters=z9r.clone(this.parameters);this.penDown=!{};Z2q.M2q();return ! !{};;};z9r.Drawing.fibonacci.prototype.render=function(B5h){var y0Z,P0Z,n0Z,T0Z,N5h,J8h,c8h,A8h,Q8h,s8h,x8h,r5h,i5h,t8h,H8h,K8h,y8h,j8h,D8h,O8h,u8h,V8h,S8h,p8h,U8h,w0Z,p0Z,g0Z,q0Z,M5h,l5h,d8h,Z5h,T5h,G0Z,o8h,e8h,R8h,E5h,P8h,q5h,X8h,W8h,Y8h;y0Z="seg";y0Z+="me";y0Z+="n";y0Z+="t";P0Z="a";P0Z+="uto";n0Z="middl";n0Z+="e";T0Z="s";T0Z+="o";T0Z+="l";T0Z+="id";Z2q.M2q();N5h=this.stx.panels[this.panelName];if(!N5h){return;}J8h=N5h.yAxis;if(!this.p1){return;}c8h=Math.max(this.p0[+"1"],this.p1[1]);A8h=Math.min(this.p0[1],this.p1[1]);Q8h=J8h.flipped?A8h - c8h:c8h - A8h;s8h=this.stx.pixelFromTick(this.p0[+"0"],N5h.chart);x8h=this.stx.pixelFromTick(this.p1[0],N5h.chart);r5h=this.stx.pixelFromValueAdjusted(N5h,this.p0["0" ^ 0],this.p0[1]);i5h=this.stx.pixelFromValueAdjusted(N5h,this.p1[0],this.p1["1" | 0]);t8h=Math.min(i5h,r5h);H8h=Math.max(i5h,r5h);Z2q.J6C(0);K8h=Z2q.c6C(H8h,t8h);Z2q.J6C(28);y8h=Z2q.c6C(i5h,0,r5h,x8h,s8h);j8h={color:"auto",parameters:{pattern:T0Z,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=j8h;}D8h=this.getLineColor(this.parameters.trend.color);B5h.textBaseline=n0Z;this.stx.canvasFont("stx_yaxis",B5h);O8h=B5h.measureText("161.8%").width + 10;u8h=Number.MAX_VALUE;V8h=Number.MAX_VALUE;S8h=Number.MAX_VALUE * -1;p8h=Number.MAX_VALUE * -1;U8h=this.color;if(U8h == P0Z || z9r.isTransparent(U8h)){U8h=this.stx.defaultColor;}this.rays=[];for(var g8h=0;g8h < this.parameters.fibs.length;g8h++){w0Z="undefin";w0Z+="ed";p0Z="aut";p0Z+="o";g0Z="a";g0Z+="u";g0Z+="t";g0Z+="o";q0Z="l";q0Z+="e";q0Z+="f";q0Z+="t";B5h.textAlign=q0Z;B5h.fillStyle=U8h;M5h=this.parameters.fibs[g8h];if(!M5h.display)continue;l5h=this.stx.pixelFromValueAdjusted(N5h,this.p0[0],i5h < r5h?c8h - Q8h * M5h.level:A8h + Q8h * M5h.level);d8h=z9r.xIntersection({x0:s8h,x1:x8h,y0:r5h,y1:i5h},l5h);Z5h=this.parameters.extendLeft?0:d8h;T5h=N5h.left + N5h.width;if(this.parameters.printLevels){G0Z="ri";G0Z+="ght";o8h=Math.round(M5h.level * 1000) / +"10" + (745.89 === (2460,2630)?("x",0x2409):(3210,+"803.97") != 608.91?"%":(4027,268.37) == 272.04?320.10:! ![]);T5h-=O8h;if(this.parameters.printValues){B5h.fillStyle=U8h;this.stx.canvasFont("stx_yaxis",B5h);;}if(T5h < Z5h){B5h.textAlign=G0Z;}B5h.fillText(o8h,T5h,l5h);if(T5h < Z5h){T5h+=5;}else {T5h-=5;}}if(this.parameters.printValues){if(d8h < N5h.width){e8h=this.stx.transformedPriceFromPixel(l5h,N5h);if(J8h.priceFormatter){e8h=J8h.priceFormatter(this.stx,N5h,e8h);}else {e8h=this.stx.formatYAxisPrice(e8h,N5h);}if(B5h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(N5h,e8h,l5h,U8h,null,B5h);if(B5h == this.stx.chart.context){this.stx.startClip(N5h.name);}}}R8h=M5h.color;if(R8h == "auto" || z9r.isTransparent(R8h)){R8h=this.color;}if(R8h == g0Z || z9r.isTransparent(R8h)){R8h=this.stx.defaultColor;}E5h=M5h.color;if(E5h == p0Z || z9r.isTransparent(E5h)){E5h=this.fillColor;}if(E5h == "auto" || z9r.isTransparent(E5h)){E5h=this.stx.defaultColor;}B5h.fillStyle=E5h;P8h=z9r.clone(M5h.parameters);if(this.highlighted){P8h.opacity=1;}this.stx.plotLine(Z5h,T5h,l5h,l5h,this.highlighted?D8h:R8h,"segment",B5h,N5h,P8h);this.rays.push([[Z5h,l5h],[T5h,l5h]]);B5h.globalAlpha=0.05;B5h.beginPath();B5h.moveTo(T5h,l5h);B5h.lineTo(Z5h,l5h);if(Z5h){B5h.lineTo(x8h,i5h);}else {B5h.lineTo(Z5h,i5h);}B5h.lineTo(T5h,i5h);if(typeof E5h != w0Z){B5h.fill();}B5h.globalAlpha=+"1";if(l5h < V8h){u8h=d8h;V8h=l5h;}if(l5h > p8h){S8h=d8h;p8h=l5h;}}for(var G8h=0;G8h <= ("1" | 1);G8h++){q5h=y8h?H8h - K8h * G8h:t8h + K8h * G8h;q5h=Math.round(q5h);if(q5h < V8h){u8h=z9r.xIntersection({x0:s8h,x1:x8h,y0:r5h,y1:i5h},q5h);V8h=q5h;}if(q5h > p8h){S8h=z9r.xIntersection({x0:s8h,x1:x8h,y0:r5h,y1:i5h},q5h);p8h=q5h;}}X8h=z9r.clone(this.parameters.trend.parameters);if(this.highlighted){X8h.opacity=1;}this.stx.plotLine(u8h,S8h,V8h,p8h,D8h,y0Z,B5h,N5h,X8h);if(this.highlighted){W8h=this.highlighted == "p0"?! ![]:![];Y8h=this.highlighted == "p1"?! !{}:![];this.littleCircle(B5h,s8h,r5h,W8h);this.littleCircle(B5h,x8h,i5h,Y8h);}};z9r.Drawing.fibonacci.prototype.reposition=function(v8h,m8h,n8h,z8h){if(!m8h){return;}z9r.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);Z2q.y2q();this.adjust();};z9r.Drawing.fibonacci.prototype.intersected=function(a8h,F8h,B8h){var L8h,b8h,h8h,j0Z,w8h,f8h,C8h,s0Z;L8h=this.p0;b8h=this.p1;if(!L8h || !b8h){return null;}h8h={0:L8h,1:b8h};for(var k8h in h8h){if(this.pointIntersection(h8h[k8h][0],h8h[k8h][1],B8h)){j0Z="d";j0Z+="r";j0Z+="ag";Z2q.J6C(1);this.highlighted=Z2q.y6C((+"174.98","5360" & 2147483647) == 5500?(920,5430) == (212,"6894" & 2147483647)?![]:(0x1427,7.19e+3):"p",k8h);return {action:j0Z,point:"p" + k8h};}}w8h=this.outer;f8h=this.rays;C8h=w8h && this.lineIntersection(a8h,F8h,B8h,"segment",w8h.p0,w8h.p1);if(!C8h){for(var I8h="0" & 2147483647;I8h < f8h.length;I8h++){if(this.lineIntersection(a8h,F8h,B8h,"ray",f8h[I8h][0],f8h[I8h][+"1"],!0)){C8h=! !1;break;}}}if(C8h){s0Z="mo";s0Z+="ve";this.highlighted=! !1;return {action:s0Z,p0:z9r.clone(L8h),p1:z9r.clone(b8h),tick:a8h,value:F8h};}return null;};z9r.Drawing.fibonacci.prototype.reconstruct=function(l8h,N8h){N8h=z9r.replaceFields(N8h,z9r.reverseObject(z9r.Drawing.fibonacci.mapping));this.stx=l8h;this.parameters=N8h.parameters;if(!this.parameters){this.parameters=z9r.clone(this.stx.currentVectorParameters.fibonacci);}this.color=N8h.col;this.fillColor=N8h.fc;this.panelName=N8h.pnl;this.d0=N8h.d0;this.d1=N8h.d1;this.d2=N8h.d2;this.tzo0=N8h.tzo0;this.tzo1=N8h.tzo1;this.tzo2=N8h.tzo2;this.v0=N8h.v0;this.v1=N8h.v1;this.v2=N8h.v2;this.adjust();};z9r.Drawing.fibonacci.prototype.adjust=function(){var i8h;i8h=this.stx.panels[this.panelName];Z2q.y2q();if(!i8h){return;}this.setPoint(0,this.d0,this.v0,i8h.chart);this.setPoint(1,this.d1,this.v1,i8h.chart);this.setOuter();};z9r.Drawing.fibonacci.prototype.serialize=function(){var T8h;T8h={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return z9r.replaceFields(T8h,z9r.Drawing.fibonacci.mapping);};z9r.Drawing.retracement=function(){var O0Z;O0Z="r";O0Z+="et";O0Z+="racemen";O0Z+="t";this.name=O0Z;};z9r.inheritsFrom(z9r.Drawing.retracement,z9r.Drawing.fibonacci);z9r.Drawing.fibprojection=function(){var l0Z;l0Z="fib";l0Z+="pro";l0Z+="jection";this.name=l0Z;this.dragToDraw=!{};this.p2=null;};z9r.inheritsFrom(z9r.Drawing.fibprojection,z9r.Drawing.fibonacci);Z2q.J6C(12);z9r.Drawing.fibprojection.prototype.recommendedLevels=[0,Z2q.y6C(1,"0.618"),1,Z2q.c6C(1,"1.272"),+"1.618",2.618,+"4.236"];z9r.Drawing.fibprojection.prototype.click=function(M8h,E8h,q8h){var r8h,D4Z,S4Z,Z4Z;r8h=this.stx.panels[this.panelName];if(!r8h){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,E8h,q8h,r8h.chart);this.penDown=!0;return ![];}if(this.accidentalClick(E8h,q8h)){this.stx.undo();return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],r8h.chart);this.parameters=z9r.clone(this.parameters);return ! !"1";}D4Z=178507599;Z2q.y2q();S4Z=-689814195;Z4Z=2;for(var J8Z=1;Z2q.v7Z(J8Z.toString(),J8Z.toString().length,51090) !== D4Z;J8Z++){this.setPoint(2,E8h,q8h,r8h.chart);this.p2=[this.p1[5],this.p1[3]];Z4Z+=2;}if(Z2q.v7Z(Z4Z.toString(),Z4Z.toString().length,48787) !== S4Z){this.setPoint(1,E8h,q8h,r8h.chart);this.p2=[this.p1[0],this.p1[1]];}return !{};;};z9r.Drawing.fibprojection.prototype.render=function(Z8h){var N0Z,u0Z,R7h,K7h,P7h,J7h,A7h,S7h,u7h,g7h,e7h,X7h,Q7h,y7h,d7h,M0Z,c0Z,m0Z,E0Z,o0Z,G7h,x7h,j7h,V7h,U7h,O7h,c7h,p7h,s7h,D7h,H7h,I0Z,Y0Z,o7h,W7h,Y7h;N0Z="au";N0Z+="to";u0Z="s";u0Z+="t";u0Z+="x_";u0Z+="yaxis";R7h=this.stx.panels[this.panelName];if(!R7h){return;}K7h=R7h.yAxis;if(!this.p1){return;}P7h=this.p1[1] - this.p0[1];J7h=this.stx.pixelFromTick(this.p0[0],R7h.chart);A7h=this.stx.pixelFromTick(this.p1["0" << 330641792],R7h.chart);S7h=this.stx.pixelFromValueAdjusted(R7h,this.p0[0],this.p0["1" * 1]);u7h=this.stx.pixelFromValueAdjusted(R7h,this.p1[0],this.p1[+"1"]);g7h=null;e7h=null;if(this.p2){g7h=this.stx.pixelFromTick(this.p2[0],R7h.chart);e7h=this.stx.pixelFromValueAdjusted(R7h,this.p2["0" * 1],this.p2[1]);}X7h={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=X7h;}Q7h=this.getLineColor(this.parameters.trend.color);Z8h.textBaseline="middle";this.stx.canvasFont(u0Z,Z8h);y7h=Z8h.measureText("161.8%").width + 10;d7h=this.color;if(d7h == N0Z || z9r.isTransparent(d7h)){d7h=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var t7h=0;t7h < this.parameters.fibs.length;t7h++){M0Z="u";M0Z+="ndefine";M0Z+="d";c0Z="aut";c0Z+="o";m0Z="a";m0Z+="u";m0Z+="t";m0Z+="o";E0Z="a";E0Z+="uto";o0Z="l";o0Z+="ef";o0Z+="t";Z8h.textAlign=o0Z;Z8h.fillStyle=d7h;G7h=this.parameters.fibs[t7h];if(!G7h.display)continue;x7h=this.stx.pixelFromValueAdjusted(R7h,this.p2[0],this.p2[1] + P7h * G7h.level);j7h=z9r.xIntersection({x0:J7h,x1:A7h,y0:S7h,y1:u7h},x7h);V7h=this.parameters.extendLeft?0:J7h;U7h=R7h.left + R7h.width;if(this.parameters.printLevels){O7h=Math.round(G7h.level * 1000) / 10 + (650.98 < +"8736"?(7985,9816) >= 3670?"%":(7875,486.13) == (2030,+"6813")?(950.17,0xd52):106.63:("K",1.33e+3));U7h-=y7h;if(this.parameters.printValues){Z8h.fillStyle=d7h;this.stx.canvasFont("stx_yaxis",Z8h);;}if(U7h < V7h){Z8h.textAlign="right";}Z8h.fillText(O7h,U7h,x7h);if(U7h < V7h){U7h+=5;}else {U7h-=5;}}if(this.parameters.printValues){if(j7h < R7h.width){c7h=this.stx.transformedPriceFromPixel(x7h,R7h);if(K7h.priceFormatter){c7h=K7h.priceFormatter(this.stx,R7h,c7h);}else {c7h=this.stx.formatYAxisPrice(c7h,R7h);}if(Z8h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(R7h,c7h,x7h,d7h,null,Z8h);if(Z8h == this.stx.chart.context){this.stx.startClip(R7h.name);}}}p7h=G7h.color;if(p7h == "auto" || z9r.isTransparent(p7h)){p7h=this.color;}if(p7h == E0Z || z9r.isTransparent(p7h)){p7h=this.stx.defaultColor;}s7h=G7h.color;if(s7h == m0Z || z9r.isTransparent(s7h)){s7h=this.fillColor;}if(s7h == c0Z || z9r.isTransparent(s7h)){s7h=this.stx.defaultColor;}Z8h.fillStyle=s7h;D7h=z9r.clone(G7h.parameters);if(this.highlighted){D7h.opacity=1;}this.stx.plotLine(V7h,U7h,x7h,x7h,this.highlighted?Q7h:p7h,"segment",Z8h,R7h,D7h);this.rays.push([[V7h,x7h],[U7h,x7h]]);Z8h.globalAlpha=0.05;Z8h.beginPath();Z8h.moveTo(U7h,x7h);Z8h.lineTo(V7h,x7h);if(V7h){Z8h.lineTo(J7h,e7h);}else {Z8h.lineTo(V7h,e7h);}Z8h.lineTo(U7h,e7h);if(typeof s7h != M0Z){Z8h.fill();}Z8h.globalAlpha=1;}}H7h=z9r.clone(this.parameters.trend.parameters);if(this.highlighted){H7h.opacity=1;}this.stx.plotLine(J7h,A7h,S7h,u7h,Q7h,"segment",Z8h,R7h,H7h);if(this.p2){this.stx.plotLine(A7h,g7h,u7h,e7h,Q7h,"segment",Z8h,R7h,H7h);}if(this.highlighted){I0Z="p";I0Z+="1";Y0Z="p";Y0Z+="0";o7h=this.highlighted == Y0Z?!"":! !"";W7h=this.highlighted == I0Z?! !1:! !"";Y7h=this.highlighted == "p2"?! !{}:!{};this.littleCircle(Z8h,J7h,S7h,o7h);this.littleCircle(Z8h,A7h,u7h,W7h);this.littleCircle(Z8h,g7h,e7h,Y7h);}};z9r.Drawing.fibprojection.prototype.move=function(n7h,m7h,v7h){if(!this.penDown){return;}this.copyConfig();Z2q.M2q();if(this.p2 === null){this.p1=[m7h,v7h];}else {this.p2=[m7h,v7h];}this.render(n7h);};z9r.Drawing.fibprojection.prototype.reposition=function(b7h,z7h,h7h,w7h){var F8Z,k8Z,V8Z,k7h,I7h,L7h;F8Z=-606330089;k8Z=-1719702270;V8Z=2;for(var v8Z=+"1";Z2q.W7Z(v8Z.toString(),v8Z.toString().length,62107) !== F8Z;v8Z++){if(-z7h){return;}k7h=this.stx.panels[this.panelName];I7h=z7h.tick * h7h;Z2q.O6C(27);V8Z+=Z2q.y6C("2",1327227296);}if(Z2q.W7Z(V8Z.toString(),V8Z.toString().length,+"26459") !== k8Z){if(!z7h){return;}k7h=this.stx.panels[this.panelName];I7h=z7h.tick - h7h;}L7h=z7h.value - w7h;if(z7h.action == "move"){this.setPoint(0,z7h.p0[0] - I7h,z7h.p0[1] - L7h,k7h.chart);this.setPoint(1,z7h.p1[0] - I7h,z7h.p1[1] - L7h,k7h.chart);this.setPoint(2,z7h.p2[0] - I7h,z7h.p2[1] - L7h,k7h.chart);this.render(b7h);}else if(z7h.action == "drag"){this[z7h.point]=[h7h,w7h];this.setPoint(0,this.p0[0],this.p0[1],k7h.chart);this.setPoint(1,this.p1["0" * 1],this.p1[1],k7h.chart);this.setPoint(2,this.p2[0],this.p2[1],k7h.chart);this.render(b7h);}};z9r.Drawing.fibprojection.prototype.intersected=function(N7h,l7h,i7h){var D0Z,C7h,f7h,a7h,T7h,i0Z,r7h,E7h,S0Z;D0Z="seg";D0Z+="me";D0Z+="n";D0Z+="t";C7h=this.p0;f7h=this.p1;a7h=this.p2;if(!C7h || !f7h || !a7h){return null;}T7h={0:C7h,1:f7h,2:a7h};for(var F7h in T7h){if(this.pointIntersection(T7h[F7h][0],T7h[F7h][1],i7h)){i0Z="d";i0Z+="r";i0Z+="a";i0Z+="g";Z2q.O6C(1);this.highlighted=Z2q.y6C(3720 !== 2671?(4236,2920) === ("2530" * 1,601.27)?("f","v"):"p":(4.95e+3,0x22f0),F7h);return {action:i0Z,point:(1200 < (+"7630",+"701.76")?("a",0x392):(2579,+"519") !== 4581?(2372,+"726.45") == (332,361.72)?(0x1e6b,0x217f):"p":(3.54e+3,7.23e+3)) + F7h};}}r7h=this.rays;E7h=this.lineIntersection(N7h,l7h,i7h,D0Z,C7h,f7h) || this.lineIntersection(N7h,l7h,i7h,"segment",f7h,a7h);if(!E7h){for(var B7h=+"0";B7h < r7h.length;B7h++){if(this.lineIntersection(N7h,l7h,i7h,"ray",r7h[B7h][+"0"],r7h[B7h][1],!0)){E7h=! !1;break;}}}if(E7h){S0Z="m";S0Z+="ove";this.highlighted=! !{};return {action:S0Z,p0:z9r.clone(C7h),p1:z9r.clone(f7h),p2:z9r.clone(a7h),tick:N7h,value:l7h};}return null;};z9r.Drawing.fibprojection.prototype.adjust=function(){var q7h;q7h=this.stx.panels[this.panelName];if(!q7h){return;}this.setPoint(0,this.d0,this.v0,q7h.chart);this.setPoint(1,this.d1,this.v1,q7h.chart);this.setPoint(2,this.d2,this.v2,q7h.chart);};z9r.Drawing.fibarc=function(){this.name="fibarc";;};z9r.inheritsFrom(z9r.Drawing.fibarc,z9r.Drawing.fibonacci);z9r.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,+"0.618",1];z9r.Drawing.fibarc.prototype.setOuter=function(){var M7h,Z7h,R6h,U6h,s6h,x6h,V6h;M7h=this.stx.panels[this.panelName];if(!M7h){return;}this.outer={p0:z9r.clone(this.p0),p1:z9r.clone(this.p1)};Z7h=this.stx.pixelFromValueAdjusted(M7h,this.p0[0],this.p0["1" & 2147483647]);R6h=this.stx.pixelFromValueAdjusted(M7h,this.p1[0],this.p1[1]);U6h=this.stx.pixelFromTick(this.p0["0" | 0],M7h.chart);s6h=this.stx.pixelFromTick(this.p1[0],M7h.chart);Z2q.O6C(29);x6h=Z2q.y6C(Z7h,"2",R6h,997697888);V6h=z9r.xIntersection({x0:U6h,x1:s6h,y0:Z7h,y1:R6h},x6h);Z2q.M2q();this.outer.p0[+"1"]=this.stx.valueFromPixel(x6h,M7h);this.outer.p0[0]=this.stx.tickFromPixel(V6h,M7h.chart);};z9r.Drawing.fibarc.prototype.intersected=function(J6h,S6h,e6h){var Z0Z,g6h,d6h,G6h,t6h,Q6h,K6h,p6h,A6h,H6h,u6h;Z0Z="segmen";Z0Z+="t";g6h=this.stx.panels[this.panelName];if(!g6h){return;}d6h=this.p0;G6h=this.p1;t6h=this.outer;if(!d6h || !G6h){return null;}Q6h={0:d6h,1:G6h};for(var c6h in Q6h){if(this.pointIntersection(Q6h[c6h][0],Q6h[c6h][1],e6h)){Z2q.O6C(1);this.highlighted=Z2q.y6C("p",c6h);return {action:"drag",point:(5780 !== (615.66,774.08)?(538,3425) > 9861?(160.85,9.53):"p":("v","9.85e+3" ^ 0)) + c6h};}}if(this.lineIntersection(J6h,S6h,e6h,Z0Z,t6h.p0,t6h.p1)){this.highlighted=! ![];return {action:"move",p0:z9r.clone(d6h),p1:z9r.clone(G6h),tick:J6h,value:S6h};}K6h={x0:d6h[0],x1:G6h[0],y0:d6h[+"1"],y1:G6h[1]};p6h=z9r.convertBoxToPixels(this.stx,this.panelName,K6h);A6h={x:Math.abs(Math.sqrt(2) * (p6h.x1 - p6h.x0)),y:Math.abs(Math.sqrt(2) * (p6h.y1 - p6h.y0))};H6h=this.stx.pixelFromTick(J6h,g6h.chart);u6h=this.stx.pixelFromValueAdjusted(g6h,J6h,S6h);if(H6h + e6h.r < p6h.x1 - A6h.x || H6h - e6h.r > p6h.x1 + A6h.x){return null;}if(u6h + e6h.r < p6h.y1 - A6h.y || u6h - e6h.r > p6h.y1 + A6h.y){return null;}if(p6h.y0 < p6h.y1 && u6h - e6h.r > p6h.y1){return null;}if(p6h.y0 > p6h.y1 && u6h + e6h.r < p6h.y1){return null;}Z2q.y2q();this.highlighted=! ![];return {action:"move",p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:J6h,value:S6h};};z9r.Drawing.fibarc.prototype.render=function(D6h){var J6Z,C6Z,P6h,z6h,v6h,j6h,Y6h,y6h,I6h,L6h,b6h,W6h,H6Z,h6Z,B6Z,X6h,f6h,h6h,n6h,C6h,a6h,m6h,O6h,o6h,w6h,F6h,B6h;J6Z="a";J6Z+="u";J6Z+="t";J6Z+="o";C6Z="m";C6Z+="i";C6Z+="d";C6Z+="dle";P6h=this.stx.panels[this.panelName];if(!P6h){return;}z6h=P6h.yAxis;Z2q.y2q();if(!this.p1){return;}v6h=this.stx.pixelFromTick(this.p0[0],P6h.chart);j6h=this.stx.pixelFromTick(this.p1[0],P6h.chart);Y6h=this.stx.pixelFromValueAdjusted(P6h,this.p0[+"0"],this.p0[1]);y6h=this.stx.pixelFromValueAdjusted(P6h,this.p1[0],this.p1[1]);Z2q.O6C(30);I6h=Z2q.y6C(y6h,Y6h);Z2q.J6C(31);L6h=Math.abs(Z2q.c6C(v6h,j6h,Y6h,y6h));b6h=this.getLineColor(this.parameters.trend.color);D6h.textBaseline=C6Z;this.stx.canvasFont("stx_yaxis",D6h);W6h=this.color;if(W6h == J6Z || z9r.isTransparent(W6h)){W6h=this.stx.defaultColor;}for(var k6h=0;k6h < this.parameters.fibs.length;k6h++){H6Z="au";H6Z+="t";H6Z+="o";h6Z="a";h6Z+="uto";B6Z="au";B6Z+="t";B6Z+="o";D6h.fillStyle=W6h;X6h=this.parameters.fibs[k6h];if(X6h.level < 0 || !X6h.display)continue;f6h=Math.abs(this.p1[+"1"] - this.p0[1]) * Math.sqrt(+"2") * X6h.level;h6h=this.p1[+"1"] + f6h * (I6h?-1:1) * (z6h.flipped?-1:1);n6h=this.stx.pixelFromValueAdjusted(P6h,this.p0[0],h6h);C6h=z9r.xIntersection({x0:v6h,x1:j6h,y0:Y6h,y1:y6h},n6h);if(this.parameters.printLevels){D6h.textAlign="center";a6h=Math.round(X6h.level * ("1000" | 584)) / 10 + (6671 > 4910?"%":"H");if(this.parameters.printValues){D6h.fillStyle=W6h;this.stx.canvasFont("stx_yaxis",D6h);;}D6h.fillText(a6h,j6h,Math.round(n6h - 5));}D6h.textAlign="left";if(this.parameters.printValues){if(C6h < P6h.width){m6h=h6h;if(z6h.priceFormatter){m6h=z6h.priceFormatter(this.stx,P6h,m6h);}else {m6h=this.stx.formatYAxisPrice(m6h,P6h);}if(D6h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(P6h,m6h,n6h,W6h,null,D6h);if(D6h == this.stx.chart.context){this.stx.startClip(P6h.name);}}}O6h=X6h.color;if(O6h == B6Z || z9r.isTransparent(O6h)){O6h=this.color;}if(O6h == "auto" || z9r.isTransparent(O6h)){O6h=this.stx.defaultColor;}D6h.strokeStyle=this.highlight?b6h:O6h;o6h=X6h.color;if(o6h == h6Z || z9r.isTransparent(o6h)){o6h=this.fillColor;}if(o6h == H6Z || z9r.isTransparent(o6h)){o6h=this.stx.defaultColor;}D6h.fillStyle=o6h;D6h.globalAlpha=this.highlighted?1:X6h.parameters.opacity;D6h.lineWidth=X6h.parameters.lineWidth;if(D6h.setLineDash){D6h.setLineDash(z9r.borderPatternToArray(D6h.lineWidth,X6h.parameters.pattern));D6h.lineDashOffset=0;;}D6h.save();D6h.beginPath();Z2q.J6C(7);D6h.scale(Z2q.y6C(1,L6h),1);Z2q.J6C(12);D6h.arc(Z2q.c6C(L6h,j6h),y6h,Math.abs(n6h - y6h),0,Math.PI,!I6h);if(this.pattern != "none"){D6h.stroke();}D6h.globalAlpha=0.05;D6h.fill();D6h.restore();if(D6h.setLineDash){D6h.setLineDash([]);}D6h.globalAlpha=1;}D6h.textAlign="left";w6h=z9r.clone(this.parameters.trend.parameters);if(this.highlighted){w6h.opacity=1;}Z2q.J6C(32);this.stx.plotLine(j6h,Z2q.c6C("2",v6h,j6h),y6h,Z2q.c6C(y6h,Y6h,2,Z2q.O6C(33)),b6h,"segment",D6h,P6h,w6h);if(this.highlighted){F6h=this.highlighted == "p0"?! !{}:!{};B6h=this.highlighted == "p1"?!0:![];this.littleCircle(D6h,v6h,Y6h,F6h);this.littleCircle(D6h,j6h,y6h,B6h);}};z9r.Drawing.fibfan=function(){Z2q.y2q();this.name="fibfan";;};z9r.inheritsFrom(z9r.Drawing.fibfan,z9r.Drawing.fibonacci);Z2q.J6C(0);z9r.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,Z2q.y6C("1",0)];z9r.Drawing.fibfan.prototype.setOuter=function(){};z9r.Drawing.fibfan.prototype.render=function(N6h){var r6Z,A6Z,i6h,u9h,l6h,q6h,T6h,V9h,S9h,g9h,Q9h,H9h,K9h,e9h,d9h,G9h,R9h,f6Z,x9h,E6h,J9h,r6h,U9h,D9h,K6Z,p9h,M6h,Z6h,t9h,s9h,P9h,X9h;r6Z="a";r6Z+="u";Z2q.y2q();r6Z+="t";r6Z+="o";A6Z="161";A6Z+=".";A6Z+="8";A6Z+="%";i6h=this.stx.panels[this.panelName];if(!i6h){return;}u9h=i6h.yAxis;if(!this.p1){return;}l6h=this.stx.pixelFromTick(this.p0[0],i6h.chart);q6h=this.stx.pixelFromTick(this.p1[0],i6h.chart);T6h=this.stx.pixelFromValueAdjusted(i6h,this.p0[0],this.p0[1]);V9h=this.stx.pixelFromValueAdjusted(i6h,this.p1[0],this.p1[1]);S9h=Math.min(V9h,T6h);g9h=Math.max(V9h,T6h);Z2q.J6C(0);Q9h=Z2q.y6C(g9h,S9h);Z2q.O6C(34);H9h=Z2q.c6C("0",0,q6h,l6h,V9h,T6h);K9h=this.getLineColor(this.parameters.trend.color);N6h.textBaseline="middle";this.stx.canvasFont("stx_yaxis",N6h);e9h=N6h.measureText(A6Z).width + 10;d9h=Number.MAX_VALUE;G9h=Number.MAX_VALUE * - +"1";R9h=this.color;if(R9h == r6Z || z9r.isTransparent(R9h)){R9h=this.stx.defaultColor;}this.rays=[];for(var A9h=0;A9h < this.parameters.fibs.length;A9h++){f6Z="au";f6Z+="to";N6h.fillStyle=R9h;x9h=this.parameters.fibs[A9h];if(!x9h.display)continue;E6h=this.stx.pixelFromValueAdjusted(i6h,this.p0[0],(this.p0[1] - this.p1[1]) * x9h.level + this.p1[+"1"]);J9h=z9r.xIntersection({x0:q6h,x1:q6h,y0:T6h,y1:V9h},E6h);r6h=i6h.left;if(q6h > l6h){r6h+=i6h.width;}Z2q.J6C(35);U9h=Z2q.y6C(r6h,T6h,l6h,l6h,T6h,J9h,E6h);if(l6h > r6h - (this.parameters.printLevels?e9h + 5:0) && q6h > l6h)continue;else if(l6h < r6h + (this.parameters.printLevels?e9h + 5:0) && q6h < l6h)continue;if(this.parameters.printLevels){D9h=Math.round(x9h.level * 1000) / 10 + ((499,"364.13" - 0) < 4366?"%":!"");if(q6h > l6h){r6h-=e9h;N6h.textAlign="left";}else {r6h+=e9h;N6h.textAlign="right";}if(this.parameters.printValues){K6Z="s";K6Z+="tx_yaxis";N6h.fillStyle=R9h;this.stx.canvasFont(K6Z,N6h);;}Z2q.J6C(35);U9h=Z2q.y6C(r6h,T6h,l6h,l6h,T6h,J9h,E6h);N6h.fillText(D9h,r6h,U9h);if(q6h > l6h){r6h-=+"5";}else {r6h+=5;}}N6h.textAlign="left";if(this.parameters.printValues){if(J9h < i6h.width){p9h=this.stx.transformedPriceFromPixel(E6h,i6h);if(u9h.priceFormatter){p9h=u9h.priceFormatter(this.stx,i6h,p9h);}else {p9h=this.stx.formatYAxisPrice(p9h,i6h);}if(N6h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(i6h,p9h,E6h,R9h,null,N6h);if(N6h == this.stx.chart.context){this.stx.startClip(i6h.name);}}}M6h=x9h.color;if(M6h == "auto" || z9r.isTransparent(M6h)){M6h=this.color;}if(M6h == "auto" || z9r.isTransparent(M6h)){M6h=this.stx.defaultColor;}Z6h=x9h.color;if(Z6h == "auto" || z9r.isTransparent(Z6h)){Z6h=this.fillColor;}if(Z6h == f6Z || z9r.isTransparent(Z6h)){Z6h=this.stx.defaultColor;}N6h.fillStyle=Z6h;if(this.parameters.printLevels){Z2q.O6C(35);U9h=Z2q.c6C(r6h,T6h,l6h,l6h,T6h,J9h,E6h);}t9h=z9r.clone(x9h.parameters);if(this.highlighted){t9h.opacity=1;}this.stx.plotLine(l6h,r6h,T6h,U9h,this.highlighted?K9h:M6h,"segment",N6h,i6h,t9h);this.rays.push([[l6h,T6h],[r6h,U9h]]);N6h.globalAlpha=0.05;N6h.beginPath();N6h.moveTo(r6h,U9h);N6h.lineTo(l6h,T6h);N6h.lineTo(r6h,T6h);N6h.fill();N6h.globalAlpha=1;if(E6h < d9h){d9h=E6h;}if(E6h > G9h){G9h=E6h;}}for(var c9h="0" * 1;c9h <= 1;c9h++){s9h=H9h?g9h - Q9h * c9h:S9h + Q9h * c9h;s9h=Math.round(s9h);if(s9h < d9h){d9h=s9h;}if(s9h > G9h){G9h=s9h;}}if(this.highlighted){P9h=this.highlighted == "p0"?! !1:!{};X9h=this.highlighted == "p1"?! ![]:!1;this.littleCircle(N6h,l6h,T6h,P9h);this.littleCircle(N6h,q6h,V9h,X9h);}};z9r.Drawing.fibtimezone=function(){this.name="fibtimezone";Z2q.M2q();;};z9r.inheritsFrom(z9r.Drawing.fibtimezone,z9r.Drawing.fibonacci);z9r.Drawing.fibtimezone.prototype.render=function(y9h){var Q6Z,x6Z,j9h,O9h,m9h,L9h,b9h,k9h,h9h,a9h,w9h,z9h,o9h,f9h,v9h,n9h,W9h,Y9h,I9h,F6Z,U6Z,F9h,B9h,C9h;Q6Z="se";Q6Z+="gmen";Q6Z+="t";x6Z="a";x6Z+="u";x6Z+="to";j9h=this.stx.panels[this.panelName];if(!j9h){return;}if(!this.p1){return;}O9h=this.stx.pixelFromTick(this.p0[0],j9h.chart);m9h=this.stx.pixelFromTick(this.p1["0" << 2119615424],j9h.chart);L9h=this.stx.pixelFromValueAdjusted(j9h,this.p0[0],this.p0[1]);b9h=this.stx.pixelFromValueAdjusted(j9h,this.p1[0],this.p1[1]);k9h=[1,0];h9h=this.getLineColor(this.parameters.trend.color);y9h.textBaseline="middle";this.stx.canvasFont("stx_yaxis",y9h);a9h=20;w9h=this.p1[0] - this.p0[0];z9h=this.color;if(z9h == "auto" || z9r.isTransparent(z9h)){z9h=this.stx.defaultColor;}y9h.textAlign="center";o9h=O9h;f9h=j9h.yAxis.top;v9h=j9h.yAxis.bottom;Z2q.O6C(12);n9h=Z2q.c6C(1,"0");W9h=this.parameters.timezone.color;if(W9h == x6Z || z9r.isTransparent(W9h)){W9h=this.color;}if(W9h == "auto" || z9r.isTransparent(W9h)){W9h=this.stx.defaultColor;}Y9h=this.parameters.timezone.color;if(Y9h == "auto" || z9r.isTransparent(Y9h)){Y9h=this.fillColor;}if(Y9h == "auto" || z9r.isTransparent(Y9h)){Y9h=this.stx.defaultColor;}if(this.parameters.printLevels){Z2q.O6C(0);v9h-=Z2q.c6C(a9h,7);}I9h=z9r.clone(this.parameters.timezone.parameters);if(this.highlighted){I9h.opacity=1;}do {o9h=this.stx.pixelFromTick(this.p0[+"0"] + n9h * w9h,j9h.chart);if(O9h < m9h && o9h > j9h.left + j9h.width)break;else if(O9h > m9h && o9h < j9h.left)break;if(this.parameters.printLevels){y9h.fillStyle=z9h;y9h.fillText(m9h > O9h?n9h:n9h * -1,o9h,v9h + 7);}y9h.fillStyle=Y9h;this.stx.plotLine(o9h,o9h,0,v9h,this.highlighted?h9h:W9h,"segment",y9h,j9h,I9h);y9h.globalAlpha=0.05;y9h.beginPath();y9h.moveTo(O9h,f9h);y9h.lineTo(o9h,f9h);y9h.lineTo(o9h,v9h);y9h.lineTo(O9h,v9h);y9h.fill();y9h.globalAlpha=1;n9h=k9h[0] + k9h[1];k9h.unshift(n9h);}while(w9h);y9h.textAlign="left";this.stx.plotLine(O9h,m9h,L9h,b9h,h9h,Q6Z,y9h,j9h,I9h);if(this.highlighted){F6Z="p";F6Z+="1";U6Z="p";U6Z+="0";F9h=this.highlighted == U6Z?! ![]:![];B9h=this.highlighted == F6Z?!0:![];this.littleCircle(y9h,O9h,L9h,F9h);this.littleCircle(y9h,m9h,b9h,B9h);}else {C9h=this.stx.valueFromPixel(j9h.height / 2,j9h);this.setPoint(0,this.p0[0],C9h,j9h.chart);this.setPoint(1,this.p1[0],C9h,j9h.chart);}};z9r.Drawing.fibtimezone.prototype.intersected=function(E9h,q9h,i9h){var N9h,T9h,M9h,r9h,Z9h;N9h=this.p0;T9h=this.p1;M9h=this.stx.panels[this.panelName];if(!N9h || !T9h || !M9h){return null;}Z2q.y2q();r9h={0:N9h,1:T9h};for(var l9h in r9h){if(this.pointIntersection(r9h[l9h][0],r9h[l9h][1],i9h)){Z2q.J6C(1);this.highlighted=Z2q.c6C("p",l9h);return {action:"drag",point:"p" + l9h};}}Z9h=this.lineIntersection(E9h,q9h,i9h,"segment");if(Z9h || i9h.x0 <= this.p0[0] && i9h.x1 >= N9h[0]){this.highlighted=!0;return {action:"move",p0:z9r.clone(N9h),p1:z9r.clone(T9h),tick:E9h,value:q9h};}return null;};z9r.Drawing.arrow_v0=function(){var G2Z,g2Z,p2Z;this.name="arrow";G2Z=+"466819722";g2Z=+"2101451265";p2Z=2;for(var y2Z=1;Z2q.v7Z(y2Z.toString(),y2Z.toString().length,37308) !== G2Z;y2Z++){Z2q.J6C(27);this.dimension=[68,Z2q.y6C("33",1397845184)];Z2q.J6C(9);this.points=[["L",Z2q.c6C(1312303040,"0"),1,"L",6,8,"L",2,Z2q.y6C("2",2,Z2q.O6C(22)),3111 > (712266,+"910113")?3265 < 4360?"L":7284 > (1308,"1816" & 2147483647)?(658,0xd39):(! !"1",806):6726967,18,8,(+"1839",+"6006") !== (207116,41827)?("5890" * 1,1823) === (132009,6850)?"L":+"587838":("608759" - 0,"L"),+"9",20,8944 === (519388,967365)?("L",879989):"L",8,1,(938348,5422) <= 4712?8289 > +"63932"?("L","L"):(50,68099) !== 5384?"L":"L":"L",6,3,"L",7,5]];p2Z+=2;}if(Z2q.v7Z(p2Z.toString(),p2Z.toString().length,22998) !== g2Z){this.dimension=[86,13];Z2q.J6C(23);this.points=[["L",3,0,"L",+"7",0,"L",0,3,5610 < (401014,"561169" | 557073)?8628 > +"2029"?"L":"7573" * 1 <= (2178,"9384" ^ 0)?(286,0xb25):(!"1",244):5829270,53,Z2q.y6C(0,"1"),(7336,3770) == (279844,44373)?(4501,2711) == (520106,2773)?"L":565836:("361010" | 65552,"L"),+"10",98,1425 != (293313,918034)?("L",312142):"L",2,+"2",(405250,1626) < 7077?8417 < 32920?("L","L"):(51,16490) == +"4559"?"L":"L":"L",8,+"0","L",2,+"2"]];}this.dimension=[11,+"11"];Z2q.O6C(0);this.points=[["M",3,0,"L",7,0,"L",Z2q.y6C("7",0),5,8030 >= (940.96,807.95)?5826 <= 8590?"L":5580 >= (9550,7350)?(215,0xdec):(![],513):6.71e+3,10,+"5",(+"9280",2812) != (+"716.36",70.41)?(+"9813",+"2227") !== (643.54,6356)?"L":+"145.62":(631.29,"X"),5,10,9937 == (+"892.91","933.05" * 1)?("B",955.85):"L",Z2q.y6C(0,"0",Z2q.J6C(23)),5,(173.91,"1420" ^ 0) >= 9810?6500 < 431.5?("u","M"):(72,28.91) != 9658?"N":"p":"L",+"3",5,"L",+"3",0]];};z9r.inheritsFrom(z9r.Drawing.arrow_v0,z9r.Drawing.shape);z9r.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];this.points=[["M",1,0,"L",3,2,"L",5,0,8530 >= "8010" >> 258408896?(2139,90.2) != 5954?"L":(7437,+"978.08") != 886.8?0x2096:("g",9.70e+2):"L",6,1,5214 != (6648,+"531.22")?"L":740.76,4,3,"L",6,5,"L",5,6,"L",3,4,"L",1,6,(+"4190",2900) >= 2741?"L":0x1df4,+"0",5,(2950,+"854.55") != (395.23,8294)?(436.74,+"2775") < 8817?(781.1,4520) >= 7170?435.00:"L":"k":(0xe63,0x7e3),2,3,"L",0,1,"L",1,0]];Z2q.y2q();;};z9r.inheritsFrom(z9r.Drawing.xcross,z9r.Drawing.shape);z9r.Drawing.check=function(){this.name="check";this.dimension=[8,9];Z2q.M2q();this.points=[[(1170,+"7053") < (219,+"7340")?"M":+"5556" <= 5637?(+"9.78","x"):9.92e+3,1,+"5",("7390" & 2147483647) >= (4650,7420)?("1255" ^ 0) == 7071?5.55e+3:475.05 != 643.74?(![],!1):(655.23,0xf21):"L",0,6,"L",2,8,"L",7,1,3802 == 777?0x237b:"L",6,0,"L",2,+"6","L",1,5]];;};z9r.inheritsFrom(z9r.Drawing.check,z9r.Drawing.shape);z9r.Drawing.star=function(){var k6Z;k6Z="s";k6Z+="ta";k6Z+="r";this.name=k6Z;this.dimension=[12,12];Z2q.O6C(22);this.points=[[(935.66,142.1) == (9210,3181)?!{}:"M",0,4,(569,81.11) != 648.57?"L":(!{},419.57),4,4,149 === (6270,697.83)?(9.71e+3,"721.01" - 0):+"929.51" >= 4130?(727,3000) <= 1260?0x18ae:"0x22eb" | 8776:"L",5.5,0,7110 != (2520,9716)?"L":3500 == 757.3?886.58:("S","0x9e7" | 226),7,Z2q.y6C("4",4),"L",11,4,"L",8,7,(161.68,6290) == 649.8?"252.16" - 0:3980 > (2800,420)?(+"618.08",584) == +"1770"?!0:"L":(![],+"0x140b"),+"9",11,(9179,1414) != "3226" << 1420582368?(345,"380.26" * 1) < 8240?("9870" ^ 0) < 7730?("k",+"0xf2b"):"L":(5.32e+3,607.56):(0xb55,"n"),5.5,9,(9620,3830) > (187.79,5867)?983.36 > (267.67,7950)?(0x1ad9,"0x10ab" | 4129):5450 >= 696?! !1:+"560.92":"L",2,11,473.77 <= (4807,8285)?"L":0x8ad,3,7,4046 !== 357.68?(1765,770) <= (917,2920)?"L":1710 != 4740?(7.93e+3,9.60e+3):![]:! !{},0,4]];;};z9r.inheritsFrom(z9r.Drawing.star,z9r.Drawing.shape);z9r.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];Z2q.J6C(22);this.points=[["M",+"11",Z2q.y6C("3",1),"B",+"11",2.4,Z2q.y6C("10",2,Z2q.J6C(22)),+"0",6,0,(3310,2258) < ("620.7" * 1,7052)?"B":(9.82e+3,! !1),0,0,0,+"7.5",Z2q.y6C("0",2061200352,Z2q.J6C(27)),7.5,"B",0,11,4,15.4,11,19,"B",18,+"15.4",22,11,22,7.5,(7570,7865) !== +"1292"?"B":("x",0x42f),22,7.5,Z2q.c6C(1317559552,"22",Z2q.J6C(9)),+"0",16,Z2q.c6C("0",255834624,Z2q.O6C(27)),"B",13,+"0",11,2.4,11,+"3"]];;};z9r.inheritsFrom(z9r.Drawing.heart,z9r.Drawing.shape);z9r.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];this.points=[[(4830,392) <= (+"1810",428)?"M":5920 < (332.7,"7560" << 358023168)?954.38 != (823.76,5344)?"p":(0x2404,2.44e+3):"r",0,0,(3910,3280) == 816.69?(6.67e+3,299.52):"L",2,2,2020 == 2636?"Q":909.2 >= (7280,+"8679")?(6243,6260) < "128" - 0?(! ![],5.55e+3):!0:"L",+"0",4,(+"642",7250) < +"3100"?(+"37.11",1.38e+3):(1122,1754) !== (164.21,5850)?"L":"59.26" - 0 > 4623?(! !"1",353.13):"h",0,0],[1414 >= 663?"M":4029 === (4700,3013)?(732.84,0x217):4.13e+3,6,0,"L",4,2,"L",6,4,+"15.49" >= +"7120"?("951" & 2147483647,+"7262") < ("1502" << 1934642784,6620)?(5.54e+3,2.39e+3):5.11e+3:"L",6,0]];;};z9r.inheritsFrom(z9r.Drawing.focusarrow,z9r.Drawing.shape);z9r.Drawing.crossline=function(){Z2q.M2q();this.name="crossline";};z9r.inheritsFrom(z9r.Drawing.crossline,z9r.Drawing.horizontal);z9r.extend(z9r.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(R0y,x0y){return !{};},adjust:function(){var U0y;Z2q.M2q();U0y=this.stx.panels[this.panelName];if(!U0y){return;}this.setPoint(0,this.d0,this.v0,U0y.chart);this.p1=z9r.clone(this.p0);},intersected:function(V0y,p0y,e0y){var s0y,V6Z;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;s0y=this.lineIntersection(V0y,p0y,e0y,"line");this.p1=z9r.clone(this.p0);if(!s0y){V6Z="lin";V6Z+="e";Z2q.J6C(27);this.p1[Z2q.y6C("1",2033279712)]+=Z2q.y6C(1,"1",Z2q.O6C(12));s0y=this.lineIntersection(V0y,p0y,e0y,V6Z);this.p1=z9r.clone(this.p0);if(!s0y){return null;}}this.highlighted=! !{};if(this.pointIntersection(this.p0[0],this.p0[1],e0y)){this.highlighted="p0";}return {action:"move",p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:V0y,value:p0y};},render:function(t0y){var d0y,c0y,A0y,S0y,H0y,J0y,G0y,u0y,K0y,g0y,Q0y,D0y;d0y=this.stx.panels[this.panelName];if(!d0y){return;}c0y=this.stx.pixelFromTick(this.p0[0],d0y.chart);A0y=this.stx.pixelFromValueAdjusted(d0y,this.p0[0],this.p0[+"1"]);S0y=this.getLineColor();H0y={pattern:this.pattern,lineWidth:this.lineWidth};Z2q.O6C(1);this.stx.plotLine(c0y,Z2q.c6C(c0y,100),A0y,A0y,S0y,"horizontal",t0y,d0y,H0y);Z2q.J6C(19);this.stx.plotLine(c0y,c0y,A0y,Z2q.c6C("100",A0y,0),S0y,"vertical",t0y,d0y,H0y);Z2q.M2q();if(this.axisLabel && !this.repositioner){this.stx.endClip();J0y=this.p0[1];if(d0y.chart.transformFunc){J0y=d0y.chart.transformFunc(this.stx,d0y.chart,J0y);}if(d0y.yAxis.priceFormatter){J0y=d0y.yAxis.priceFormatter(this.stx,d0y,J0y);}else {J0y=this.stx.formatYAxisPrice(J0y,d0y);}this.stx.createYAxisLabel(d0y,J0y,A0y,S0y);this.stx.startClip(d0y.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){G0y=this.stx.dateFromTick(this.p0[0],d0y.chart,!"");if(!z9r.ChartEngine.isDailyInterval(this.stx.layout.interval)){K0y=G0y.getSeconds() * 1000 + G0y.getMilliseconds();if(k9r.Date && this.stx.displayZone){u0y=new k9r.Date(G0y.getTime(),this.stx.displayZone);G0y=new Date(u0y.getFullYear(),u0y.getMonth(),u0y.getDate(),u0y.getHours(),u0y.getMinutes());G0y=new Date(G0y.getTime() + K0y);}}else {G0y.setHours(+"0",0,0,0);}g0y=z9r.mmddhhmm(z9r.yyyymmddhhmm(G0y));if(d0y.chart.xAxis.formatter){g0y=d0y.chart.xAxis.formatter(G0y,this.name,null,null,g0y);}else if(this.stx.internationalizer){if(G0y.getHours() !== 0 || G0y.getMinutes() !== 0){Q0y=this.stx.internationalizer.monthDay.format(G0y);Q0y+=(6567 > 6600?2.78e+3:" ") + this.stx.internationalizer.hourMinute.format(G0y);}else {Q0y=this.stx.internationalizer.yearMonthDay.format(G0y);}g0y=Q0y;}this.stx.endClip();this.stx.createXAxisLabel(d0y,g0y,c0y,S0y,null,! !"1");this.stx.startClip(d0y.name);}}if(this.highlighted){D0y=this.highlighted == "p0"?!0:! !0;this.littleCircle(t0y,c0y,A0y,D0y);}}},!0);z9r.Drawing.speedarc=function(){this.name="speedarc";Z2q.y2q();this.printLevels=! !{};};z9r.inheritsFrom(z9r.Drawing.speedarc,z9r.Drawing.segment);z9r.extend(z9r.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:[W6Z,"fillColor",v6Z,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;Z2q.y2q();this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(P0y,X0y,m0y){var d6Z,j0y,L6Z,v0y,O0y,o0y,W0y,Y0y;d6Z="m";Z2q.M2q();d6Z+="ov";d6Z+="e";if(!this.p0 || !this.p1){return null;}j0y={0:this.p0,1:this.p1};for(var y0y in j0y){if(this.pointIntersection(j0y[y0y][0],j0y[y0y][+"1"],m0y)){L6Z="dra";L6Z+="g";Z2q.J6C(1);this.highlighted=Z2q.y6C((2477,4150) >= (2400,889.28)?"p":"0x1a64" ^ 0,y0y);return {action:L6Z,point:"p" + y0y};}}v0y=this.lineIntersection(P0y,X0y,m0y,this.name);if(v0y){this.highlighted=! !{};return {action:"move",p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:P0y,value:X0y};}O0y=this.p1[0] - (this.p0[0] - this.p1[0]);o0y=this.p0[0];W0y=this.p1[1];Y0y=this.p0[1];if(P0y > Math.max(O0y,o0y) || P0y < Math.min(O0y,o0y)){return null;}if(X0y > Math.max(Y0y,W0y) || X0y < Math.min(Y0y,W0y)){return null;}this.highlighted=!"";return {action:d6Z,p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:P0y,value:X0y};},render:function(n0y){var t6Z,z6Z,X6Z,z0y,w0y,I0y,b0y,k0y,C0y,a0y,f0y,L0y,J3Z,B3Z,h3Z,B0y,N0y,F0y,l0y,i0y,a6Z,T0y,r0y;t6Z="segm";t6Z+="ent";z6Z="l";z6Z+="e";z6Z+="f";z6Z+="t";X6Z="st";X6Z+="x_yax";X6Z+="is";z0y=this.stx.panels[this.panelName];if(!z0y){return;}if(!this.p1){return;}w0y=this.stx.pixelFromTick(this.p0[0],z0y.chart);I0y=this.stx.pixelFromTick(this.p1[0],z0y.chart);b0y=this.stx.pixelFromValueAdjusted(z0y,this.p0[0],this.p0[1]);k0y=this.stx.pixelFromValueAdjusted(z0y,this.p1["0" >> 568760192],this.p1[1]);Z2q.J6C(30);C0y=Z2q.c6C(k0y,b0y);Z2q.O6C(31);a0y=Math.abs(Z2q.c6C(w0y,I0y,b0y,k0y));f0y=this.getLineColor();n0y.strokeStyle=f0y;L0y=this.fillColor;if(L0y == "auto" || z9r.isTransparent(L0y)){L0y=this.stx.defaultColor;}n0y.fillStyle=L0y;if(n0y.setLineDash){J3Z=-1660875588;B3Z=2073763358;h3Z=2;for(var A3Z=+"1";Z2q.W7Z(A3Z.toString(),A3Z.toString().length,73810) !== J3Z;A3Z++){n0y.setLineDash(z9r.borderPatternToArray(this.lineWidth,this.pattern));h3Z+=2;}if(Z2q.v7Z(h3Z.toString(),h3Z.toString().length,72038) !== B3Z){n0y.setLineDash(z9r.borderPatternToArray(this.lineWidth,this.pattern));}n0y.lineDashOffset=+"0";;}this.stx.canvasFont(X6Z,n0y);for(var h0y=1;h0y < ("3" | 3);h0y++){B0y=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * h0y / ("3" * 1);N0y=this.p1[1] + B0y * (C0y?-1:1) * (z0y.yAxis.flipped?-1:1);F0y=this.stx.pixelFromValueAdjusted(z0y,this.p0[0],N0y);n0y.save();n0y.beginPath();Z2q.O6C(36);n0y.scale(Z2q.c6C(a0y,"1"),1);Z2q.J6C(12);n0y.arc(Z2q.y6C(a0y,I0y),k0y,Math.abs(F0y - k0y),+"0",Math.PI,!C0y);n0y.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){n0y.stroke();}n0y.globalAlpha=0.1;n0y.fill();n0y.restore();n0y.globalAlpha=1;if(this.printLevels){n0y.fillStyle=f0y;n0y.textAlign="center";Z2q.O6C(1);l0y=Z2q.y6C(h0y,"/3");n0y.fillText(l0y,I0y,Math.round(F0y - 5));n0y.fillStyle=L0y;}}n0y.textAlign=z6Z;i0y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(w0y,I0y,b0y,k0y,f0y,t6Z,n0y,z0y,i0y);if(n0y.setLineDash){n0y.setLineDash([]);}if(this.highlighted){a6Z="p";a6Z+="0";T0y=this.highlighted == a6Z?! ![]:![];r0y=this.highlighted == "p1"?!"":!{};this.littleCircle(n0y,w0y,b0y,T0y);this.littleCircle(n0y,I0y,k0y,r0y);}},reconstruct:function(q0y,E0y){this.stx=q0y;this.color=E0y.col;this.fillColor=E0y.fc;this.panelName=E0y.pnl;this.pattern=E0y.ptrn;this.lineWidth=E0y.lw;this.d0=E0y.d0;this.d1=E0y.d1;this.tzo0=E0y.tzo0;this.tzo1=E0y.tzo1;this.v0=E0y.v0;this.v1=E0y.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);z9r.Drawing.speedline=function(){var b6Z;b6Z="s";b6Z+="p";b6Z+="eedlin";b6Z+="e";this.name=b6Z;this.printLevels=! ![];};z9r.inheritsFrom(z9r.Drawing.speedline,z9r.Drawing.speedarc);z9r.extend(z9r.Drawing.speedline.prototype,{intersected:function(V1y,p1y,e1y){var R1y,x1y,U1y,s1y,R6Z;Z2q.M2q();R1y=this.p0;x1y=this.p1;if(!R1y || !x1y){return null;}U1y={0:R1y,1:x1y};for(var M0y in U1y){if(this.pointIntersection(U1y[M0y][0],U1y[M0y][1],e1y)){Z2q.J6C(1);this.highlighted=Z2q.c6C("p",M0y);return {action:"drag",point:((4039,660) != +"3280"?+"3614" < (53.84,555.24)?("J",977.43):"p":! !{}) + M0y};}}s1y=this.rays;for(var Z0y=0;Z0y < s1y.length;Z0y++){R6Z="r";R6Z+="a";R6Z+="y";if(this.lineIntersection(V1y,p1y,e1y,R6Z,s1y[Z0y][0],s1y[Z0y][1],!0)){this.highlighted=! ![];return {action:"move",p0:z9r.clone(R1y),p1:z9r.clone(x1y),tick:V1y,value:p1y};}}return null;},render:function(d1y){var T6Z,e6Z,u1y,G1y,c1y,J1y,S1y,W1y,t1y,K1y,Y1y,m1y,v1y,O1y,o1y,A1y,g1y,H1y,X1y,Q1y,P1y,y1y,j1y,n6Z,P6Z,n1y,z1y;T6Z="a";T6Z+="u";T6Z+="t";T6Z+="o";e6Z="stx_";e6Z+="yaxis";u1y=this.stx.panels[this.panelName];if(!u1y){return;}if(!this.p1){return;}G1y=this.stx.pixelFromTick(this.p0[0],u1y.chart);c1y=this.stx.pixelFromTick(this.p1[0],u1y.chart);J1y=this.stx.pixelFromValueAdjusted(u1y,this.p0[+"0"],this.p0[+"1"]);S1y=this.stx.pixelFromValueAdjusted(u1y,this.p1[0],this.p1[1]);this.stx.canvasFont(e6Z,d1y);W1y=this.getLineColor();t1y=this.color;if(t1y == T6Z || z9r.isTransparent(t1y)){t1y=this.stx.defaultColor;}Z2q.y2q();d1y.strokeStyle=t1y;K1y=this.fillColor;if(K1y == "auto" || z9r.isTransparent(K1y)){K1y=this.stx.defaultColor;}d1y.fillStyle=K1y;Y1y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};O1y=["1","2/3","1/3","3/2",73.05 <= 7274?902 != 1310?"3":8360 > 213.78?808.31:0x24c0:"636.51" * 1];Z2q.O6C(13);o1y=[Z2q.c6C(2147483647,"1"),Z2q.y6C("2",26468864,3,Z2q.O6C(37)),Z2q.c6C(2147483647,"3",1,Z2q.O6C(38)),Z2q.y6C(3,2,Z2q.J6C(7)),3];A1y=[];this.rays=[];for(var D1y=0;D1y < o1y.length;D1y++){g1y=o1y[D1y];if(g1y > +"1" && !this.extension)continue;H1y=this.stx.pixelFromValueAdjusted(u1y,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * g1y);if(g1y > 1){X1y=z9r.xIntersection({x0:G1y,x1:c1y,y0:J1y,y1:H1y},S1y);A1y.push(X1y);}else {X1y=z9r.xIntersection({x0:c1y,x1:c1y,y0:J1y,y1:S1y},H1y);A1y.push(H1y);}Q1y=g1y > 1?X1y:c1y;P1y=g1y > 1?S1y:H1y;if(!this.confineToGrid){Q1y=u1y.left;if(c1y > G1y){Q1y+=u1y.width;}Z2q.O6C(35);P1y=Z2q.y6C(Q1y,J1y,G1y,G1y,J1y,c1y,H1y);}if(this.printLevels){if(g1y != 1 || this.extension){d1y.fillStyle=t1y;y1y=0;j1y=0;if(J1y > S1y){n6Z="b";n6Z+="o";n6Z+="t";n6Z+="tom";Z2q.J6C(23);j1y=-Z2q.c6C(0,"5");d1y.textBaseline=n6Z;}else {j1y=5;d1y.textBaseline="top";}if(G1y > c1y){P6Z="righ";P6Z+="t";y1y=5;d1y.textAlign=P6Z;}else {Z2q.O6C(27);y1y=-Z2q.c6C("5",853278848);d1y.textAlign="left";}if(g1y > 1){d1y.fillText(O1y[D1y],X1y + (this.confineToGrid?0:y1y),S1y);}else {d1y.fillText(O1y[D1y],c1y,H1y + (this.confineToGrid?0:j1y));}d1y.fillStyle=K1y;}}this.stx.plotLine(G1y,Q1y,J1y,P1y,this.highlighted?W1y:t1y,"segment",d1y,u1y,Y1y);if(g1y == +"1"){m1y=Q1y;v1y=P1y;}this.rays.push([[G1y,J1y],[Q1y,P1y]]);d1y.globalAlpha=0.1;d1y.beginPath();d1y.moveTo(Q1y,P1y);d1y.lineTo(G1y,J1y);d1y.lineTo(m1y,v1y);d1y.fill();Z2q.O6C(13);d1y.globalAlpha=Z2q.c6C(2147483647,"1");}d1y.textAlign="left";d1y.textBaseline="middle";if(this.confineToGrid){d1y.globalAlpha=0.3;d1y.beginPath();Z2q.O6C(0);d1y.strokeRect(G1y,J1y,Z2q.c6C(c1y,G1y),Z2q.c6C(S1y,J1y));d1y.moveTo(G1y,A1y[1]);d1y.lineTo(c1y,A1y[1]);d1y.moveTo(G1y,A1y[2]);d1y.lineTo(c1y,A1y[+"2"]);if(this.extension){d1y.moveTo(A1y[3],J1y);d1y.lineTo(A1y[3],S1y);d1y.moveTo(A1y[4],J1y);d1y.lineTo(A1y[4],S1y);}d1y.stroke();d1y.globalAlpha=1;}if(this.highlighted){n1y=this.highlighted == "p0"?! !{}:! !0;z1y=this.highlighted == "p1"?! !{}:![];this.littleCircle(d1y,G1y,J1y,n1y);this.littleCircle(d1y,c1y,S1y,z1y);}}},! !1);z9r.Drawing.gannfan=function(){var R4Z,e4Z,T4Z,q6Z;R4Z=-983255153;e4Z=-2051422183;T4Z=2;for(var P4Z=1;Z2q.v7Z(P4Z.toString(),P4Z.toString().length,"4328" << 361386784) !== R4Z;P4Z++){q6Z="ga";q6Z+="nnfan";this.name=q6Z;this.printLevels=!0;T4Z+=2;}if(Z2q.W7Z(T4Z.toString(),T4Z.toString().length,28833) !== e4Z){this.name="";this.printLevels=![];}};z9r.inheritsFrom(z9r.Drawing.gannfan,z9r.Drawing.speedline);z9r.extend(z9r.Drawing.gannfan.prototype,{render:function(k1y){var g6Z,G6Z,b1y,I1y,h1y,L1y,F1y,E1y,w1y,a1y,q1y,M1y,Z1y,T1y,f1y,R2y,r1y,C1y,B1y,l1y,i1y,p6Z,w6Z,y6Z,j6Z,x2y,U2y;g6Z="a";g6Z+="u";g6Z+="t";g6Z+="o";G6Z="stx_";G6Z+="yaxi";G6Z+="s";b1y=this.stx.panels[this.panelName];if(!b1y){return;}if(!this.p1){return;}I1y=this.stx.pixelFromTick(this.p0[0],b1y.chart);h1y=this.stx.pixelFromTick(this.p1[0],b1y.chart);L1y=this.stx.pixelFromValueAdjusted(b1y,this.p0[0],this.p0[1]);F1y=this.stx.pixelFromValueAdjusted(b1y,this.p1[0],this.p1[1]);this.stx.canvasFont(G6Z,k1y);E1y=this.getLineColor();w1y=this.color;if(w1y == "auto" || z9r.isTransparent(w1y)){w1y=this.stx.defaultColor;}k1y.strokeStyle=w1y;a1y=this.fillColor;if(a1y == g6Z || z9r.isTransparent(a1y)){a1y=this.stx.defaultColor;}k1y.fillStyle=a1y;q1y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};Z2q.O6C(39);T1y=[1,2,3,+"4",+"8",Z2q.y6C("2",1,1),Z2q.y6C("3","1",Z2q.J6C(40)),Z2q.y6C("4",1,Z2q.J6C(41)),Z2q.c6C(1,8,Z2q.J6C(7))];this.rays=[];for(var N1y=0;N1y < T1y.length;N1y++){f1y=T1y[N1y];Z2q.O6C(42);R2y=Z2q.c6C(I1y,f1y,I1y,h1y);Z2q.O6C(43);r1y=Z2q.c6C(L1y,f1y,F1y,L1y);C1y=b1y.left;if(h1y > I1y){C1y+=b1y.width;}Z2q.J6C(35);B1y=Z2q.y6C(C1y,L1y,I1y,I1y,L1y,h1y,r1y);if(this.printLevels){k1y.fillStyle=w1y;l1y=0;i1y=0;if(L1y > F1y){i1y=5;k1y.textBaseline="top";}else {p6Z="bo";p6Z+="t";p6Z+="t";p6Z+="om";i1y=-5;k1y.textBaseline=p6Z;}if(I1y > h1y){w6Z="l";w6Z+="ef";w6Z+="t";l1y=+"5";k1y.textAlign=w6Z;}else {l1y=-5;k1y.textAlign="right";}if(f1y > 1){y6Z="x";y6Z+="1";Z2q.O6C(1);k1y.fillText(Z2q.y6C(f1y,y6Z),Z2q.y6C(R2y,l1y),F1y);}else {j6Z="1";j6Z+="x";Z2q.J6C(44);k1y.fillText(Z2q.y6C(j6Z,f1y,"1"),h1y,Z2q.y6C(r1y,i1y,Z2q.O6C(1)));}k1y.fillStyle=a1y;}this.stx.plotLine(I1y,C1y,L1y,B1y,this.highlighted?E1y:w1y,"segment",k1y,b1y,q1y);this.rays.push([[I1y,L1y],[C1y,B1y]]);if(f1y == 1){M1y=C1y;Z1y=B1y;}k1y.globalAlpha=0.1;k1y.beginPath();k1y.moveTo(C1y,B1y);k1y.lineTo(I1y,L1y);k1y.lineTo(M1y,Z1y);k1y.fill();k1y.globalAlpha=1;}k1y.textAlign="left";k1y.textBaseline="middle";if(this.highlighted){x2y=this.highlighted == "p0"?! !1:!1;U2y=this.highlighted == "p1"?! !"1":! !"";this.littleCircle(k1y,I1y,L1y,x2y);this.littleCircle(k1y,h1y,F1y,U2y);}}},! !{});z9r.Drawing.timecycle=function(){var s6Z;s6Z="ti";s6Z+="me";s6Z+="cycl";s6Z+="e";this.name=s6Z;this.printLevels=! !{};};z9r.inheritsFrom(z9r.Drawing.timecycle,z9r.Drawing.speedarc);z9r.extend(z9r.Drawing.timecycle.prototype,{intersected:function(G2y,J2y,p2y){var s2y,e2y,c2y,d2y,A2y,P5Z,G5Z,g5Z;s2y=this.p0;e2y=this.p1;c2y=this.stx.panels[this.panelName];if(!s2y || !e2y || !c2y){return null;}d2y={0:s2y,1:e2y};for(var V2y in d2y){if(this.pointIntersection(d2y[V2y][0],d2y[V2y][1],p2y)){Z2q.O6C(1);this.highlighted=Z2q.y6C((927.9,5920) == (6521,9.47)?4940 == 172?"0x21b5" - 0:541.17 === 2399?(! !0,+"0x1b47"):(0x2699,!{}):"p",V2y);return {action:"drag",point:((9805,336.14) == 3160?! ![]:7317 == 458?(233,"7289" & 2147483647) == 6268?(+"752.10",501.73):"j":"p") + V2y};}}A2y=this.lineIntersection(G2y,J2y,p2y,"segment");Z2q.M2q();if(A2y || p2y.x0 <= this.p0[+"0"] && p2y.x1 >= s2y[0]){P5Z=28038979;Z2q.J6C(12);G5Z=-Z2q.c6C(1,"1105588337");g5Z=2;for(var y5Z=1;Z2q.v7Z(y5Z.toString(),y5Z.toString().length,98789) !== P5Z;y5Z++){this.highlighted=!1;return {action:"",p0:z9r.clone(s2y),p1:z9r.clone(e2y),tick:G2y,value:J2y};}if(Z2q.W7Z(g5Z.toString(),g5Z.toString().length,97456) !== G5Z){this.highlighted=! ![];return {action:"move",p0:z9r.clone(s2y),p1:z9r.clone(e2y),tick:G2y,value:J2y};}}return null;},render:function(u2y){var O6Z,S2y,Q2y,P2y,O2y,o2y,y2y,W2y,z2y,Y2y,g2y,m2y,K2y,D2y,X2y,v2y,t2y,j2y,l6Z,k2y,I2y,L2y,n2y;O6Z="au";O6Z+="to";S2y=this.stx.panels[this.panelName];if(!S2y){return;}if(!this.p1){return;}Q2y=this.stx.pixelFromTick(this.p0[0],S2y.chart);P2y=this.stx.pixelFromTick(this.p1[0],S2y.chart);O2y=this.stx.pixelFromValueAdjusted(S2y,this.p0[0],this.p0[1]);o2y=this.stx.pixelFromValueAdjusted(S2y,this.p1[+"0"],this.p1[1]);y2y=0;W2y=this.getLineColor();u2y.textBaseline="middle";this.stx.canvasFont("stx_yaxis",u2y);Z2q.O6C(22);z2y=Z2q.y6C("20",20);Y2y=this.p1[0] - this.p0[0];u2y.textAlign="center";g2y=Q2y;m2y=S2y.yAxis.top;K2y=S2y.yAxis.bottom;D2y=this.color;if(D2y == "auto" || z9r.isTransparent(D2y)){D2y=this.stx.defaultColor;}X2y=this.fillColor;if(X2y == O6Z || z9r.isTransparent(X2y)){X2y=this.stx.defaultColor;}if(this.printLevels){Z2q.O6C(0);K2y-=Z2q.c6C(z2y,7);}v2y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};t2y=[];u2y.save();u2y.fillStyle=X2y;u2y.globalAlpha=0.05;do {g2y=this.stx.pixelFromTick(this.p0[0] + y2y * Y2y,S2y.chart);y2y++;if(Q2y < P2y && g2y > S2y.left + S2y.width)break;else if(Q2y > P2y && g2y < S2y.left)break;else if(g2y < S2y.left || g2y > S2y.left + S2y.width)continue;u2y.beginPath();u2y.moveTo(Q2y,m2y);u2y.lineTo(g2y,m2y);u2y.lineTo(g2y,K2y);u2y.lineTo(Q2y,K2y);u2y.fill();t2y.push({c:y2y,x:g2y});}while(Y2y);u2y.globalAlpha=1;j2y=0;for(var H2y=0;H2y < t2y.length;H2y++){l6Z="seg";l6Z+="men";l6Z+="t";this.stx.plotLine(t2y[H2y].x,t2y[H2y].x,+"0",K2y,this.highlighted?W2y:D2y,l6Z,u2y,S2y,v2y);if(this.printLevels){u2y.fillStyle=D2y;k2y=this.stx.chart.context.measureText(t2y[H2y].c).width + 3;if(k2y < this.stx.layout.candleWidth + j2y){u2y.fillText(t2y[H2y].c,t2y[H2y].x,K2y + 7);j2y=+"0";}else {j2y+=this.stx.layout.candleWidth;}}}u2y.restore();Z2q.M2q();u2y.textAlign="left";this.stx.plotLine(Q2y,P2y,O2y,o2y,W2y,"segment",u2y,S2y,v2y);if(this.highlighted){I2y=this.highlighted == "p0"?!0:!"1";L2y=this.highlighted == "p1"?! !"1":! !"";this.littleCircle(u2y,Q2y,O2y,I2y);this.littleCircle(u2y,P2y,o2y,L2y);}else {n2y=this.stx.valueFromPixel(S2y.height / 2,S2y);this.setPoint(0,this.p0[0],n2y,S2y.chart);this.setPoint(1,this.p1[0],n2y,S2y.chart);}}},! !"1");z9r.Drawing.regression=function(){var Q2Z,U2Z,F2Z;Z2q.O6C(22);Q2Z=-Z2q.y6C("1965319534",1344553230);U2Z=320260595;F2Z=2;for(var V2Z="1" | 0;Z2q.W7Z(V2Z.toString(),V2Z.toString().length,7748) !== Q2Z;V2Z++){this.name="";F2Z+=2;}if(Z2q.v7Z(F2Z.toString(),F2Z.toString().length,29491) !== U2Z){this.name="";}this.name="regression";};z9r.inheritsFrom(z9r.Drawing.regression,z9r.Drawing.segment);z9r.extend(z9r.Drawing.regression.prototype,{configs:[u6Z,"lineWidth",N6Z,o6Z,"color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2","active3",E6Z,m6Z,c6Z],copyConfig:function(h2y){var Y6Z,M6Z,b2y;Y6Z="a";Y6Z+="u";Y6Z+="t";Y6Z+="o";M6Z="au";M6Z+="t";Z2q.M2q();M6Z+="o";z9r.Drawing.copyConfig(this,h2y);b2y=this.stx.currentVectorParameters;this.active1=! !b2y.active1;this.active2=! !b2y.active2;this.active3=! !b2y.active3;this.color1=b2y.color1 || "auto";this.color2=b2y.color2 || M6Z;this.color3=b2y.color3 || Y6Z;this.lineWidth1=b2y.lineWidth1;this.lineWidth2=b2y.lineWidth2;this.lineWidth3=b2y.lineWidth3;this.pattern1=b2y.pattern1;this.pattern2=b2y.pattern2;this.pattern3=b2y.pattern3;},$controls:[I6Z,'cq-cvp-controller[cq-cvp-header="2"]',i6Z],click:function(i2y,C2y,a2y){Z2q.y2q();var f2y,w2y,F2y,B2y;if(C2y < 0){return;}this.copyConfig();f2y=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,C2y,a2y,f2y.chart);this.penDown=! !{};w2y=this.stx;this.field=w2y.highlightedDataSetField;if(!this.field && f2y != w2y.chart.panel){for(var N2y in w2y.chart.seriesRenderers){F2y=w2y.chart.seriesRenderers[N2y];if(F2y.params.panel == f2y.name){this.field=F2y.seriesParams[0].field;break;}}for(var l2y in w2y.layout.studies){B2y=w2y.layout.studies[l2y];if(B2y.panel == f2y.name){this.field=Object.keys(B2y.outputMap)[0];break;}}}return !{};}if(this.accidentalClick(C2y,a2y)){return this.dragToDraw;}this.setPoint(1,C2y,a2y,f2y.chart);this.penDown=! !"";return ! !{};;},getYValue:function(R3y){var E2y,q2y,M2y,x3y,r2y,T2y,Z2y;E2y=this.stx.chart.dataSet[R3y];q2y=this.stx.chart.dataSet[R3y];if(!E2y){return null;}M2y=this.stx.panels[this.panelName];x3y=this.stx.getYAxisByField(M2y,this.field) || M2y.yAxis;if(this.stx.charts[M2y.name] && M2y.chart.transformFunc && x3y == M2y.yAxis){q2y=E2y.transform;}if(!q2y){return null;}r2y=null;T2y=null;Z2y=this.stx.defaultPlotField || "Close";if(this.field){T2y=z9r.existsInObjectChain(q2y,this.field);if(!T2y){return null;}r2y=T2y=T2y.obj[T2y.member];if(E2y != q2y){r2y=z9r.existsInObjectChain(E2y,this.field);r2y=r2y.obj[r2y.member];}if(typeof T2y == "object"){T2y=T2y[Z2y];r2y=r2y[Z2y];}}else {T2y=q2y[Z2y];r2y=E2y[Z2y];}return {transformed:T2y,untransformed:r2y};},render:function(J3y){var S6Z,D6Z,s3y,p3y,e3y,D3y,c3y,P3y,A3y,g3y,W3y,Y3y,m3y,v3y,Q3y,X3y,U3y,d3y,n3y,z3y,t3y,H3y,k3y,K3y,y3y,j3y,X4Z,z4Z,t4Z,u3y,S3y,O3y,o3y,L3y,I3y,b3y,G3y,h5Z,H5Z,A5Z,Z6Z,h3y,w3y;S6Z="s";S6Z+="e";S6Z+="gment";D6Z="segme";D6Z+="nt";s3y=this.stx.panels[this.panelName];if(!s3y){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}p3y=this.stx.pixelFromTick(this.p0[0],s3y.chart);e3y=this.stx.pixelFromTick(this.p1[0],s3y.chart);if(p3y < s3y.left && e3y < s3y.left){return;}if(p3y > s3y.right && e3y > s3y.right){return;}D3y=this.stx.getYAxisByField(s3y,this.field);c3y=[];P3y=[];A3y=0;g3y=0;W3y=0;Y3y=0;m3y=Math.min(this.p1[+"0"],this.p0[0]);v3y=Math.max(this.p1[0],this.p0[0]) + +"1";Z2q.O6C(0);Q3y=Z2q.y6C(v3y,m3y);for(var V3y=m3y;V3y < v3y;V3y++){X3y=this.getYValue(V3y);if(X3y){c3y.push(X3y.transformed);P3y.push(X3y.untransformed);}}U3y=c3y.length;Z2q.O6C(45);d3y=Z2q.c6C(U3y,2,"1",U3y);Z2q.J6C(27);n3y=Math.pow(d3y,Z2q.c6C("2",1067001184));Z2q.O6C(46);z3y=Z2q.c6C(U3y,2,1,3,d3y);for(V3y=0;V3y < U3y;V3y++){W3y+=U3y * c3y[V3y] - A3y;A3y+=c3y[V3y];Y3y+=U3y * P3y[V3y] - g3y;g3y+=P3y[V3y];}Z2q.J6C(47);t3y=Z2q.c6C(W3y,U3y,z3y,d3y,A3y,n3y,U3y);Z2q.J6C(48);H3y=Z2q.y6C(U3y,t3y,d3y,A3y);Z2q.J6C(47);k3y=Z2q.y6C(Y3y,U3y,z3y,d3y,g3y,n3y,U3y);Z2q.O6C(48);K3y=Z2q.y6C(U3y,t3y,d3y,g3y);if(this.p0[0] < this.p1[0]){y3y=H3y;Z2q.J6C(49);j3y=Z2q.y6C(t3y,Q3y,H3y);this.p0[1]=K3y;Z2q.J6C(49);this.p1[1]=Z2q.c6C(k3y,Q3y,K3y);}else {Z2q.J6C(49);y3y=Z2q.y6C(t3y,Q3y,H3y);j3y=H3y;Z2q.J6C(49);this.p0[1]=Z2q.y6C(k3y,Q3y,K3y);Z2q.O6C(22);X4Z=Z2q.y6C("99134714",14721274);z4Z=- +"746185823";Z2q.O6C(9);t4Z=Z2q.y6C(15218976,"2");for(var b4Z=1;Z2q.v7Z(b4Z.toString(),b4Z.toString().length,80116) !== X4Z;b4Z++){this.p1[3]=K3y;t4Z+=2;}if(Z2q.W7Z(t4Z.toString(),t4Z.toString().length,88602) !== z4Z){this.p1[7]=K3y;}this.p1[1]=K3y;}u3y=this.stx.pixelFromTransformedValue(y3y,s3y,D3y);S3y=this.stx.pixelFromTransformedValue(j3y,s3y,D3y);O3y=this.getLineColor();o3y={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(p3y,e3y,u3y,S3y,O3y,D6Z,J3y,s3y,o3y);Z2q.O6C(0);this.stx.plotLine(p3y,p3y,Z2q.c6C(u3y,20),Z2q.c6C(u3y,20,Z2q.J6C(1)),O3y,S6Z,J3y,s3y,o3y);Z2q.O6C(50);this.stx.plotLine(e3y,e3y,Z2q.y6C("20",S3y),Z2q.y6C(S3y,20,Z2q.O6C(1)),O3y,"segment",J3y,s3y,o3y);if(this.active1 || this.active2 || this.active3){Z2q.O6C(7);L3y=Z2q.c6C(A3y,U3y);I3y=0;for(V3y=0;V3y < U3y;V3y++){I3y+=Math.pow(c3y[V3y] - L3y,2);}Z2q.J6C(7);b3y=Math.sqrt(Z2q.y6C(I3y,U3y));G3y={context:J3y,panel:s3y,points:{0:{x:p3y,v:y3y},1:{x:e3y,v:j3y}},stddev:b3y,yAxis:D3y};h5Z=-1385674405;H5Z=1845526366;Z2q.J6C(27);A5Z=Z2q.y6C("2",1845572160);for(var f5Z=1;Z2q.v7Z(f5Z.toString(),f5Z.toString().length,76448) !== h5Z;f5Z++){this.lines={};A5Z+=2;}if(Z2q.v7Z(A5Z.toString(),A5Z.toString().length,"11575" - 0) !== H5Z){this.lines={};}this.lines={};if(this.active1){this.renderStddev("1",(+"6520",137) !== 5407?(1610,"189.77" * 1) != 202?"p":7.04e+3:! !"1",G3y);this.renderStddev("1",5798 <= ("8100" >> 1999195936,"620" >> 115880768)?(+"520",9.22e+3):9620 === (6272,"42.49" * 1)?"7.21e+3" | 5162:531.81 <= 7340?"n":1.15e+3,G3y);}if(this.active2){this.renderStddev("2",(5480,711.94) !== 1930?(2884,"1775" ^ 0) >= 7340?("x",8.88e+3):(7170,8810) != (3036,"1939" ^ 0)?"p":(960.62,+"5.71e+3"):(! ![],! !""),G3y);this.renderStddev("792.2" - 0 == 880.83?338.28:(8780,4665) === (+"1460",6450)?(1282,1458) == (4707,7470)?828.04:(+"899",![]):"2","n",G3y);}if(this.active3){this.renderStddev(5001 < (7910,737.84)?(! !"","D"):"3","p",G3y);this.renderStddev("3","n",G3y);}}if(!this.highlighted){this.pixelX=[p3y,e3y];this.pixelY=[u3y,S3y];}else {Z6Z="p";Z6Z+="0";h3y=this.highlighted == Z6Z?! ![]:!"1";w3y=this.highlighted == "p1"?!0:![];this.littleCircle(J3y,p3y,u3y,h3y);this.littleCircle(J3y,e3y,S3y,w3y);}},renderStddev:function(l3y,U4y,i3y){var B9Z,J9Z,C9Z,M3y,s4y,I7Z,i7Z,D7Z,V4y,p4y,T3y,Z3y,R4y,E3y,q3y,F3y,C3y,r3y,f3y,a3y,B3y,N3y,e4y,d4y,x4y,G4y;B9Z="li";B9Z+="neW";B9Z+="idt";B9Z+="h";J9Z="p";J9Z+="atter";J9Z+="n";C9Z="std";C9Z+="de";C9Z+="v";Z2q.O6C(51);M3y=Z2q.y6C(U4y,l3y,C9Z);Z2q.O6C(1);s4y=Z2q.c6C("color",l3y);I7Z=188224397;i7Z=1369499116;D7Z=2;for(var Z7Z=1;Z2q.W7Z(Z7Z.toString(),Z7Z.toString().length,6119) !== I7Z;Z7Z++){Z2q.O6C(7);V4y=Z2q.y6C("n",l3y);Z2q.J6C(52);p4y=Z2q.c6C(l3y,"n");T3y=i3y.points;Z3y=T3y[3].v;R4y=T3y[5].v;E3y=i3y.stddev;q3y=U4y !== ((946130,"873653" & 2147483647) === (9676,8994)?0x2dd:"n")?l3y / ~4:l3y % 9;D7Z+=2;}if(Z2q.v7Z(D7Z.toString(),D7Z.toString().length,81220) !== i7Z){Z2q.O6C(12);V4y=Z2q.c6C(l3y,"n");Z2q.O6C(7);p4y=Z2q.c6C("n",l3y);T3y=i3y.points;Z3y=T3y[6].v;R4y=T3y[9].v;E3y=i3y.stddev;q3y=U4y != ((262221,269036) != (+"9487",6175)?0xe4e:"n")?l3y * !2:l3y - ("0" & 2147483647);}Z2q.J6C(1);V4y=Z2q.y6C(J9Z,l3y);Z2q.O6C(1);p4y=Z2q.c6C(B9Z,l3y);T3y=i3y.points;Z3y=T3y[0].v;R4y=T3y[1].v;E3y=i3y.stddev;q3y=U4y === ((693.17,944.53) == (2720,2680)?+"0x174":"n")?l3y * -1:l3y * 1;F3y=this.stx;C3y=i3y.panel;r3y=i3y.yAxis;f3y={name:M3y,color:this.getLineColor(this[s4y]),type:"segment",y0:F3y.pixelFromTransformedValue(Z3y + E3y * q3y,C3y,r3y),y1:F3y.pixelFromTransformedValue(R4y + E3y * q3y,C3y,r3y),params:{pattern:this[V4y],lineWidth:this[p4y]}};if(this.lines){this.lines[M3y]=f3y;}a3y=i3y.context;B3y=T3y[0].x;N3y=T3y[1].x;F3y.plotLine(B3y,N3y,f3y.y0,f3y.y1,f3y.color,f3y.type,a3y,C3y,f3y.params);F3y.plotLine(B3y,B3y,f3y.y0 - 10,f3y.y0 + +"10",f3y.color,f3y.type,a3y,C3y,f3y.params);F3y.plotLine(N3y,N3y,f3y.y1 - 10,f3y.y1 + 10,f3y.color,f3y.type,a3y,C3y,f3y.params);Z2q.O6C(1);e4y=Z2q.c6C(l3y,+"484.42" !== (1519,899.82)?"\u03c3":+"996.23");d4y=Math.max(B3y,N3y) + 5;x4y=B3y < N3y?f3y.y1:f3y.y0;a3y.fillStyle=f3y.color;a3y.save();a3y.textBaseline="middle";a3y.fillText(e4y,d4y,x4y);a3y.restore();if(i3y.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(B3y >= C3y.chart.left && B3y <= C3y.chart.right || N3y >= C3y.chart.left && N3y <= C3y.chart.right){Z2q.J6C(10);G4y=Z2q.c6C(q3y,E3y,B3y < N3y?R4y:Z3y);F3y.endClip();F3y.createYAxisLabel(C3y,i3y.formatPrice(G4y,r3y),x4y,f3y.color,null,a3y,r3y);F3y.startClip(C3y.name);}}},intersected:function(A4y,u4y,H4y){var S4y,g4y,h9Z,Q4y,K4y,D4y,t4y,c4y,H9Z;if(!this.pixelX || !this.pixelY){return null;}S4y=this.repositionIntersection(A4y,u4y);if(S4y){return S4y;}g4y={0:this.pixelX,1:this.pixelY};for(var J4y=0;J4y < 2;J4y++){if(this.pointIntersection(g4y[0][J4y],g4y[1][J4y],H4y,! !1)){h9Z="dr";h9Z+="a";h9Z+="g";Z2q.J6C(1);this.highlighted=Z2q.y6C("p",J4y);return {action:h9Z,point:"p" + J4y};}}Z2q.y2q();Q4y=this;K4y=this.pixelX[0];D4y=this.pixelX[+"1"];t4y=function(X4y){var y4y,y4Z,j4Z,s4Z,j4y;y4y=[K4y,X4y.y0];y4Z=1647776238;j4Z=-1580686841;s4Z=2;for(var l4Z=1;Z2q.W7Z(l4Z.toString(),l4Z.toString().length,37831) !== y4Z;l4Z++){j4y=[D4y,X4y.y1];Z2q.J6C(0);s4Z+=Z2q.c6C("2",0);}if(Z2q.v7Z(s4Z.toString(),s4Z.toString().length,39009) !== j4Z){j4y=[D4y,X4y.y1];}return Q4y.lineIntersection(A4y,u4y,H4y,Q4y.name,y4y,j4y,! ![]);};c4y=t4y({y0:this.pixelY[0],y1:this.pixelY[1]});if(!c4y && this.lines){for(var P4y in this.lines){if(t4y(this.lines[P4y])){c4y=! !{};break;}}}if(c4y){H9Z="m";H9Z+="o";H9Z+="v";H9Z+="e";this.highlighted=! !{};return {action:H9Z,p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:A4y,value:u4y};}return null;},repositionIntersection:function(O4y,o4y){var Q5Z,F5Z,k5Z,A9Z;Q5Z=407028113;F5Z=352404425;k5Z=2;for(var W5Z=1;Z2q.v7Z(W5Z.toString(),W5Z.toString().length,99308) !== Q5Z;W5Z++){if(!this.p0 || !this.p1){return ! !"";}k5Z+=2;}if(Z2q.v7Z(k5Z.toString(),k5Z.toString().length,+"77213") !== F5Z){if(+this.p0 && -this.p1){return ! ![];}}if(this == this.stx.repositioningDrawing && this.highlighted){A9Z="d";A9Z+="r";A9Z+="a";A9Z+="g";if(this.highlighted === ! !1){return {action:"move",p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:O4y,value:o4y};}return {action:A9Z,point:this.highlighted};}return !"1";},lineIntersection:function(L4y,b4y,z4y,k4y,Y4y,m4y,I4y){var n4y,W4y,v4y;if(!I4y){Z2q.O6C(1);console.log(Z2q.y6C(k4y," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !{};}if(!Y4y){Y4y=this.p0;}if(!m4y){m4y=this.p1;}if(!(Y4y && m4y)){return ![];}n4y=this.stx;W4y=z9r.convertBoxToPixels(n4y,this.panelName,z4y);if(W4y.x0 === undefined){return !{};}v4y={x0:Y4y[0],x1:m4y[0],y0:Y4y[1],y1:m4y[1]};return z9r.boxIntersects(W4y.x0,W4y.y0,W4y.x1,W4y.y1,v4y.x0,v4y.y0,v4y.x1,v4y.y1);},boxIntersection:function(w4y,f4y,h4y){if(h4y.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || h4y.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ! !0;}if(!this.stx.repositioningDrawing && (h4y.cy1 < this.pixelY[0] || h4y.cy0 > this.pixelY[+"1"])){return ![];}return ! !1;},reconstruct:function(a4y,C4y){this.stx=a4y;this.color=C4y.col;this.color1=C4y.col1;this.color2=C4y.col2;this.color3=C4y.col3;this.active1=C4y.dev1;this.active2=C4y.dev2;this.active3=C4y.dev3;this.panelName=C4y.pnl;this.pattern=C4y.ptrn;this.pattern1=C4y.ptrn1;this.pattern2=C4y.ptrn2;this.pattern3=C4y.ptrn3;this.lineWidth=C4y.lw;this.lineWidth1=C4y.lw1;this.lineWidth2=C4y.lw2;this.lineWidth3=C4y.lw3;this.d0=C4y.d0;this.d1=C4y.d1;this.tzo0=C4y.tzo0;this.tzo1=C4y.tzo1;this.field=C4y.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !1);z9r.Drawing.trendline=function(){this.name="trendline";};z9r.inheritsFrom(z9r.Drawing.trendline,z9r.Drawing.segment);z9r.Drawing.trendline.prototype.configs=["color","fillColor",r9Z,K9Z,"font"];z9r.Drawing.trendline.prototype.measure=function(){;};z9r.Drawing.trendline.prototype.reconstruct=function(F4y,B4y){z9r.Drawing.segment.prototype.reconstruct.call(this,F4y,B4y);this.callout=new z9r.Drawing.callout();this.callout.reconstruct(F4y,B4y.callout);};z9r.Drawing.trendline.prototype.serialize=function(){var N4y;N4y=z9r.Drawing.segment.prototype.serialize.call(this);Z2q.y2q();N4y.callout=this.callout.serialize();return N4y;};z9r.Drawing.trendline.prototype.render=function(M4y){var f9Z,l4y,p5y,r4y,E4y,i4y,T4y,Z4y,q4y,R5y,e5y,x5y,d5y,G5y,U5y,s5y,V5y,J5y,c5y,A5y,u5y;f9Z="%";f9Z+=")";f9Z+=" ";l4y=this.stx.panels[this.panelName];if(!l4y){return;}z9r.Drawing.segment.prototype.render.call(this,M4y);if(!this.callout){this.callout=new z9r.Drawing.callout();p5y=z9r.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,p5y);}this.callout.p0=z9r.clone(this.p0);r4y=this.stx.pixelFromTick(this.p0[0],l4y.chart);E4y=this.stx.pixelFromTick(this.p1[+"0"],l4y.chart);i4y=this.stx.pixelFromValueAdjusted(l4y,this.p0[0],this.p0[1]);T4y=this.stx.pixelFromValueAdjusted(l4y,this.p1[0],this.p1[1]);if(!isFinite(i4y) || !isFinite(T4y)){return;}Z2q.O6C(2);Z4y=Z2q.y6C(r4y,2,E4y);Z2q.J6C(53);q4y=Z2q.y6C("2",T4y,i4y);this.fontSize=z9r.stripPX(this.font && this.font.size || 13);R5y=this.callout.w * ("1.2" - 0) + (this.callout.stemEntry[+"0"] == ((7920,168) < 2555?"c":1.08e+3)?0:50);e5y=Math.sqrt(Math.pow(E4y - r4y,2) + Math.pow(T4y - i4y,2));x5y=R5y / (e5y || R5y) * (this.p1["1" | 0] < this.p0[1]?1:-1);Z2q.J6C(54);d5y=Z2q.c6C(T4y,q4y,Z4y,x5y);Z2q.O6C(55);G5y=Z2q.c6C(q4y,Z4y,x5y,E4y);this.callout.p0[0]=this.stx.tickFromPixel(d5y,l4y.chart);this.callout.p0[1]=this.stx.priceFromPixel(G5y,l4y);this.callout.v0=this.callout.p0[1];this.callout.p1=z9r.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !{};U5y=this.p1[1] - this.p0[1];this.callout.text="" + Number(U5y).toFixed(+"2") + (this.p0[1] === ("0" | 0)?"":" (" + Number(+"100" * U5y / this.p0[1]).toFixed(2) + f9Z) + "" + Math.abs(this.p1["0" | 0] - this.p0[+"0"]) + " Bars";s5y=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){J5y=this.stx.pixelFromTick(s5y,l4y.chart);Z2q.O6C(56);c5y=Z2q.c6C(E4y,r4y,J5y,r4y,T4y,i4y,i4y);V5y=this.stx.priceFromPixel(c5y,l4y) || q4y;}else {V5y=this.stx.priceFromPixel(q4y,l4y);}this.callout.stem={t:s5y,v:V5y};this.callout.renderText();this.callout.render(M4y);if(this.highlighted){A5y=this.highlighted == "p0"?! !{}:![];u5y=this.highlighted == "p1"?! !1:! !"";this.littleCircle(M4y,r4y,i4y,A5y);this.littleCircle(M4y,E4y,T4y,u5y);}};z9r.Drawing.trendline.prototype.lineIntersection=function(S5y,g5y,Q5y,t5y){return z9r.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,S5y,g5y,Q5y,"segment");};z9r.Drawing.trendline.prototype.intersected=function(K5y,D5y,X5y){var P5y,H5y,x9Z;if(!this.p0 || !this.p1){return null;}P5y=this.callout.intersected(K5y,D5y,X5y);H5y=z9r.Drawing.segment.prototype.intersected.call(this,K5y,D5y,X5y);this.callout.highlighted=! !(P5y || H5y);if(H5y){return H5y;}else if(P5y){x9Z="m";x9Z+="o";x9Z+="ve";return {action:x9Z,p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:K5y,value:D5y};}return null;};z9r.Drawing.average=function(){Z2q.y2q();this.name="average";};z9r.inheritsFrom(z9r.Drawing.average,z9r.Drawing.regression);z9r.extend(z9r.Drawing.average.prototype,{configs:z9r.Drawing.regression.prototype.configs.concat(Q9Z),measure:function(){var F9Z,U9Z,y5y,O5y,W5y,Y5y,o5y,j5y;if(this.p0 && this.p1){F9Z=" ";F9Z+="&sigma";F9Z+=";";U9Z=",";U9Z+=" ";this.stx.setMeasure(0,!"1",this.p0[0],this.p1[0],! !"1",this.name);y5y=[];O5y="";if(this.active1){y5y.push(966.35 <= 449.46?"D":(2800,8350) !== 6800?"1":("o",![]));}if(this.active2){y5y.push((204.11,147.5) >= +"8600"?(9.99e+3,5.53e+3):67.67 == (8704,782.42)?(0x239f,+"3.76e+3"):(9520,+"231") === 1360?680.93:"2");}if(this.active3){y5y.push(+"127" === 933.45?+"379" == (6476,"5890" & 2147483647)?(+"7.48e+3","O"):! !{}:"3");}if(y5y.length){O5y="&ensp;" + y5y.join(U9Z) + F9Z;}W5y=(this.stx.drawingContainer || document).querySelector(".mMeasure");Y5y=this.stx.controls.mSticky;o5y=Y5y && Y5y.querySelector(".mStickyInterior");if(W5y){W5y.innerHTML+=O5y;}if(o5y){j5y=[];j5y.push(z9r.capitalize(this.name));j5y.push(this.field || this.stx.defaultPlotField || "Close");j5y.push(o5y.innerHTML + O5y);o5y.innerHTML=j5y.join("<br>");}}},render:function(L5y){var m5y,n5y,z5y,f5y,k5y,N5y,l5y,Z5y,i5y,F5y,I5y,h5y,C5y,w5y,v5y,a5y,B5y,T5y,E5y,b5y,q5y,M5y;m5y=this.stx.panels[this.panelName];if(!m5y){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}n5y=this.stx.pixelFromTick(this.p0[0],m5y.chart);z5y=this.stx.pixelFromTick(this.p1[0],m5y.chart);if(n5y < m5y.left && z5y < m5y.left){return;}if(n5y > m5y.right && z5y > m5y.right){return;}f5y=this.stx.getYAxisByField(m5y,this.field);k5y=this.stx;function r5y(R8y,x8y){Z2q.y2q();if(x8y && x8y.priceFormatter){R8y=x8y.priceFormatter(k5y,m5y,R8y);}else {R8y=k5y.formatYAxisPrice(R8y,m5y,null,x8y);}return R8y;}N5y=Math.min(this.p1[0],this.p0[0]);l5y=Math.max(this.p1[0],this.p0[+"0"]) + 1;Z2q.O6C(0);Z5y=Z2q.y6C(l5y,N5y);i5y=0;F5y=[];for(I5y=N5y;I5y < l5y;I5y++){h5y=this.getYValue(I5y);if(h5y !== null){i5y+=h5y.transformed;F5y.push(h5y);}}C5y=F5y.length;if(!C5y){return;}Z2q.y2q();Z2q.J6C(7);w5y=Z2q.c6C(i5y,C5y);v5y=k5y.pixelFromTransformedValue(w5y,m5y,f5y);a5y=this.getLineColor();B5y={pattern:this.pattern,lineWidth:this.lineWidth};k5y.plotLine(n5y,z5y,v5y,v5y,a5y,"segment",L5y,m5y,B5y);Z2q.J6C(0);k5y.plotLine(n5y,n5y,Z2q.c6C(v5y,20),Z2q.y6C("20",v5y,Z2q.O6C(57)),a5y,"segment",L5y,m5y,B5y);Z2q.O6C(0);k5y.plotLine(z5y,z5y,Z2q.c6C(v5y,20),Z2q.c6C(v5y,1887611744,"20",Z2q.O6C(58)),a5y,"segment",L5y,m5y,B5y);if(this.axisLabel && !this.highlighted && !this.penDown){if(n5y >= m5y.chart.left && n5y <= m5y.chart.right || z5y >= m5y.chart.left && z5y <= m5y.chart.right){k5y.endClip();k5y.createYAxisLabel(m5y,r5y(w5y,f5y),v5y,a5y,null,L5y,f5y);k5y.startClip(m5y.name);}}if(this.active1 || this.active2 || this.active3){T5y=0;for(I5y=0;I5y < C5y;I5y++){h5y=F5y[I5y];T5y+=Math.pow(h5y.transformed - w5y,+"2");}Z2q.J6C(7);E5y=Math.sqrt(Z2q.c6C(T5y,C5y));b5y={context:L5y,formatPrice:r5y,panel:m5y,points:{0:{x:n5y,v:w5y},1:{x:z5y,v:w5y}},stddev:E5y,yAxis:f5y};this.lines={};if(this.active1){this.renderStddev("1",644.68 >= 2390?! !{}:(801.36,9469) <= 453?!"1":"p",b5y);this.renderStddev("1",(442.54,"6240" & 2147483647) < 749.91?(! !"",! ![]):"n",b5y);}if(this.active2){this.renderStddev(("5790" >> 642723040,498.2) != (8350,3969)?9289 <= (7090,4310)?4150 != ("8870" >> 1096257024,2447)?! !"1":(930.80,0x20df):"2":("X",0x24f5),"p",b5y);this.renderStddev((3290,555) <= 6590?"2":(7900,+"7680") != "1690" - 0?(0x969,0x24d7):![],+"5660" < (665.89,6600)?785.16 == (8152,506.54)?"C":447 == (143,"839.12" - 0)?"776.50" * 1:"n":+"1.48e+3",b5y);}if(this.active3){this.renderStddev(892.97 >= (+"6965",6970)?(60.64,+"740.7") >= 165?7113 !== 393.16?956:! !{}:(166.29,! !0):"3",(6500,8520) <= 982.25?129.05:29.93 > (6560,6843)?6000 <= 7745?+"361.53":8.44e+3:"p",b5y);this.renderStddev("3","n",b5y);}}if(!this.highlighted){this.pixelX=[n5y,z5y];this.pixelY=[v5y,v5y];}else {q5y=this.highlighted == "p0"?! ![]:![];M5y=this.highlighted == "p1"?! !1:!1;this.littleCircle(L5y,n5y,v5y,q5y);this.littleCircle(L5y,z5y,v5y,M5y);}},reconstruct:function(s8y,U8y){this.axisLabel=U8y.al;z9r.Drawing.regression.prototype.reconstruct.call(this,s8y,U8y);},serialize:function(){Z2q.M2q();var V8y;V8y=z9r.Drawing.regression.prototype.serialize.call(this);V8y.al=this.axisLabel;return V8y;}},! !"1");z9r.Drawing.quadrant=function(){Z2q.y2q();this.name="quadrant";};z9r.inheritsFrom(z9r.Drawing.quadrant,z9r.Drawing.regression);z9r.extend(z9r.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(G8y){var v9Z,W9Z,V9Z,k9Z,e8y,p8y,d8y,J8y,g8y,c8y,A8y,H8y,Q8y,D8y,P8y,K8y,j8y,O8y,t8y,u8y,X8y,S8y,d9Z,L9Z,o8y,W8y;v9Z="ti";v9Z+="rone";W9Z="quadr";W9Z+="ant";V9Z="se";V9Z+="g";V9Z+="men";V9Z+="t";k9Z="segm";k9Z+="e";k9Z+="nt";e8y=this.stx;p8y=e8y.panels[this.panelName];if(!p8y){return;}if(!this.p1){return;}d8y=e8y.pixelFromTick(this.p0["0" * 1],p8y.chart);J8y=e8y.pixelFromTick(this.p1[0],p8y.chart);if(d8y < p8y.left && J8y < p8y.left){return;}if(d8y > p8y.right && J8y > p8y.right){return;}g8y=this.stx.getYAxisByField(p8y,this.field);c8y=null;A8y=null;for(var y8y=Math.min(this.p1[0],this.p0["0" >> 986690048]);y8y <= Math.max(this.p1["0" | 0],this.p0[0]);y8y++){H8y=this.getYValue(y8y);if(H8y !== null){if(c8y === null || H8y.transformed > c8y){c8y=H8y.transformed;}if(A8y === null || H8y.transformed < A8y){A8y=H8y.transformed;}}}Q8y=e8y.pixelFromTransformedValue(c8y,p8y,g8y);Z2q.O6C(59);D8y=e8y.pixelFromTransformedValue(Z2q.c6C(c8y,A8y,4,"3"),p8y,g8y);Z2q.J6C(60);P8y=e8y.pixelFromTransformedValue(Z2q.y6C("3",A8y,2,c8y,2),p8y,g8y);Z2q.J6C(53);K8y=e8y.pixelFromTransformedValue(Z2q.c6C("2",A8y,c8y),p8y,g8y);Z2q.J6C(61);j8y=e8y.pixelFromTransformedValue(Z2q.y6C(A8y,c8y,2,3),p8y,g8y);Z2q.J6C(61);O8y=e8y.pixelFromTransformedValue(Z2q.y6C(A8y,c8y,3,4),p8y,g8y);t8y=e8y.pixelFromTransformedValue(A8y,p8y,g8y);this.p0[1]=0;Z2q.O6C(13);this.p1[Z2q.c6C(2147483647,"1")]=!{};u8y=this.getLineColor();X8y=this.fillColor;if(X8y == "auto" || z9r.isTransparent(X8y)){X8y=e8y.defaultColor;}G8y.fillStyle=X8y;S8y={pattern:this.pattern,lineWidth:this.lineWidth};e8y.plotLine(d8y,J8y,Q8y,Q8y,u8y,"segment",G8y,p8y,S8y);e8y.plotLine(d8y,J8y,t8y,t8y,u8y,"segment",G8y,p8y,S8y);if(this.name == "quadrant"){e8y.plotLine(d8y,J8y,D8y,D8y,u8y,"segment",G8y,p8y,S8y);e8y.plotLine(d8y,J8y,O8y,O8y,u8y,"segment",G8y,p8y,S8y);}else if(this.name == "tirone"){e8y.plotLine(d8y,J8y,P8y,P8y,u8y,"segment",G8y,p8y,S8y);e8y.plotLine(d8y,J8y,j8y,j8y,u8y,"segment",G8y,p8y,S8y);}e8y.plotLine(d8y,d8y,Q8y,t8y,u8y,k9Z,G8y,p8y,S8y);e8y.plotLine(J8y,J8y,Q8y,t8y,u8y,V9Z,G8y,p8y,S8y);e8y.plotLine(d8y,J8y,K8y,K8y,u8y,"segment",G8y,p8y,z9r.extend(S8y,{opacity:this.name == "tirone"?0.2:1}));G8y.globalAlpha=0.1;G8y.beginPath();Z2q.J6C(0);G8y.fillRect(d8y,Q8y,Z2q.y6C(J8y,d8y),Z2q.y6C(t8y,Q8y));if(this.name == W9Z){Z2q.O6C(0);G8y.fillRect(d8y,D8y,Z2q.y6C(J8y,d8y),Z2q.c6C(O8y,D8y));}else if(this.name == v9Z){Z2q.J6C(0);G8y.fillRect(d8y,P8y,Z2q.c6C(J8y,d8y),Z2q.c6C(j8y,P8y));}G8y.globalAlpha=1;if(!this.highlighted){this.pixelX=[d8y,J8y];this.pixelY=[Q8y,t8y];if(p8y.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(K8y);}else {d9Z="p";d9Z+="1";L9Z="p";L9Z+="0";o8y=this.highlighted == L9Z?! !{}:!1;W8y=this.highlighted == d9Z?! !"1":! !"";this.littleCircle(G8y,d8y,K8y,o8y);this.littleCircle(G8y,J8y,K8y,W8y);}},intersected:function(v8y,n8y,z8y){var m8y,X9Z;Z2q.M2q();if(!this.pixelX || !this.pixelY){return null;}m8y=this.repositionIntersection(v8y,n8y);if(m8y){return m8y;}for(var Y8y=+"0";Y8y < 2;Y8y++){if(this.pointIntersection(this.pixelX[Y8y],this.pixelY[2],z8y,! !{})){Z2q.O6C(1);this.highlighted=Z2q.y6C((8218,"8620" << 1550944000) < ("1940" | 1664)?"u":"p",Y8y);return {action:"drag",point:((5612,4230) <= (708.08,1260)?"g":(+"3110",9642) == (5228,+"7140")?0x270a:839.94 >= (9288,7450)?(! ![],0x541):"p") + Y8y};}}if(this.boxIntersection(null,null,z8y)){X9Z="mo";X9Z+="v";X9Z+="e";this.highlighted=! ![];return {action:X9Z,p0:z9r.clone(this.p0),p1:z9r.clone(this.p1),tick:v8y,value:n8y};}return null;},reconstruct:function(I8y,k8y){this.stx=I8y;this.color=k8y.col;this.fillColor=k8y.fc;this.panelName=k8y.pnl;this.pattern=k8y.ptrn;this.lineWidth=k8y.lw;this.d0=k8y.d0;this.d1=k8y.d1;this.tzo0=k8y.tzo0;this.tzo1=k8y.tzo1;this.field=k8y.fld;this.adjust();},serialize:function(){Z2q.y2q();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);z9r.Drawing.tirone=function(){var z9Z;z9Z="tir";z9Z+="one";this.name=z9Z;};z9r.inheritsFrom(z9r.Drawing.tirone,z9r.Drawing.quadrant);z9r.Drawing.elliottwave=function(){var t9Z;t9Z="el";t9Z+="liottw";t9Z+="ave";this.name=t9Z;this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};z9r.inheritsFrom(z9r.Drawing.elliottwave,z9r.Drawing.annotation);z9r.Drawing.elliottwave.defaultTemplate={impulse:[798.41 !== (3180,639.06)?("259" ^ 0,5622) < (+"5890",641)?(895.95,0x1dfe):"I":! !1,"II","III",a9Z,("9550" >> 2092414624,7800) === 9110?(932.38,849.13) != 339.8?3019 === 430.28?(3.01e+3,2.08e+3):0x1508:3.97e+3:"V"],corrective:[7230 !== 4752?"A":(6.71e+3,0x20a),(3758,8761) !== (8608,6750)?"B":(!1,7.16e+3),(+"9630",4770) > 1240?8168 != 838?"C":5715 >= 7413?("H",! !0):"x":(! ![],"g")],decoration:"enclosed",showLines:! !{}};z9r.Drawing.elliottwave.prototype.initializeSettings=function(L8y){L8y.currentVectorParameters.waveParameters=z9r.clone(z9r.Drawing.elliottwave.defaultTemplate);};z9r.Drawing.elliottwave.prototype.configs=[b9Z,"lineWidth",R9Z,e9Z,"font",T9Z];z9r.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",n9Z];z9r.Drawing.elliottwave.prototype.construct=function(b8y,w8y){var h8y;this.stx=b8y;this.panelName=w8y.name;Z2q.y2q();h8y=b8y.currentVectorParameters;Object.assign(this,h8y.waveParameters);};z9r.Drawing.elliottwave.prototype.serialize=function(){var C8y;C8y={};for(var f8y=0;f8y < this.points.length;f8y++){Z2q.O6C(1);C8y[Z2q.y6C((5976,9487) < "6250" << 705644704?("a",0xbfc):"d",f8y)]=this[Z2q.c6C("5433" * 1 !== 5900?"d":+"5200" <= (874,2680)?! !"":(0x85f,+"0x2424"),f8y)];Z2q.J6C(1);C8y[Z2q.c6C("tzo",f8y)]=this[Z2q.c6C("tzo",f8y)];Z2q.J6C(1);C8y[Z2q.y6C("v",f8y)]=this[Z2q.y6C("v",f8y)];}Z2q.M2q();C8y.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:z9r.removeNullValues(z9r.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},C8y);};z9r.Drawing.elliottwave.prototype.reconstruct=function(F8y,a8y){var P9Z,B8Z,h8Z,H8Z,q9Z,G9Z;P9Z="wei";P9Z+="g";P9Z+="h";P9Z+="t";this.stx=F8y;this.color=a8y.col;this.panelName=a8y.pnl;this.pattern=a8y.ptrn;this.lineWidth=a8y.lw;this.font=z9r.replaceFields(a8y.fnt,{st:"style",sz:"size",wt:P9Z,fl:"family"});this.decoration=a8y.decor;this.showLines=a8y.show;B8Z=2067457360;h8Z=1964601859;H8Z=+"2";for(var r8Z=1;Z2q.v7Z(r8Z.toString(),r8Z.toString().length,+"90550") !== B8Z;r8Z++){q9Z="enclo";q9Z+="sed";this.dx=a8y.dx;this.dy=a8y.dy;this.trend=a8y.trend;this.annotationPoints=a8y.annotations.split("1489" >> 256445088 >= "2818" >> 1549104896?26 < "509.23" - 0?0xf7f:("D",561.38):",");if(a8y.decor === q9Z){this.calculateRadius(F8y.chart.tempCanvas.context);}this.maxSegments=a8y.mxSeg;this.reconstructPoints(a8y);H8Z+=2;}if(Z2q.W7Z(H8Z.toString(),H8Z.toString().length,44926) !== h8Z){G9Z="e";G9Z+="nclo";G9Z+="s";G9Z+="ed";this.dx=a8y.dx;this.dy=a8y.dy;this.trend=a8y.trend;this.annotationPoints=a8y.annotations.split(+"7678" < 3953?63 > 121000?0xc6f:("D",151072):"enclosed");if(a8y.decor == G9Z){this.calculateRadius(F8y.chart.tempCanvas.context);}this.maxSegments=a8y.mxSeg;this.reconstructPoints(a8y);}this.adjust();};z9r.Drawing.elliottwave.prototype.reconstructPoints=function(N8y){var l8y,g9Z,i8y,T8y;l8y=this.stx.panels[this.panelName];if(!l8y){return;}for(var B8y=0;B8y < this.annotationPoints.length;B8y++){g9Z="tz";g9Z+="o";Z2q.J6C(1);this[Z2q.y6C("d",B8y)]=N8y[Z2q.c6C("d",B8y)];Z2q.O6C(1);this[Z2q.y6C((5260,750.36) <= 7434?300.52 !== +"161.13"?"v":(!0,"8.72e+3" << 358544064):0x18de,B8y)]=N8y[Z2q.c6C("v",B8y)];Z2q.O6C(1);this[Z2q.c6C("tzo",B8y)]=N8y[Z2q.y6C(g9Z,B8y)];i8y=z9r.strToDateTime(N8y[(713.69 > 125.43?(7920,9781) !== (2940,1998)?"d":(260.72,+"7880") != 3030?(3.92e+3,![]):"O":("3.42e+3" >> 1305347968,3.95e+3)) + B8y]);T8y=this.stx.tickFromDate(i8y,l8y.chart);this.points.push([T8y,N8y[(+"1445" >= (4649,8480)?"2.27e+3" | 2258:(6500,2116) === (+"115",3650)?!1:"v") + B8y]]);}};z9r.Drawing.elliottwave.prototype.calculateRadius=function(M8y){var r8y,q8y;this.getFontString();M8y.font=this.fontString;r8y=0;for(var E8y=0;E8y < this.annotationPoints.length;E8y++){q8y=M8y.measureText(this.annotationPoints[E8y]).width;if(r8y < q8y){r8y=q8y;}}Z2q.M2q();this.enclosedRadius=r8y;};z9r.Drawing.elliottwave.prototype.check=function(U7y,V7y,Z8y){var R7y,x7y;if(Z8y === 1 && this.points.length === 2){return ! !"1";}Z2q.J6C(0);R7y=this.points[Z2q.y6C(Z8y,1)];if(R7y && U7y <= R7y[0]){return ! !0;}Z2q.J6C(62);x7y=this.points[Z2q.c6C("1",0,Z8y)];function s7y(e7y){for(var p7y=+"2";p7y < e7y.length;p7y++){if(Math.sign(e7y[p7y][1] - e7y[p7y - 1][+"1"]) == Math.sign(e7y[p7y - 1][1] - e7y[p7y - 2][1])){return ! !"";}}return ! !1;}if(x7y && U7y >= x7y[0]){return !{};}if(!s7y(this.points)){return ![];}return !0;};z9r.Drawing.elliottwave.prototype.move=function(d7y,G7y,J7y){this.copyConfig();this.points[this.lastPoint + +"1"]=[G7y,J7y];Z2q.M2q();this.render(d7y);};z9r.Drawing.elliottwave.prototype.adjust=function(){var A7y,u7y;Z2q.y2q();A7y=this.stx.panels[this.panelName];if(!A7y){return;}for(var c7y=0;this.maxSegments + 1 > c7y;c7y++){Z2q.J6C(1);u7y=this[Z2q.y6C(277.97 > (224.06,425)?793.12:(7990,3680) <= 6889?"d":9.20e+3,c7y)];this.setPoint(c7y,u7y,this[(7649 < 6170?"T":"v") + c7y],A7y.chart);this.points[c7y][0]=this.stx.tickFromDate(z9r.strToDateTime(u7y),A7y.chart);Z2q.O6C(1);this.points[c7y][1]=this[Z2q.y6C("v",c7y)];}};z9r.Drawing.elliottwave.prototype.click=function(t7y,S7y,g7y){var Q7y;Q7y=this.stx.panels[this.panelName];if(!Q7y){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,S7y,g7y,Q7y.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(t7y);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return !1;}if(this.accidentalClick(S7y,g7y)){this.penDown=! !"1";return ![];}Z2q.y2q();if(this.check(S7y,g7y,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,S7y,g7y,Q7y.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! !"1";}}return !{};};z9r.Drawing.elliottwave.prototype.render=function(H7y){var w9Z,p9Z,D7y,I7y,C7y,a7y,F7y,L7y,b7y,X7y,y7y,h7y,j7y,P7y,j9Z,y9Z,o7y,Y7y,O7y,m7y,v7y,B7y,N7y,n7y,z7y,W7y,w7y,f7y,l7y,k7y;w9Z="str";w9Z+="ing";p9Z="m";p9Z+="iddle";D7y=this.stx.panels[this.panelName];if(!D7y){return;}Z2q.y2q();I7y=this.stx;C7y=this.annotationPoints;a7y=this.pattern?z9r.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();H7y.font=this.fontString;H7y.textAlign="center";H7y.textBaseline=p9Z;H7y.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(H7y);}this.lastFontString=this.fontString;F7y=this.getLineColor();H7y.fillStyle=H7y.strokeStyle=F7y;H7y.save();H7y.setLineDash(a7y);L7y=this.dx;b7y=this.dy;X7y=this.points;y7y=this.pts;h7y=!this.showLines && this.highlighted;j7y=X7y.length;if(this.penDown && this.segment){P7y=this.trend * (j7y % 2 - 0.5) < 0;if(D7y.yAxis.flipped){P7y=!P7y;}this.drawDropZone(H7y,X7y[j7y - 2]["1" & 2147483647],this.stx.priceFromPixel(D7y.yAxis[P7y?"top":"bottom"]),X7y[j7y - 2][0]);}else if(typeof this.highlighted === w9Z && this.stx.repositioningDrawing){j9Z="m";j9Z+="i";j9Z+="n";y9Z="m";y9Z+="a";y9Z+="x";o7y=parseInt(this.highlighted.substring(1,this.highlighted.length),10);P7y=this.trend * (o7y % 2 - 0.5) > 0;Z2q.O6C(0);Y7y=X7y[Z2q.c6C(o7y,1)];Z2q.O6C(1);O7y=X7y[Z2q.y6C(o7y,1)];m7y=o7y > "0" >> 12144288?Y7y[1]:O7y[1];if(O7y){m7y=Math[P7y?y9Z:j9Z](m7y,O7y[1]);}if(D7y.yAxis.flipped){P7y=!P7y;}this.drawDropZone(H7y,m7y,this.stx.priceFromPixel(D7y.yAxis[P7y?"top":"bottom"]),Y7y?Y7y[0]:null,O7y?O7y[0]:null);}for(var K7y=0;K7y < j7y;K7y++){v7y=X7y[K7y];B7y=I7y.pixelFromTick(v7y[0],D7y.chart);N7y=I7y.pixelFromValueAdjusted(D7y,v7y[0],v7y[1]);y7y[K7y]=[B7y,N7y];}K7y=0;if(this.showLines || h7y){H7y.beginPath();if(h7y){H7y.globalAlpha=0.3;}for(;K7y < y7y.length;K7y++){H7y.lineTo(y7y[K7y][+"0"],y7y[K7y][1]);}H7y.stroke();K7y=0;}H7y.restore();for(;K7y < j7y;K7y++){n7y=K7y % 2?L7y:-L7y;z7y=K7y % 2?b7y:-b7y;n7y*=this.trend;z7y*=this.trend;if(D7y.yAxis.flipped){n7y*=-1;z7y*=- +"1";}W7y=y7y[K7y];w7y=W7y[2]=W7y[0] + n7y;Z2q.O6C(0);f7y=W7y[Z2q.y6C("3",0)]=W7y[1] + z7y;l7y=this.enclosedRadius || 8;k7y=C7y[K7y];if(this.decoration === "parentheses"){Z2q.O6C(51);k7y=Z2q.c6C((5750,655.83) != 2553?")":"D",k7y,4600 == ("3721" >> 349003424,615.5)?"O":"(");}H7y.fillText(k7y,w7y,f7y);if(this.decoration === "enclosed"){H7y.beginPath();H7y.arc(w7y,f7y,l7y,0,2 * Math.PI,!{});H7y.stroke();}if(this.highlighted){H7y.save();this.littleCircle(H7y,this.pts[K7y][0],this.pts[K7y][+"1"],this.highlighted === (8180 == +"2650"?(4158,"1689" >> 446174688) != (540,742.1)?235.17 <= (+"4550",606.05)?(0xbce,! !{}):("T",! ![]):("c",0x1229):"p") + K7y);H7y.restore();}}};z9r.Drawing.elliottwave.prototype.reposition=function(s6y,i7y,E7y,q7y){var Z7y,R6y,x6y,r7y,M7y,U6y;Z2q.y2q();if(!i7y){return;}Z7y=this.stx.panels[this.panelName];R6y=i7y.tick - E7y;x6y=i7y.value - q7y;if(i7y.action === "move"){for(var T7y=0;i7y.points.length > T7y;T7y++){r7y=i7y.points[T7y];this.setPoint(T7y,r7y[0] - R6y,r7y["1" - 0] - x6y,Z7y.chart);this.points[T7y]=[r7y[0] - R6y,r7y[1] - x6y];}}if(i7y.action === "drag"){M7y=i7y.point;U6y=this.points;U6y[M7y]=[E7y,q7y];if(this.check(E7y,q7y,M7y)){this.setPoint(M7y,E7y,q7y,Z7y.chart);;};}this.render(s6y);};z9r.Drawing.elliottwave.prototype.intersected=function(e6y,d6y,G6y){var J6y,s9Z,p6y,O9Z;if(!this.p0 || !this.p1){return null;}for(var V6y=0;this.points.length > V6y;V6y++){s9Z="s";s9Z+="egm";s9Z+="e";s9Z+="nt";p6y=this.points[V6y];if(this.pointIntersection(p6y[0],p6y[1],G6y)){Z2q.J6C(1);this.highlighted=Z2q.y6C((3640,"900" << 2087643104) < 2224?(4180,4508) != (537.03,4.03)?(+"7481",408) < ("9508" * 1,3310)?"p":(! !1,"0xdc1" - 0):("f",1.15e+3):852.41,V6y);return {action:"drag",point:V6y,tick:e6y,value:d6y};}if(this.points[V6y + 1] && this.lineIntersection(e6y,d6y,G6y,s9Z,p6y,this.points[V6y + ("1" & 2147483647)])){O9Z="mo";O9Z+="ve";this.highlighted=! !{};J6y={action:O9Z,points:z9r.clone(this.points),tick:e6y,value:d6y};}}return J6y;};z9r.Drawing.elliottwave.prototype.measure=function(){Z2q.M2q();var l9Z,c6y,S6y,u6y,A6y;if(this.points.length >= 2){l9Z=".mStick";l9Z+="yInterior";c6y=this.points;this.stx.setMeasure(c6y[0][1],c6y[c6y.length - 1][1],c6y[0][0],c6y[c6y.length - 1][0],! ![]);S6y=this.stx.controls.mSticky;u6y=S6y && S6y.querySelector(l9Z);if(u6y){A6y=[];A6y.push(z9r.capitalize("Elliott Wave"));if(this.getYValue){A6y.push(this.field || this.stx.defaultPlotField || "Close");}A6y.push(u6y.innerHTML);u6y.innerHTML=A6y.join("<br>");}}};z9r.Drawing.printProjection=function(X6y,L6y,g6y){var t6y,H6y,v6y,y6y,n6y,j6y,z6y,O6y,P6y,Y6y,D6y,k6y,m6y,u9Z,W6y,Q6y,I6y;t6y=L6y.arr;if(t6y.length > ("1" & 2147483647)){H6y=t6y[0][0];v6y=Math.round(X6y.chart.maxTicks * 0.75);for(var K6y=1;K6y < t6y.length;K6y++){Z2q.O6C(0);y6y=t6y[Z2q.c6C(K6y,1)][+"0"];n6y=t6y[K6y][0];j6y=z9r.strToDateTime(y6y);z6y=z9r.strToDateTime(n6y).getTime();O6y=X6y.standardMarketIterator(j6y);P6y=0;while(j6y.getTime() < z6y){j6y=O6y.next();P6y+=1;}Y6y=z9r.strToDateTime(y6y).getTime();if(Y6y > z9r.strToDateTime(g6y[g6y.length - +"1"].Date).getTime()){D6y=g6y.length - 1;P6y+=+"1";}else {for(D6y=g6y.length - 1;D6y >= 0;D6y--){if(Y6y <= z9r.strToDateTime(g6y[D6y].Date).getTime())break;}}k6y={x0:0,x1:P6y,y0:g6y[D6y].Close,y1:t6y[K6y]["1" - 0]};H6y=z9r.strToDateTime(y6y);O6y=X6y.standardMarketIterator(H6y);m6y=! !"";for(var o6y=0;o6y <= P6y;o6y++){u9Z="minu";u9Z+="te";if(!m6y){m6y=! ![];}else {H6y=O6y.next();}if(H6y.getTime() <= g6y[g6y.length - ("1" & 2147483647)].DT.getTime())continue;W6y=z9r.yIntersection(k6y,o6y);if(!W6y){W6y=0;}Q6y=Math.round(W6y * 10000) / 10000;if(Q6y === +"0"){Q6y=t6y[K6y][1];}I6y={Date:z9r.yyyymmddhhmmssmmm(H6y),DT:H6y,Open:Q6y,Close:Q6y,High:Q6y,Low:Q6y,Volume:0,Adj_Close:Q6y,Split_Close:Q6y,projection:! !1};if(X6y.layout.interval == u9Z)if(v6y-- < 0)break;g6y[g6y.length]=I6y;}}}};}};D200.y2q();C4r=h6y=>{var a7Z,b7Z,R7Z,b6y;a7Z=235059032;b7Z=+"100749639";D200.y2q();R7Z=2;for(var T7Z=1;D200.v7Z(T7Z.toString(),T7Z.toString().length,68918) !== a7Z;T7Z++){b6y=+_CIQ != ""?_CIQ:h6y.CIQ;R7Z+=2;}if(D200.W7Z(R7Z.toString(),R7Z.toString().length,52196) !== b7Z){b6y=typeof _CIQ !== "undefined"?_CIQ:h6y.CIQ;}if(!b6y.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {b6y.formatEquation=function(N6y){var F4q=D200;var C6y,F6y,w6y,a6y,f6y;C6y="";F4q.y2q();F6y=[];w6y="";a6y=![];for(var B6y=1;B6y < N6y.length;B6y++){f6y=N6y[B6y].toUpperCase();if(f6y == ((477.87,1530) !== (98,2077)?(8460,2570) === (2684,1293)?(114,4440) !== 61.91?"U":(0x995,+"0x1ed5"):"[":6.97e+3) && !a6y){a6y=! ![];}else if(f6y == (787.94 != (9492,"5870" * 1)?(5618,351.32) >= (3425,1219)?(397,3170) >= (902.34,5130)?(844.30,0x2416):(0x210f,"P"):"]":(+"0x22c0","v")) && a6y){a6y=!{};if(w6y !== ""){F6y.push(w6y);F4q.O6C(51);C6y+=F4q.y6C((8080,470) === (845.68,1347)?(289.56,3070) > 5052?661:291.76 >= ("264" | 0,3248)?"5.86e+3" << 1821154432:(2.07e+3,"n"):"]",w6y,"[");}w6y="";}else if(a6y){w6y+=f6y;}else if(f6y == ((5300,9643) == ("7340" ^ 0,312.31)?(668.72,333.06):"+") || f6y == (8875 == ("9210" >> 1983381024,2030)?![]:7430 > (554,1875)?"-":3950 >= 3843?(! !1,1.49e+2):! ![]) || f6y == "*" || f6y == ((661.25,536.56) < (9180,6277)?(2595,271.77) == "838" << 360717760?(8910,6860) === (1210,"7940" * 1)?("X",8.28e+3):3.02e+3:"/":(!"",905.95)) || f6y == (3660 >= 751.74?":":(7246,5720) > 811.77?("49" * 1,553.29) > (888.98,4490)?"c":"u":0x15e3) || f6y == ("658.84" * 1 <= (3820,496.47)?("9400" & 2147483647) !== ("2958" ^ 0)?(5.27e+3,! !""):0x1996:"%") || f6y == (5100 === 918?"o":"(") || f6y == ((2173,1179) >= 6670?("X","r"):")")){if(w6y !== "" && isNaN(w6y)){F6y.push(w6y);F4q.O6C(51);C6y+=F4q.y6C(9600 <= (889.96,7710)?(6300,4190) !== (9980,9045)?!{}:(![],"X"):"]",w6y,"[");}else {C6y+=w6y;}if(f6y == (7380 == 611.18?(978.98,878.85) > (9360,"6483" - 0)?0x7a0:("I","s"):":")){f6y=+"5300" != (+"517",729.83)?"/":(227.36,0x2706);}C6y+=f6y;w6y="";}else if(f6y != " "){w6y+=f6y;}}if(w6y !== "" && isNaN(w6y)){F6y.push(w6y);F4q.O6C(51);C6y+=F4q.y6C(3632 != (6080,6740)?(1260,4370) > (5420,4762)?(3613,1721) == 9288?!"":(876,670.46):"]":"e",w6y,("36" ^ 0,2160) >= 268?411 == (9550,1198)?+"8716" >= (+"770",4830)?+"7.91e+3":(0x11fc,"989.41" * 1):"[":(6.65e+3,6.72e+3));}else {C6y+=w6y;}return {equation:C6y,symbols:F6y};};b6y.fetchEquationChart=function(l6y,Z6y){var r6y,E6y,q6y,M6y,T6y;r6y=b6y.formatEquation(l6y.symbol);E6y=r6y.symbols;q6y=[];M6y=l6y.stx;l6y.stx=null;for(var i6y=0;i6y < E6y.length;i6y++){T6y=b6y.shallowClone(l6y);T6y.stx=M6y;T6y.symbol=E6y[i6y];T6y.symbolObject={symbol:E6y[i6y]};q6y.push(T6y);}l6y.stx=M6y;M6y.quoteDriver.multiFetch(q6y,function(e9y){var S2Z,Z2Z,C5Z,V9y,R9y,x9y,U9y,d9y;S2Z=-318467350;Z2Z=1882439738;C5Z=+"2";for(var B5Z=1;D200.v7Z(B5Z.toString(),B5Z.toString().length,76066) !== S2Z;B5Z++){V9y={};C5Z+=2;}if(D200.v7Z(C5Z.toString(),C5Z.toString().length,62642) !== Z2Z){V9y={};}l6y.loadMoreReplace=! !"1";R9y={charge:0};for(var s9y=0;s9y < e9y.length;s9y++){x9y=e9y[s9y];if(x9y.dataCallback.error){Z6y({error:x9y.dataCallback.error});return;}V9y[x9y.params.symbol]=x9y.dataCallback.quotes;l6y.loadMoreReplace=l6y.loadMoreReplace && x9y.params.loadMoreReplace;l6y.moreToLoad=l6y.moreToLoad || x9y.dataCallback.moreAvailable;U9y=x9y.dataCallback.attribution;if(U9y){if(U9y.charge){R9y.charge+=U9y.charge;}R9y.source=U9y.source;if(R9y.exchange === undefined){R9y.exchange=U9y.exchange;}else if(R9y.exchange != U9y.exchange){R9y.exchange="";};}}if(q6y.length || !(l6y.loadMore || l6y.update)){try{d9y=b6y.computeEquationChart(r6y.equation,V9y);Z6y({quotes:d9y,moreAvailable:l6y.moreToLoad,attribution:R9y});}catch(G9y){var o9Z,N9Z,p9y;o9Z="N";o9Z+="oExc";o9Z+="eptio";o9Z+="n";N9Z="In";N9Z+="va";N9Z+="l";N9Z+="id equation: ";p9y={error:N9Z + r6y.equation};if(G9y.name && G9y.name == o9Z){p9y.suppressAlert=!"";}Z6y(p9y);}}});};}};a4r=c9y=>{var E9Z,J9y,o3Z,E3Z,m3Z;E9Z="un";E9Z+="d";E9Z+="ef";D200.M2q();E9Z+="ined";J9y=typeof _CIQ !== E9Z?_CIQ:c9y.CIQ;if(!J9y.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {J9y.ChartEngine.prototype.removeDOMMarker=function(A9y){var m9Z;m9Z="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use C";m9Z+="IQ.Marker.Performance#remove instead.";D200.y2q();console.warn(m9Z);J9y.Marker.Performance.prototype.removeDOMMarker.call(A9y.params.node,A9y);};J9y.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");J9y.Marker.Performance.drawMarkers(this);};J9y.ChartEngine.prototype.calculateMarkerStyles=function(u9y,S9y){var V4q=D200;var e2Z,T2Z,n2Z;console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");e2Z=-1924735601;V4q.J6C(0);T2Z=V4q.c6C("1369372062",0);n2Z=2;for(var q2Z=1;V4q.W7Z(q2Z.toString(),q2Z.toString().length,85222) !== e2Z;q2Z++){J9y.Marker.Performance.calculateMarkerStyles(this,u9y,S9y);n2Z+=2;}if(V4q.v7Z(n2Z.toString(),n2Z.toString().length,97519) !== T2Z){J9y.Marker.Performance.calculateMarkerStyles(this,u9y,S9y);}};J9y.ChartEngine.prototype.drawCircleMarker=function(g9y,Q9y,t9y){D200.y2q();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");J9y.Marker.Performance.drawCircleMarker(g9y,Q9y,t9y);};J9y.ChartEngine.prototype.drawSquareMarker=function(H9y,K9y,D9y){D200.y2q();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");J9y.Marker.Performance.drawSquareMarker(H9y,K9y,D9y);};J9y.ChartEngine.prototype.drawCalloutMarker=function(P9y,X9y,y9y){D200.M2q();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");J9y.Marker.Performance.drawCalloutMarker(P9y,X9y,y9y);};J9y.ChartEngine.prototype.drawMarkerStem=function(j9y,O9y,o9y){D200.y2q();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");J9y.Marker.Performance.drawMarkerStem(j9y,O9y,o9y);};J9y.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");D200.y2q();J9y.Marker.Performance.drawMarkers(this);};J9y.Marker.Performance=function(m9y){var S9Z,D9Z,i9Z,I9Z,Y9Z,M9Z,c9Z,Y9y,W9y,n9y,k9y,v9y,z9y,I9y,L9y;S9Z=".stx";S9Z+="-marker-e";S9Z+="xpand";D9Z=".";D9Z+="s";D9Z+="tx-marker";i9Z="</";i9Z+="di";i9Z+="v";i9Z+=">";I9Z="<";I9Z+="/div";I9Z+=">";Y9Z="<";Y9Z+="/";Y9Z+="div>";M9Z="<div class";M9Z+="=\"s";M9Z+="tx-visu";M9Z+="al\">";c9Z="<d";c9Z+="iv class=\"stx-marker highlight\">";this.params={displayCategory:! !{},displayStem:!"",invert:![],story:"",headline:""};J9y.extend(this.params,m9y);Y9y=this.template=document.createElement("TEMPLATE");D200.J6C(63);Y9y.innerHTML=D200.y6C(M9Z,i9Z,I9Z,'<div class="stx-stem"></div>',Y9Z,c9Z,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-marker-content">');W9y=this.template.content.cloneNode(! !1);n9y=W9y.querySelector(D9Z,Y9y);n9y.classList.add(m9y.type);n9y.classList.add(m9y.category);k9y=W9y.querySelector(".stx-visual",Y9y);v9y=W9y.querySelector(S9Z);z9y=W9y.querySelector("h4",Y9y);I9y=W9y.querySelector("p",Y9y);z9y.innerText=this.params.headline;I9y.innerText=this.params.story;this.hasText=! !m9y.headline || ! !m9y.story;this.deferAttach=! !{};this.node=W9y.firstChild;this.node.params=this.params;this.visual=k9y;this.expand=v9y;if(m9y.type === "callout"){L9y=v9y.removeChild(z9y);W9y.querySelector(".stx-marker-content",Y9y).insertBefore(L9y,v9y);}};o3Z=-1269743344;E3Z=-450161095;m3Z=2;for(var M3Z=1;D200.W7Z(M3Z.toString(),M3Z.toString().length,+"6604") !== o3Z;M3Z++){J9y.inheritsFrom(J9y.Marker.Performance,J9y.Marker.NodeCreator,!1);m3Z+=2;}if(D200.W7Z(m3Z.toString(),m3Z.toString().length,+"72921") !== E3Z){J9y.inheritsFrom(J9y.Marker.Performance,J9y.Marker.NodeCreator,!0);}J9y.Marker.Performance.consolidateExpanded=function(F9y){var b9y,h9y,C9y,Z9Z,f9y,a9y;function B9y(T9y){var l9y,N9y,i9y;l9y=T9y.params.node;N9y=l9y.expand;if(!N9y){return "";}i9y=N9y.style.display !== "none"?N9y.innerHTML:"";return i9y;}b9y=F9y.markerHelper.highlighted;if(!b9y.length){return;}h9y=b9y[b9y.length - 1];C9y=h9y.params.node;if(!h9y.consolidated){h9y.consolidated=[];}for(var w9y=b9y.length - ("2" | 0);w9y >= +"0";w9y--){Z9Z="<c";Z9Z+="onsolida";Z9Z+="ted";Z9Z+=">";f9y=B9y(b9y[w9y]);D200.O6C(51);a9y=D200.y6C("</consolidated>",f9y,Z9Z);if(f9y.length){C9y.expand.innerHTML+=a9y;}}h9y.stxNodeCreator.quickCache(h9y);};J9y.Marker.Performance.reconstituteExpanded=function(M9y){var r9y,C1U,Z9y,R0n,q9y;r9y=M9y.markerHelper.highlighted;if(!r9y.length || !M9y.activeMarker){return;}r9y=[M9y.activeMarker];for(var E9y=r9y.length - 1;E9y >= 0;E9y--){C1U="CONS";C1U+="OLI";C1U+="D";C1U+="ATED";Z9y=r9y[E9y];R0n=Z9y.params.node;q9y=R0n.expand;while(q9y.lastElementChild.nodeName === C1U){q9y.removeChild(q9y.lastElementChild);}}};J9y.Marker.Performance.drawMarkers=function(e0n){var J1U,p0n,x0n,s0n,V0n,d0n,G0n;D200.M2q();J1U="a";J1U+="l";J1U+="l";p0n=e0n.getMarkerArray(J1U);x0n=e0n.chart;for(var U0n=0;U0n < p0n.length;U0n++){s0n=p0n[U0n];V0n=s0n.stxNodeCreator;d0n=x0n.dataSegment[0].tick;G0n=x0n.dataSegment[x0n.dataSegment.length - 1].tick;if(d0n <= s0n.tick <= G0n){if(V0n && V0n.drawMarker){V0n.drawMarker(s0n);}}}};J9y.Marker.Performance.calculateMarkerStyles=function(c0n,A0n,g0n){var J0n,B1U,c4Z,M4Z,Y4Z,u0n,h1U,S0n;D200.M2q();J0n=document.querySelector(".stx-marker-templates");if(!J0n){B1U="D";B1U+="I";B1U+="V";J0n=document.createElement(B1U);c4Z=-2023101922;M4Z=1624383119;Y4Z=2;for(var i4Z=1;D200.v7Z(i4Z.toString(),i4Z.toString().length,33066) !== c4Z;i4Z++){J0n.style.visibility="hidden";J0n.style.left="-1000px";document.body.append(J0n);Y4Z+=2;}if(D200.W7Z(Y4Z.toString(),Y4Z.toString().length,77744) !== M4Z){J0n.style.visibility="hidden";J0n.style.left="hidden";document.body.append(J0n);}}J0n.appendChild(A0n.node);u0n=getComputedStyle(A0n.stxNodeCreator.visual);if(!c0n.styles.stx_marker_stem){h1U=".stx-st";h1U+="e";h1U+="m";S0n=getComputedStyle(document.querySelector(h1U,A0n.node));c0n.styles.stx_marker_stem=c0n.cloneStyle(S0n);}c0n.styles[g0n]=c0n.cloneStyle(u0n);J0n.removeChild(A0n.node);};J9y.Marker.Performance.drawCircleMarker=function(D0n,o0n,t0n){var H1U,j0n,O0n,Q0n,H0n,K0n,P0n,X0n,y0n;H1U="normal bold 12";H1U+="px Roboto, Helv";H1U+="etica, sans-serif";j0n=D0n.params.stx;O0n=j0n.chart;Q0n=O0n.context;H0n=t0n.x;K0n=t0n.y;P0n=t0n.radius;X0n=t0n.label;y0n=t0n.color?t0n.color:o0n.backgroundColor;Q0n.beginPath();Q0n.setLineDash([]);D200.M2q();Q0n.lineWidth=1;Q0n.fillStyle=y0n;Q0n.strokeStyle=y0n;Q0n.font=H1U;Q0n.arc(H0n,K0n,P0n,0,2 * Math.PI,!{});Q0n.fill();Q0n.stroke();Q0n.closePath();if(X0n){Q0n.fillStyle=J9y.colorsEqual("white",Q0n.fillStyle)?"black":"white";Q0n.fillText(X0n.charAt(+"0").toUpperCase(),H0n - 4,K0n + 1);}if(D0n.highlight || D0n.active){Q0n.beginPath();D200.O6C(57);Q0n.arc(H0n,K0n,D200.c6C("4",P0n),0,2 * Math.PI,!1);Q0n.stroke();Q0n.closePath();}};J9y.Marker.Performance.drawSquareMarker=function(k0n,w0n,Y0n){var k4q=D200;var A1U,b0n,h0n,W0n,n0n,z0n,m0n,I0n,L0n,v0n,r1U;A1U="norm";A1U+="a";A1U+="l bold 1";A1U+="2px Roboto, Helvetica, sans-serif";b0n=k0n.params.stx;h0n=b0n.chart;W0n=h0n.context;n0n=Y0n.x;z0n=Y0n.y;m0n=Y0n.half;I0n=Y0n.label;L0n=Y0n.color?Y0n.color:w0n.backgroundColor;k4q.O6C(12);v0n=k4q.c6C(2,m0n);W0n.beginPath();W0n.setLineDash([]);W0n.lineWidth=1;W0n.fillStyle=L0n;W0n.strokeStyle=L0n;W0n.font=A1U;k4q.O6C(0);W0n.rect(k4q.y6C(n0n,m0n),k4q.c6C(z0n,m0n),v0n,v0n);W0n.fill();if(k0n.highlight || k0n.active){k4q.O6C(64);W0n.rect(k4q.y6C(4,m0n,n0n),k4q.y6C(4,m0n,z0n,k4q.J6C(64)),k4q.y6C(v0n,8,k4q.O6C(1)),k4q.c6C("8",v0n,k4q.J6C(57)));}W0n.stroke();W0n.closePath();if(I0n){r1U="wh";r1U+="it";r1U+="e";W0n.fillStyle=J9y.colorsEqual(r1U,W0n.fillStyle)?"black":"white";W0n.fillText(I0n.charAt(0).toUpperCase(),n0n - 4,z0n + ("1" >> 657153152));}};J9y.Marker.Performance.drawCalloutMarker=function(F0n,x1n,C0n){var f1U,K1U,M0n,Z0n,f0n,a0n,U1n,N0n,l0n,i0n,T0n,r0n,R1n,B0n,E0n,q0n;f1U="rgba(255,";f1U+="255,255,";f1U+="0.8)";K1U="normal bold 12px Roboto, Helvetica, sans-se";K1U+="rif";M0n=F0n.params.stx;Z0n=M0n.chart;f0n=Z0n.context;a0n=F0n.params;U1n=C0n.x;N0n=C0n.y;l0n=C0n.half;i0n=C0n.midWidth;T0n=C0n.headline;r0n=C0n.color?C0n.color:x1n.backgroundColor;R1n=l0n * 2 || "25" ^ 0;B0n=Math.round(f0n.measureText(T0n).width);E0n=i0n?i0n * 2:B0n + 8;f0n.beginPath();f0n.setLineDash([]);f0n.lineWidth=1;f0n.fillStyle=r0n;f0n.strokeStyle=r0n;f0n.font=K1U;f0n.rect(a0n.box.x0,a0n.box.y0,E0n,R1n);f0n.fill();f0n.stroke();f0n.closePath();f0n.beginPath();f0n.fillStyle=F0n.highlight || F0n.active?f1U:"rgba(255,255,255,0.65)";D200.O6C(65);q0n=D200.y6C(20,2,B0n,E0n);f0n.rect(a0n.box.x0 + q0n,N0n - l0n,B0n + 40,+"22");f0n.fill();f0n.stroke();f0n.closePath();f0n.fillStyle="black";f0n.fillText(T0n,a0n.box.x0 + q0n + 10,N0n);};J9y.Marker.Performance.drawMarkerStem=function(V1n,G1n,p1n){var J1n,c1n,s1n,e1n,S1n,d1n,A1n,u1n,g3Z,p3Z,w3Z;J1n=V1n.params.stx;c1n=J1n.chart;s1n=c1n.context;e1n=p1n.x;S1n=p1n.y;s1n.beginPath();s1n.strokeStyle=G1n.borderLeftColor;s1n.setLineDash([+"1",1]);d1n=J9y.stripPX(G1n.height);A1n=p1n.invert?V1n.params.box.y0:V1n.params.box.y1;u1n=p1n.invert?V1n.params.box.y0 - d1n:V1n.params.box.y1 + d1n;g3Z=1117661517;p3Z=1404547968;w3Z=+"2";for(var j3Z=1;D200.v7Z(j3Z.toString(),j3Z.toString().length,41167) !== g3Z;j3Z++){s1n.moveTo(e1n,A1n);w3Z+=2;}if(D200.v7Z(w3Z.toString(),w3Z.toString().length,39039) !== p3Z){s1n.moveTo(e1n,A1n);}s1n.moveTo(e1n,A1n);s1n.lineTo(e1n,u1n);s1n.stroke();s1n.closePath();};J9y.Marker.Performance.prototype.drawMarker=function(g1n){var S4q=D200;var Q1U,x1U,o1n,t1n,k1n,I1n,v1n,H1n,X1n,y1n,L1n,n1n,W1n,z1n,Y1n,K1n,m1n,Q1n,j1n,O1n,b1n,h1n,D1n,P1n,F1U,U1U;Q1U="c";Q1U+="ir";Q1U+="c";Q1U+="le";x1U="stx";x1U+="_mar";x1U+="ke";x1U+="r_";o1n=g1n.params;t1n=g1n.params.stx;if(!t1n){return;}k1n=t1n.chart;I1n=k1n.dataSegment;if(!I1n.length){return;}v1n=t1n.panels[g1n.params.panelName];H1n=g1n.stxNodeCreator.params;X1n=H1n.type;y1n=H1n.category;L1n=H1n.headline;n1n=H1n.displayCategory;W1n=H1n.color;z1n=H1n.invert;S4q.J6C(66);Y1n=S4q.y6C(X1n,x1U,"_",y1n);if(!t1n.styles[Y1n]){J9y.Marker.Performance.calculateMarkerStyles(t1n,g1n,Y1n);}K1n=g1n.style=t1n.styles[Y1n];m1n=t1n.styles.stx_marker_stem;Q1n=parseInt(K1n.height,10) / 2;j1n=parseInt(K1n.width,10) / 2;O1n=H1n.displayStem?parseInt(m1n.height,10) + parseInt(m1n.marginBottom,10):0;S4q.y2q();b1n=O1n + parseInt(K1n.height,10);h1n=O1n?O1n + Q1n:0;D1n=t1n.pixelFromDate(o1n.x);P1n=o1n.node.calculateYPosition({marker:g1n,panel:v1n,height:b1n,half:Q1n,offset:h1n,inverted:z1n});if(!g1n.tick && g1n.tick !== "0" * 1){return;}o1n.box={x0:D1n - (j1n || Q1n),y0:P1n - Q1n,x1:D1n + (j1n || Q1n),y1:P1n + Q1n,midY:Q1n,midX:j1n || Q1n,stemHeight:O1n};if(!n1n){y1n=n1n;}t1n.startClip(v1n.name);if(X1n === Q1U){J9y.Marker.Performance.drawCircleMarker(g1n,K1n,{x:D1n,y:P1n,radius:Q1n,label:y1n,color:W1n});}else if(X1n === "square"){J9y.Marker.Performance.drawSquareMarker(g1n,K1n,{x:D1n,y:P1n,half:Q1n,label:y1n,color:W1n});}else if(X1n === "callout"){J9y.Marker.Performance.drawCalloutMarker(g1n,K1n,{x:D1n,y:P1n,half:Q1n,midWidth:j1n,headline:L1n,color:W1n});}else {F1U=" is unsupported wit";F1U+="h canvas mar";F1U+="kers!\nSupported Styles are Square, Circle, and Callout.";U1U="Ma";U1U+="rker ";U1U+="type";U1U+=": ";S4q.O6C(51);console.warn(S4q.y6C(F1U,X1n,U1U));}if(H1n.displayStem){J9y.Marker.Performance.drawMarkerStem(g1n,m1n,{x:D1n,y:P1n,invert:z1n});}t1n.endClip();if(g1n.attached){this.positionPopUpNode(g1n);}};J9y.Marker.Performance.prototype.positionPopUpNode=function(f1n){var l1n,a1n,w1n,i1n,B1n,C1n,T1n,Z1n,R2n,x2n,U2n,r1n,F1n,M1n,E1n,N1n,q1n,s2n;if(!f1n.attached || !f1n.params.box){return;}l1n=f1n.params;a1n=l1n.stx;w1n=l1n.box;i1n=f1n.params.node.expand;B1n=a1n.chart.dataSet;C1n=a1n.chart.dataSegment;if(f1n.tick){Z1n=[B1n[C1n[0] && C1n[0].tick - 1],B1n[C1n[0] && C1n[0].tick - 2]];R2n=a1n.getFirstLastDataRecord(Z1n.concat(C1n),"Date");x2n=[B1n[C1n[C1n.length - "1" * 1].tick + +"1"],B1n[C1n[C1n.length - ("1" ^ 0)].tick + 2]];U2n=a1n.getFirstLastDataRecord(C1n.concat(x2n),"Date",! !{});T1n=R2n.DT <= B1n[f1n.tick].DT && B1n[f1n.tick].DT <= U2n.DT;}else {T1n=!1;}if(!f1n.highlight && !f1n.active){T1n=!{};}i1n.style.visibility=T1n?"":"hidden";if(!T1n){return;}r1n=a1n.panels[l1n.panelName];F1n=i1n.rects;M1n=F1n.height / 2;N1n=f1n.node.params.infoOffset || 0;if(f1n.node.params.infoOnLeft){E1n=w1n.x0 - F1n.width - N1n < r1n.left?w1n.x1 + N1n:w1n.x0 - F1n.width - N1n;}else {E1n=w1n.x0 + F1n.width > r1n.right?w1n.x0 - F1n.width - N1n:w1n.x1 + N1n;}E1n-=a1n.chart.left;q1n=w1n.y0 - M1n >= r1n.top?w1n.y0 + w1n.midY - M1n:w1n.y0;if(!l1n.avoidFlush && w1n.y1 + w1n.stemHeight === r1n.yAxis.bottom && F1n.height > w1n.y1 - w1n.y0 + w1n.stemHeight){q1n=w1n.y1 - F1n.height + w1n.stemHeight;}q1n-=a1n.chart.panel.top;s2n="translateX(" + Math.floor(E1n) + "px) translateY(" + Math.floor(q1n) + "px) translateZ(0)";i1n.style.transform=s2n;i1n.transform={translateX:E1n,translateY:q1n};};J9y.Marker.Performance.prototype.quickCache=function(e2n){D200.y2q();var d2n,V2n,p2n,G2n;d2n=e2n.params.node;V2n=d2n.expand;p2n=e2n.style;G2n=J9y.stripPX(p2n.marginLeft) + J9y.stripPX(p2n.marginRight) + J9y.stripPX(p2n.borderRight) + J9y.stripPX(p2n.borderLeft);V2n.rects=V2n.getBoundingClientRect();V2n.scrollBarWidth=V2n.rects.width - V2n.clientWidth - G2n;};J9y.Marker.Performance.prototype.calculateYPosition=function(Q2n){var v1U,W1U,V1U,k1U,g2n,c2n,K2n,t2n,S2n,D2n,A2n,P2n,X2n,u2n,H2n,y2n,J2n,j2n,O2n;v1U="bot";v1U+="to";v1U+="m";W1U="t";W1U+="o";W1U+="p";D200.y2q();V1U="on_c";V1U+="andl";V1U+="e";k1U="valu";k1U+="e";g2n=Q2n.marker;c2n=Q2n.panel;K2n=Q2n.height;t2n=Q2n.half;S2n=Q2n.offset;D2n=Q2n.inverted;A2n=g2n.params.stx;P2n=A2n.chart;X2n=A2n.chart.highLowBars;u2n=P2n.dataSet[g2n.tick];if(!u2n){return;}H2n=X2n?u2n.High:u2n.Close;y2n=g2n.params.yPositioner;switch(y2n){case k1U:if(g2n.params.y || g2n.params.y === 0){J2n=A2n.pixelFromPrice(g2n.params.y,c2n) - K2n * 0.5 + t2n;}else {J2n=A2n.pixelFromPrice(H2n,c2n) - S2n;}break;case "above_candle":J2n=A2n.pixelFromPrice(H2n,c2n) - S2n;break;case "below_candle":J2n=A2n.pixelFromPrice(u2n.Low || H2n,c2n);if(D2n && S2n){J2n+=S2n;}else {J2n+=t2n;}break;case V1U:(j2n=u2n.High || u2n.Close,O2n=u2n.Low || u2n.Low === 0 || u2n.Close);J2n=A2n.pixelFromPrice((j2n + O2n) / 2,c2n) - K2n * 0.5 + t2n;break;case W1U:J2n=A2n.pixelFromPrice(c2n.yAxis.high,c2n);if(D2n && S2n){J2n+=S2n;}else {J2n+=t2n;}break;case v1U:J2n=A2n.pixelFromPrice(c2n.yAxis.low,c2n) - (S2n || t2n);break;default:break;}return J2n;};J9y.Marker.Performance.prototype.prepareForHolder=function(W2n){var o2n,Y2n;o2n=this.expand;Y2n=W2n.params.stx;o2n.classList.add(this.params.type);D200.M2q();Y2n.markerHelper.domMarkers.push(W2n);return o2n;};J9y.Marker.Performance.prototype.addToHolder=function(n2n){D200.y2q();var L1U,v2n,m2n;L1U="t";L1U+="ou";L1U+="chstart";v2n=this.expand;m2n=n2n.params.stx;J9y.Marker.Performance.reconstituteExpanded(m2n);J9y.Marker.Performance.consolidateExpanded(m2n);this.quickCache(n2n);function z2n(k2n){m2n.activeMarker=n2n;m2n.activeMarker.click({cx:k2n.clientX,cy:k2n.clientY,panel:m2n.currentPanel});k2n.stopPropagation();}if(v2n.clickClosure){return;}v2n.addEventListener("mousedown",z2n);v2n.addEventListener(L1U,z2n);v2n.clickClosure=z2n;};J9y.Marker.Performance.prototype.remove=function(L2n){var I2n,h2n,w2n,b2n;I2n=L2n.params.stx;if(!I2n){return;}if(!I2n.markerHelper.domMarkers){return;}h2n=I2n.markerHelper.domMarkers.indexOf(L2n);D200.y2q();if(h2n != -1){I2n.markerHelper.domMarkers.splice(h2n,1);}if(L2n.attached){w2n=I2n.panels[L2n.params.panelName];b2n=L2n.params.node.expand;if(b2n.parentNode === w2n.subholder){w2n.subholder.removeChild(b2n);}b2n.removeEventListener("click",b2n.clickClosure);}};J9y.Marker.Performance.prototype.click=function(B2n){var X4q=D200;var a2n,N2n,C2n,v5Z,L5Z,d5Z;if(!this.hasText){return;}if(typeof arguments[0] === "number"){B2n={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:F2n, cy:l2n, marker:f2n, panel:i2n}=B2n;a2n=f2n.params.stx;if(f2n.attached){C2n=this.expand;if(C2n.rects.width - C2n.scrollBarWidth + C2n.transform.translateX < a2n.backOutX(F2n) && a2n.backOutX(F2n) < C2n.rects.width + C2n.transform.translateX){return;}this.remove(f2n);}else {a2n.addToHolder(f2n);v5Z=584257492;L5Z=1008494871;d5Z=2;for(var t5Z=1;X4q.W7Z(t5Z.toString(),t5Z.toString().length,827) !== v5Z;t5Z++){N2n=! !"";X4q.O6C(9);d5Z+=X4q.y6C(884313920,"2");}if(X4q.v7Z(d5Z.toString(),d5Z.toString().length,89571) !== L5Z){N2n=!0;}N2n=! !{};}X4q.y2q();f2n.attached=!f2n.attached;f2n.active=!f2n.active;if(N2n){f2n.stxNodeCreator.positionPopUpNode(f2n);}};}};F4r=r2n=>{var T2n;T2n=typeof _CIQ !== "undefined"?_CIQ:r2n.CIQ;T2n.Renderer.OHLC.requestNew=function(p3n,E2n){var g5q=D200;var q2n,Z2n,R3n,x3n,U3n,s3n,a1U,t1U,z1U,X1U,d1U,V3n,Z3Z,C4Z,J4Z;q2n=null;Z2n=E2n.hlc;R3n=E2n.colored;x3n=E2n.hollow;U3n=E2n.volume;s3n=E2n.histogram;for(var M2n="0" - 0;M2n < p3n.length;M2n++){a1U="h";a1U+="l";a1U+="c";t1U="col";t1U+="or";t1U+="e";t1U+="d";z1U="hol";z1U+="lo";z1U+="w";X1U="c";X1U+="andle";d1U="ba";d1U+="r";V3n=p3n[M2n];switch(V3n){case d1U:case X1U:q2n=V3n;break;case "volume":U3n=! ![];break;case z1U:x3n=! !{};break;case t1U:R3n=! !{};break;case "histogram":s3n=! !"1";q2n="candle";break;case a1U:Z2n=! !{};q2n="bar";break;default:return null;}}g5q.O6C(12);Z3Z=-g5q.y6C(1,"1773932423");C4Z=-1975194888;J4Z=2;for(var h4Z=1;g5q.v7Z(h4Z.toString(),h4Z.toString().length,6255) !== Z3Z;h4Z++){if(q2n === null){return null;}g5q.O6C(13);J4Z+=g5q.y6C(2147483647,"2");}if(g5q.W7Z(J4Z.toString(),J4Z.toString().length,80204) !== C4Z){if(q2n != 1){return +"1";}}return new T2n.Renderer.OHLC({params:T2n.extend(E2n,{type:q2n,hlc:Z2n,colored:R3n,hollow:x3n,volume:U3n,histogram:s3n})});};T2n.Renderer.OHLC.getChartParts=function(S3n,u3n){var A7U,H7U,h7U,B7U,J7U,C7U,Z1U,S1U,D1U,i1U,I1U,Y1U,M1U,c1U,m1U,E1U,o1U,N1U,u1U,l1U,O1U,s1U,j1U,y1U,w1U,p1U,g1U,G1U,q1U,P1U,n1U,T1U,e1U,R1U,b1U,G3n,J3n,c3n,e3n,d3n,A3n;A7U="border_color_e";A7U+="v";A7U+="en";H7U="fill_col";H7U+="or_even";h7U="ca";h7U+="nd";h7U+="l";h7U+="e";B7U="stx_hollow_can";B7U+="dle_down";J7U="stx_hol";J7U+="low_candle_up";C7U="fill_col";C7U+="or";C7U+="_eve";C7U+="n";Z1U="border_co";Z1U+="lor";Z1U+="_dow";Z1U+="n";S1U="st";S1U+="x_h";S1U+="ollow_candle_down";D1U="bord";D1U+="er_c";D1U+="olo";D1U+="r_up";i1U="fill";i1U+="_co";i1U+="lor_";i1U+="up";I1U="s";I1U+="tx_hollow_cand";I1U+="le";I1U+="_up";Y1U="can";Y1U+="dle";M1U="s";M1U+="had";M1U+="ow";c1U="bo";c1U+="rder_color_up";m1U="stx";m1U+="_ho";m1U+="llow_candle_u";m1U+="p";E1U="stx_";E1U+="cand";E1U+="le_do";E1U+="wn";o1U="ca";o1U+="n";o1U+="dl";o1U+="e";N1U="border";N1U+="_";N1U+="col";N1U+="or_up";u1U="shad";u1U+="ow";l1U="c";l1U+="and";l1U+="l";l1U+="e";O1U="shad";O1U+="o";O1U+="w";s1U="b";s1U+="o";s1U+="rder_co";s1U+="lor_up";j1U="stx_candle_s";j1U+="ha";j1U+="dow";y1U="border";y1U+="_";y1U+="color_";y1U+="even";w1U="b";w1U+="ar";p1U="borde";p1U+="r_color_d";p1U+="own";g1U="st";g1U+="x_bar_";g1U+="down";G1U="borde";G1U+="r_color_u";G1U+="p";q1U="ba";q1U+="r";P1U="bor";P1U+="de";P1U+="r_col";P1U+="or";n1U="stx_b";n1U+="ar";n1U+="_chart";T1U="b";T1U+="a";T1U+="r";e1U="fil";e1U+="l_";e1U+="color_";e1U+="even";R1U="hi";R1U+="stogram";b1U="stx_his";b1U+="togram_up";G3n=1;J3n=2;c3n=+"4";D200.J6C(13);e3n=D200.c6C(2147483647,"8");d3n=16;A3n=32;return [{type:"histogram",drawType:"histogram",style:b1U,condition:e3n,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:! ![]},{type:"histogram",drawType:R1U,style:"stx_histogram_down",condition:d3n,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:! !"1"},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:A3n,fill:e1U,border:"border_color_even",skipIfPass:!0,useColorInMap:! !"1",useBorderStyleProp:! !{}},{type:T1U,drawType:"bar",style:S3n || n1U,border:P1U,useColorInMap:! ![]},{type:q1U,drawType:"bar",style:"stx_bar_up",condition:u3n?e3n:G3n,border:G1U,useColorInMap:! !{}},{type:"bar",drawType:"bar",style:g1U,condition:u3n?d3n:J3n,border:p1U,useColorInMap:! !"1"},{type:"bar",drawType:w1U,style:"stx_bar_even",condition:u3n?A3n:c3n,border:y1U,skipIfPass:! !"1",useColorInMap:! ![]},{type:"candle",drawType:"shadow",style:j1U,border:s1U},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:e3n,border:"border_color_up"},{type:"candle",drawType:O1U,style:"stx_candle_shadow_down",condition:d3n,border:"border_color_down"},{type:l1U,drawType:u1U,style:"stx_candle_shadow_even",condition:A3n,border:"border_color_even",skipIfPass:! !{}},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:e3n,fill:"fill_color_up",border:N1U,useColorInMap:! !1,useBorderStyleProp:! ![]},{type:"candle",drawType:o1U,style:E1U,condition:d3n,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:!0},{type:"hollow",drawType:"shadow",style:m1U,condition:G3n,border:c1U},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:J3n,border:"border_color_down"},{type:"hollow",drawType:M1U,style:"stx_hollow_candle_even",condition:c3n,border:"border_color_even",skipIfPass:! !"1"},{type:"hollow",drawType:Y1U,style:I1U,condition:G3n | d3n,fill:i1U,border:D1U,useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:S1U,condition:J3n | d3n,fill:"fill_color_down",border:Z1U,useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:c3n | d3n,fill:C7U,border:"border_color_even",skipIfPass:!"",useColorInMap:!0},{type:"hollow",drawType:"candle",style:J7U,condition:G3n | e3n,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:B7U,condition:J3n | e3n,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:h7U,style:"stx_hollow_candle_even",condition:c3n | e3n,fill:H7U,border:A7U}];};T2n.Renderer.Bars=function(Q3n){var r7U,g3n;r7U="b";r7U+="a";r7U+="r";this.construct(Q3n);D200.M2q();g3n=this.params;g3n.type=r7U;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];g3n.hlc=g3n.volume=g3n.hollow=g3n.histogram=! !"";};T2n.inheritsFrom(T2n.Renderer.Bars,T2n.Renderer.OHLC,! !"");T2n.Renderer.HLC=function(H3n){var K7U,t3n;K7U="b";K7U+="a";K7U+="r";this.construct(H3n);t3n=this.params;t3n.type=K7U;t3n.hlc=! ![];this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;t3n.volume=t3n.hollow=t3n.histogram=!"1";};T2n.inheritsFrom(T2n.Renderer.HLC,T2n.Renderer.Bars,![]);T2n.Renderer.Shading=function(K3n){this.construct(K3n);this.beenSetup=!"1";this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !"1";}};T2n.inheritsFrom(T2n.Renderer.Shading,T2n.Renderer.Lines,![]);D200.M2q();T2n.Renderer.Shading.requestNew=function(X3n,j3n){D200.y2q();var D3n,f7U,y3n;D3n=null;for(var P3n=0;P3n < X3n.length;P3n++){f7U="r";f7U+="angechanne";f7U+="l";y3n=X3n[P3n];if(y3n == "rangechannel"){D3n=f7U;}}if(D3n === null){return null;}return new T2n.Renderer.Shading({params:T2n.extend(j3n,{type:D3n})});};T2n.Renderer.Shading.prototype.setShading=function(O3n){D200.y2q();if(O3n.constructor != Array){O3n=[O3n];}this.shading=O3n;};T2n.Renderer.Shading.prototype.draw=function(){var x7U,Y3n,m3n,U7U,Q7U,f3n,n3n,C3n,I3n,F7U,a3n,v3n,W3n,L3n,b3n,F3n,k7U,o3n,k3n,h3n,w3n,z3n;x7U="rangech";x7U+="an";x7U+="nel";Y3n=this.stx;m3n=Y3n.panels[this.params.panel].chart;function B3n(i3n){var N3n,T3n,l3n;N3n=v3n[i3n];if(N3n){T3n=N3n.parameters.field;l3n=N3n.parameters.subField;D200.O6C(1);return D200.y6C(T3n,l3n?((276,1829) <= 989?("0xf1e" ^ 0,780):8846 > 842?".":"0xc3f" >> 1037873824) + l3n:"");}return i3n;}if(this.params.type == x7U){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {U7U="L";U7U+="o";U7U+="w";Q7U="H";Q7U+="i";Q7U+="gh";this.beenSetup=!"";this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;f3n=this.seriesParams[0].color || "auto";n3n=this.seriesParams[0].symbol;C3n="";if(n3n){D200.O6C(1);C3n=D200.c6C(n3n,(562.89,6330) <= ("1540" >> 279857600,2080)?(0x92f,560.48):".");}this.removeAllSeries(! !{});I3n=this.params.name;Y3n.addSeries(null,{symbol:n3n,loadData:! !n3n,field:Q7U,renderer:"Shading",name:I3n,style:"stx_line_up",display:this.params.display});Y3n.addSeries(null,{symbol:n3n,loadData:! !n3n,field:U7U,renderer:"Shading",name:I3n,style:"stx_line_down",display:this.params.display});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:f3n});}}if(!this.shading){if(!this.errTimeout){F7U="W";F7U+="arnin";F7U+="g: no shading scheme set.  Use m";F7U+="yRenderer.setShading(scheme) to set.";console.log(F7U);a3n=this;this.errTimeout=setTimeout(function(){D200.M2q();a3n.errTimeout=null;},10000);}}v3n={};for(W3n=0;W3n < this.seriesParams.length;W3n++){L3n={};if(m3n.series[this.seriesParams[W3n].id]){L3n=T2n.clone(m3n.series[this.seriesParams[W3n].id].parameters);}v3n[this.seriesParams[W3n].id]={parameters:T2n.extend(T2n.extend(L3n,this.params),this.seriesParams[W3n]),yValueCache:this.caches[this.seriesParams[W3n].id]};}Y3n.drawSeries(m3n,v3n,this.params.yAxis,this);if(m3n.legend && this.params.type == "rangechannel"){if(!m3n.legend.colorMap){m3n.legend.colorMap={};}b3n=this.params.display;F3n=[Y3n.getCanvasColor("stx_line_up"),Y3n.getCanvasColor("stx_line_down")];m3n.legend.colorMap[b3n]={color:F3n,display:b3n,isBase:this == Y3n.mainSeriesRenderer};;}for(W3n in v3n){this.caches[W3n]=v3n[W3n].yValueCache;}for(W3n="0" - 0;W3n < this.shading.length;W3n++){k7U="C";k7U+="l";k7U+="o";k7U+="se";o3n=this.shading[W3n];k3n=o3n.color;if(o3n.color == "auto"){k3n=Y3n.defaultColor;}if(!o3n.primary){o3n.primary="Close";}if(!o3n.secondary && this.seriesParams[0]){o3n.secondary=this.seriesParams[0].field;}if(!o3n.secondary)continue;else if(!v3n[o3n.primary] && o3n.primary != k7U)continue;else if(!v3n[o3n.secondary])continue;else if(o3n.primary == "Close" && this.params.yAxis && this.params.yAxis != m3n.yAxis)continue;h3n=B3n(o3n.primary).split(".");w3n=B3n(o3n.secondary).split(9540 > (4315,"9313" | 9313)?".":7750 != 5992?(481.01,"7130" * 1) >= 9744?("k","Q"):3.42e+3:34);z3n={topBand:h3n[0],topSubBand:h3n[1],topColor:o3n.greater || k3n || Y3n.containerColor,topAxis:this.params.yAxis,bottomBand:w3n[0],bottomSubBand:w3n["1" << 1617732224],bottomColor:o3n.lesser || k3n || Y3n.containerColor,bottomAxis:o3n.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || m3n.tension,opacity:"0.1" * 1};if(!z3n.topColor && !z3n.bottomColor)continue;if(!this.params.highlight && Y3n.highlightedDraggable){z3n.opacity*=0.3;}T2n.fillIntersecting(Y3n,this.params.panel,z3n);}};T2n.Renderer.Histogram=function(r3n){this.construct(r3n);D200.M2q();this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! ![];if(this.params.yAxis){this.params.bindToYAxis=! !"1";if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};T2n.inheritsFrom(T2n.Renderer.Histogram,T2n.Renderer,![]);T2n.Renderer.Histogram.prototype.adjustYAxis=function(){var E3n;E3n=this.params.yAxis;if(!E3n || E3n.baseline){return;}D200.M2q();E3n.min=0;E3n.highValue/=this.params.heightPercentage || 1;};T2n.Renderer.Histogram.prototype.draw=function(){var q3n,M3n,Z3n,R4n;q3n=T2n.clone(this.params);q3n.type=q3n.subtype;this.useSum=q3n.subtype == "stacked";if(!q3n.yAxis || q3n.yAxis == this.stx.chart.yAxis){q3n.bindToYAxis=! !"1";}this.stx.drawHistogram(q3n,this.seriesParams);M3n=q3n.yAxis && q3n.yAxis.baseline;if(M3n && M3n.color){Z3n=this.stx.panels[this.params.panel];R4n=this.stx.pixelFromPrice(M3n.value,Z3n,this.params.yAxis) - 0.5;this.stx.plotLine({x0:Z3n.left,x1:Z3n.right,y0:R4n,y1:R4n,color:M3n.color,type:"line",context:Z3n.chart.context,confineToPanel:Z3n,pattern:M3n.pattern || "solid",lineWidth:M3n.lineWidth || 1,opacity:M3n.opacity || 0.8,globalCompositeOperation:"destination-over"});}};T2n.Renderer.Histogram.prototype.getBasis=function(e4n,d4n,G4n){var V4n,V7U,p4n,x4n;V4n=0;D200.M2q();if(e4n && this.useSum){for(var U4n=+"0";U4n < this.seriesParams.length;U4n++){V7U="obj";V7U+="ect";p4n=this.seriesParams[U4n].field;if(p4n === d4n)break;x4n=e4n[p4n];if(x4n && typeof x4n === V7U){x4n=x4n[G4n || this.seriesParams[U4n].subField || this.stx.chart.defaultPlotField || "Close"];}if(x4n){V4n+=x4n;}}}return V4n;};T2n.Renderer.Heatmap=function(J4n){D200.M2q();var W7U;W7U="heat";W7U+="map";this.construct(J4n);this.params.type=W7U;this.params.highlightable=! !0;this.barsHaveWidth=this.standaloneBars=!0;};T2n.inheritsFrom(T2n.Renderer.Heatmap,T2n.Renderer,!{});T2n.Renderer.Heatmap.requestNew=function(S4n,t4n){var c4n,v7U,Q4n;c4n=null;for(var A4n=0;A4n < S4n.length;A4n++){v7U="he";v7U+="a";v7U+="tmap";Q4n=S4n[A4n];if(Q4n == v7U){c4n="heatmap";}}if(c4n === null){return null;}return new T2n.Renderer.Heatmap({params:T2n.extend(t4n,{type:c4n})});};T2n.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(T2n.clone(this.params),this.seriesParams);};T2n.Renderer.Scatter=function(H4n){D200.y2q();this.construct(H4n);this.standaloneBars=this.barsHaveWidth=! !1;this.bounded=! !1;};T2n.inheritsFrom(T2n.Renderer.Scatter,T2n.Renderer.Lines,!{});T2n.Renderer.Scatter.requestNew=function(v4n,L4n){var K4n,z4n;K4n=null;for(var X4n=0;X4n < v4n.length;X4n++){z4n=v4n[X4n];if(z4n == "scatterplot"){K4n="scatter";}}if(K4n === null){return null;}D200.M2q();return new T2n.Renderer.Scatter({params:T2n.extend(L4n,{type:K4n})});};T2n.Renderer.Scatter.prototype.drawIndividualSeries=function(a4n,h4n){var L7U,C4n,b4n;L7U="Error, Scatter renderer re";L7U+="quires customCha";L7U+="rt.js";C4n=this.stx.panels[h4n.panel] || a4n.panel;b4n={colors:[]};if(this.stx.scatter){b4n=this.stx.scatter(C4n,h4n);}else {console.warn(L7U);}return b4n;};};B4r=r4n=>{var d7U,F4n,H1C,h1C,B1C,J1C,C1C,Z9U,S9U,D9U,i9U,I9U,Y9U,M9U,c9U,m9U,E9U,o9U,N9U,u9U,l9U,O9U,s9U,j9U,y9U,w9U,p9U,g9U,G9U,q9U,P9U,n9U,T9U,e9U,R9U,b9U,a9U,t9U,z9U,X9U,d9U,L9U,v9U,W9U,V9U,k9U,F9U,U9U,Q9U,x9U,f9U,K9U,r9U,A9U,H9U,h9U,B9U,J9U,Z6U,S6U,D6U,i6U,I6U,Y6U,M6U,c6U,m6U,E6U,o6U,N6U,u6U,l6U,O6U,s6U,j6U,y6U,w6U,p6U,g6U,G6U,q6U,P6U,n6U,T6U,e6U,R6U,b6U,a6U,t6U,z6U,X6U,d6U,L6U,v6U,W6U,V6U,k6U,F6U,U6U,Q6U,x6U,f6U,K6U,r6U,A6U,H6U,h6U,B6U,J6U,C6U,Z0U,S0U,D0U,i0U,I0U,Y0U,M0U,c0U,l7U,O7U,s7U,j7U;d7U="u";d7U+="nde";d7U+="fine";d7U+="d";F4n=typeof _CIQ !== d7U?_CIQ:r4n.CIQ;if(!F4n.Studies){console.error("studiesAdvanced feature requires first activating studies feature.");}else {H1C="09:";H1C+="30";h1C="Projecte";h1C+="d";h1C+=" Aggregate Volume";B1C="N";B1C+="o";B1C+="ne";J1C="+";J1C+="1";J1C+="0%";C1C="+";C1C+="4";C1C+="0%";Z9U="0 to ";Z9U+="max";S9U="a";S9U+="u";S9U+="t";S9U+="o";D9U="a";D9U+="u";D9U+="t";D9U+="o";i9U="a";i9U+="uto";I9U="#5F7";I9U+="C";I9U+="B8";Y9U="S";Y9U+="h";Y9U+="i";Y9U+="nohara Intensity Ratio";M9U="#F";M9U+="F00";M9U+="0";M9U+="0";c9U="m";c9U+="a";m9U="fi";m9U+="eld";E9U="0";E9U+=".01";o9U="0";o9U+=".01";N9U="a";N9U+="ut";N9U+="o";u9U="aut";u9U+="o";l9U="#";l9U+="00FF00";O9U="#8cc1";O9U+="76";s9U="Super";s9U+="tre";s9U+="nd";j9U="Darvas Bo";j9U+="x";y9U="#FF0";y9U+="0";y9U+="00";w9U="#00D";w9U+="D";w9U+="00";p9U="fi";p9U+="e";p9U+="l";p9U+="d";g9U="R";g9U+="ainbow Oscil";g9U+="lat";g9U+="or";G9U="#";G9U+="000";G9U+="0FF";q9U="#0";q9U+="07FF";q9U+="F";P9U="#FFFF";P9U+="00";n9U="0";n9U+=".";n9U+="1";T9U="f";T9U+="i";T9U+="e";T9U+="ld";e9U="Trend Intensi";e9U+="ty Index";R9U="m";R9U+="a";b9U="-";b9U+="1 t";b9U+="o ";b9U+="1";a9U="Ul";a9U+="cer Index";t9U="B";t9U+="e";t9U+="ta";z9U="#";z9U+="FF";z9U+="000";z9U+="0";X9U="#";X9U+="FF0000";d9U="#FF0";d9U+="000";L9U="#";L9U+="0000FF";v9U="#6991";v9U+="58";W9U="#DD";W9U+="3";W9U+="E3";W9U+="9";V9U="#F";V9U+="F0";V9U+="00";V9U+="0";k9U="a";k9U+="u";k9U+="t";k9U+="o";F9U="a";F9U+="u";F9U+="t";F9U+="o";U9U="a";U9U+="u";U9U+="t";U9U+="o";Q9U="f";Q9U+="i";Q9U+="el";Q9U+="d";x9U="Boll";x9U+="inger ";x9U+="%";x9U+="b";f9U="#FF00";f9U+="0";f9U+="0";K9U="#";K9U+="ff";K9U+="d0c";K9U+="f";r9U="#";r9U+="FF0000";A9U="a";A9U+="ut";A9U+="o";H9U="a";H9U+="u";H9U+="to";h9U="0";h9U+=".";h9U+="0";h9U+="5";B9U="a";B9U+="u";B9U+="to";J9U="f";J9U+="ie";J9U+="l";J9U+="d";Z6U="n";Z6U+="o";Z6U+="n";Z6U+="e";S6U="m";S6U+="e";S6U+="d";S6U+="ian";D6U="a";D6U+="u";D6U+="t";D6U+="o";i6U="au";i6U+="t";i6U+="o";I6U="Weighted ";I6U+="C";I6U+="l";I6U+="ose";Y6U="Vo";Y6U+="lume O";Y6U+="scillator";M6U="a";M6U+="ut";M6U+="o";c6U="aut";c6U+="o";m6U="a";m6U+="u";m6U+="t";m6U+="o";E6U="f";E6U+="i";E6U+="el";E6U+="d";o6U="Sch";o6U+="aff Trend";o6U+=" Cy";o6U+="cle";N6U="aut";N6U+="o";u6U="a";u6U+="uto";l6U="0 t";l6U+="o";l6U+=" 1";l6U+="00";O6U="a";O6U+="uto";s6U="#FF";s6U+="00";s6U+="00";j6U="vd";j6U+="m";j6U+="a";y6U="R";y6U+="AV";y6U+="I";w6U="#000";w6U+="0F";w6U+="F";p6U="#";p6U+="FF0";p6U+="00";p6U+="0";g6U="m";g6U+="a";G6U="QS";G6U+="ti";G6U+="c";G6U+="k";q6U="-1";q6U+=" to 1";P6U="f";P6U+="i";P6U+="e";P6U+="ld";n6U="a";n6U+="ut";n6U+="o";T6U="m";T6U+="a";e6U="f";e6U+="ie";e6U+="l";e6U+="d";R6U="Posit";R6U+="ive Volume";R6U+=" Index";b6U="#FF";b6U+="0";b6U+="0";b6U+="00";a6U="m";a6U+="a";t6U="Negative";t6U+=" Volum";t6U+="e Index";z6U="Mass ";z6U+="Inde";z6U+="x";X6U="m";X6U+="a";d6U="p";d6U+="ercent";L6U="#FF000";L6U+="0";v6U="a";v6U+="u";v6U+="t";v6U+="o";W6U="L";W6U+="owest Low Value";V6U="#00D";V6U+="D";V6U+="00";k6U="aut";k6U+="o";F6U="e";F6U+="m";F6U+="a";U6U="a";U6U+="u";U6U+="t";U6U+="o";Q6U="High";Q6U+=" M";Q6U+="i";Q6U+="nus Low";x6U="a";x6U+="u";x6U+="t";x6U+="o";f6U="Fractal Chaos Ba";f6U+="nds";K6U="Fractal ";K6U+="Chaos Osci";K6U+="llato";K6U+="r";r6U="#FF000";r6U+="0";A6U="El";A6U+="der Force In";A6U+="dex";H6U="au";H6U+="to";h6U="Do";h6U+="nchian C";h6U+="h";h6U+="annel";B6U="fie";B6U+="ld";J6U="Detrended P";J6U+="r";J6U+="ice Os";J6U+="cillator";C6U="Ch";C6U+="aikin Vola";C6U+="tility";Z0U="Chaik";Z0U+="in Money Flow";S0U="Comm";S0U+="odi";S0U+="ty ";S0U+="Channel Index";D0U="au";D0U+="t";D0U+="o";i0U="m";i0U+="a";I0U="#0";I0U+="0DD0";I0U+="0";Y0U="Aro";Y0U+="on";M0U="#";M0U+="FF000";M0U+="0";c0U="A";c0U+="DX/DMS";l7U="Double";l7U+=" Exponential";O7U="3-";O7U+="exponential";s7U="tem";s7U+="a";j7U="d";j7U+="e";j7U+="m";j7U+="a";F4n.Studies.calculateRSI=function(A0v,R0v){var D4q=D200;var z7U,d0v,x0v,r3Z,K3Z,f3Z,X7U,a7U,t7U,p0v,e0v,G0v,J0v,U0v,s0v;z7U="fi";z7U+="e";z7U+="ld";d0v=R0v.chart.scrubbed;x0v=R0v.inputs.Field;r3Z=425380303;K3Z=146233633;D4q.M2q();f3Z=+"2";for(var Q3Z=1;D4q.v7Z(Q3Z.toString(),Q3Z.toString().length,48534) !== r3Z;Q3Z++){if(+x0v && x0v === "field"){x0v="Close";}D4q.J6C(12);f3Z+=D4q.c6C(1,"2");}if(D4q.v7Z(f3Z.toString(),f3Z.toString().length,+"7180") !== K3Z){X7U="C";X7U+="lo";X7U+="s";X7U+="e";if(~x0v || x0v !== X7U){x0v="Close";}}if(!x0v || x0v == z7U){x0v="Close";}if(d0v.length < R0v.days + ("1" << 530743680)){R0v.error=! ![];return;}for(var V0v=R0v.startFrom;V0v < d0v.length;V0v++){a7U="_a";a7U+="vgL";a7U+=" ";t7U="_av";t7U+="gG ";if(!V0v)continue;p0v=d0v[V0v];D4q.O6C(0);e0v=d0v[D4q.c6C(V0v,1)];if(!p0v[x0v] && p0v[x0v] !== 0)continue;if(!e0v[x0v] && e0v[x0v] !== 0)continue;G0v=p0v[x0v] - e0v[x0v];J0v=Math.min(V0v,R0v.days);U0v=e0v[t7U + R0v.name];if(!U0v){U0v=0;}D4q.J6C(7);U0v-=D4q.c6C(U0v,J0v);s0v=e0v[a7U + R0v.name];if(!s0v){s0v=+"0";}D4q.J6C(7);s0v-=D4q.c6C(s0v,J0v);if(G0v > 0){D4q.J6C(7);U0v+=D4q.c6C(G0v,J0v);}else if(G0v <= 0){D4q.J6C(7);s0v-=D4q.y6C(G0v,J0v);}else continue;if(V0v >= R0v.days){if((U0v || U0v !== 0) && (s0v || s0v !== +"0")){p0v["RSI " + R0v.name]=c0v(U0v,s0v);}}p0v["_avgG " + R0v.name]=U0v;p0v["_avgL " + R0v.name]=s0v;}R0v.zoneOutput="RSI";function c0v(g0v,u0v){var S0v;if(u0v === 0){return 100;}D4q.O6C(7);S0v=D4q.c6C(g0v,u0v);D4q.J6C(67);D4q.y2q();return D4q.c6C(100,S0v,"100",1);}};F4n.Studies.calculateValuationLines=function(X0v,Q0v,j0v){var h4q=D200;var b7U,m0v,z0v,v0v,O0v,o0v,W0v,Y0v,t0v,H0v,K0v,P0v,y0v,n0v;b7U="Cl";b7U+="o";b7U+="se";m0v=Q0v.inputs.Field == "field"?b7U:Q0v.inputs.Field;z0v=Q0v.inputs["Average Type"];v0v=Q0v.inputs["Display Average"];O0v=Q0v.inputs["Display 1 Standard Deviation (1\u03C3)"];o0v=Q0v.inputs["Display 2 Standard Deviation (2\u03C3)"];W0v=Q0v.inputs["Display 3 Standard Deviation (3\u03C3)"];Y0v=[];for(var D0v=0;D0v < j0v.length;++D0v){if(j0v[D0v] && !isNaN(j0v[D0v][m0v])){Y0v.push(j0v[D0v][m0v]);}}t0v=(function(h0v,C0v){var R7U,k0v,L0v,b0v,I0v,w0v,f0v;R7U="m";R7U+="e";R7U+="a";h4q.M2q();R7U+="n";k0v=h0v.length;L0v=0;b0v=0;I0v=+"0";switch(C0v){case R7U:b0v=k0v;for(;I0v < k0v;++I0v){L0v+=h0v[I0v];}break;case "harmonic":L0v=k0v;for(;I0v < k0v;++I0v){b0v+=1 / h0v[I0v];}break;case "median":h4q.O6C(7);w0v=Math.floor(h4q.c6C(k0v,2));f0v=h0v.slice().sort(function(a0v,F0v){if(a0v > F0v){return 1;}if(a0v < F0v){return -1;}h4q.y2q();return 0;});if(k0v % +"2" === 0){L0v=f0v[w0v] + f0v[w0v - ("1" << 1815968704)];b0v=2;}else {L0v=f0v[w0v];b0v=1;}break;}h4q.J6C(7);return h4q.c6C(L0v,b0v);})(Y0v,z0v);H0v=!(O0v || o0v || W0v) || (function(i0v,T0v){var N0v,l0v;N0v=i0v.length;l0v=0;h4q.M2q();for(var B0v=0;B0v < N0v;++B0v){l0v+=Math.pow(i0v[B0v] - T0v,2);}h4q.O6C(7);return Math.sqrt(h4q.y6C(l0v,N0v));})(Y0v,t0v);Q0v.data={Average:v0v?[t0v]:null,"1 Standard Deviation (1\u03C3)":O0v?[t0v + H0v,t0v - H0v]:null,"2 Standard Deviation (2\u03C3)":o0v?[t0v + H0v * 2,t0v - H0v * 2]:null,"3 Standard Deviation (3\u03C3)":W0v?[t0v + H0v * 3,t0v - H0v * 3]:null};K0v=H0v;if(!Q0v.parameters){Q0v.parameters={};}if(W0v){h4q.J6C(68);Q0v.parameters.range=[h4q.y6C(3,t0v,H0v,K0v),h4q.y6C(t0v,K0v,H0v,3,h4q.O6C(69))];}else if(o0v){h4q.O6C(70);Q0v.parameters.range=[h4q.y6C(H0v,"2",0,K0v,t0v),h4q.c6C(t0v,K0v,H0v,2,h4q.J6C(69))];}else if(O0v){h4q.J6C(64);Q0v.parameters.range=[h4q.c6C(K0v,H0v,t0v),h4q.c6C(K0v,H0v,t0v,h4q.J6C(51))];}else if(v0v){h4q.J6C(0);Q0v.parameters.range=[h4q.y6C(t0v,K0v),h4q.y6C(t0v,K0v,h4q.O6C(1))];}if(Q0v.panel){P0v=X0v.panels[Q0v.panel];y0v=X0v.getYAxisByName(P0v,Q0v.name);if(y0v){y0v.decimalPlaces=P0v.chart.yAxis.printDecimalPlaces;n0v={yAxis:y0v};X0v.calculateYAxisRange(P0v,y0v,Q0v.parameters.range[0],Q0v.parameters.range[1]);X0v.createYAxis(P0v,n0v);X0v.drawYAxis(P0v,n0v);}}};F4n.Studies.displayValuationLines=function(E0v,M0v){var O4q=D200;var e7U,r0v,Z0v,x1v,V1v,Q1v,t1v,H1v,U1v,s1v,p1v,G1v,J1v,c1v,A1v,e1v,d1v,q0v,u1v,K1v,S1v,q7U,P7U,n7U,T7U,g1v;e7U="ciq-";e7U+="valuation-average-";e7U+="line";r0v=E0v.panels[M0v.panel];Z0v=M0v.getYAxis(E0v);x1v=M0v.getContext(E0v);V1v=M0v.data;Q1v=M0v.parameters.labels;t1v=M0v.inputs["Average Type"];H1v={mean:"AVG",median:"MED",harmonic:"HAVG"};U1v=E0v.canvasStyle(e7U);O4q.y2q();s1v=E0v.canvasStyle("ciq-valuation-deviation-line");p1v=3;G1v=E0v.getCanvasFontSize("stx_yaxis") + p1v * ("2" * 1);for(var R1v in V1v){if(!V1v[R1v])continue;O4q.J6C(71);J1v=O4q.y6C("Average",R1v);c1v=F4n.Studies.determineColor(M0v.outputs[R1v]);A1v=V1v[R1v];for(e1v=0;e1v < A1v.length;++e1v){q7U="l";q7U+="e";q7U+="f";q7U+="t";P7U=":";P7U+=" ";n7U="dash";n7U+="ed";T7U="so";T7U+="li";T7U+="d";d1v=A1v[e1v];q0v=E0v.pixelFromPrice(d1v,r0v,Z0v);if(q0v <= r0v.top || q0v >= r0v.yAxis.bottom)continue;S1v=J1v?{pattern:U1v.borderStyle != "none"?U1v.borderStyle || "solid":T7U,lineWidth:parseFloat(U1v.borderWidth) || 1,opacity:parseFloat(U1v.opacity) || 1,yAxis:Z0v}:{pattern:s1v.borderStyle != "none"?s1v.borderStyle || n7U:"dashed",lineWidth:parseFloat(s1v.borderWidth) || +"1",opacity:parseFloat(s1v.opacity) || 1,yAxis:Z0v};E0v.plotLine(r0v.left,r0v.right,q0v,q0v,c1v,"line",x1v,r0v,S1v);if(Q1v === "yaxis"){E0v.createYAxisLabel(r0v,E0v.formatYAxisPrice(d1v,r0v),q0v,c1v,null,x1v,Z0v);continue;}q0v+=Math.floor(S1v.lineWidth / +"2");if(q0v + G1v >= r0v.yAxis.bottom)continue;u1v=(J1v?H1v[t1v] + P7U:R1v[0] + "\u03C3: ") + E0v.formatYAxisPrice(d1v,r0v);K1v=x1v.measureText(u1v).width;g1v=r0v.right - K1v - p1v;if(Z0v && Z0v.position == q7U){g1v=r0v.left + p1v;}O4q.O6C(72);x1v.strokeText(u1v,g1v,O4q.y6C(G1v,q0v,"2",424953184,0.5));}}};F4n.Studies.calculateCorrelationCoefficient=function(I1v,D1v){var t4q=D200;var X1v,j1v,O1v,o1v,W1v,m1v,v1v,n1v,z1v,k1v,w7U,p7U,y1v,g7U,G7U,y7U,b1v,h1v,w1v,f1v;X1v=D1v.chart.scrubbed;j1v=D1v.days;if(X1v.length < j1v + +"1"){D1v.error=! ![];return;}D1v.compare=D1v.inputs["Compare To"];if(!D1v.compare){D1v.compare=[];D1v.outputs={};D1v.outputMap={};for(var L1v in I1v.chart.series){O1v=I1v.chart.series[L1v];if(O1v.parameters.color){D1v.compare.push(O1v.display);D1v.outputs["Result " + O1v.display]=O1v.parameters.color;D1v.outputMap["Result " + O1v.display + (("4590" ^ 0) != (+"974.25",5347)?" ":892.02) + D1v.name]="Result " + O1v.display;}}}else {D1v.compare=[D1v.compare];}if(!D1v.compare.length){D1v.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var Y1v=0;Y1v < D1v.compare.length;Y1v++){t4q.J6C(9);o1v=t4q.y6C(1509400640,"0");W1v=0;m1v=0;v1v=0;t4q.O6C(13);n1v=t4q.y6C(2147483647,"0");z1v=D1v.compare[Y1v];k1v=0;for(var P1v=D1v.startFrom - j1v;P1v < X1v.length;P1v++){w7U="_";w7U+="t";w7U+="emps";w7U+=" ";p7U="_t";p7U+="emp";p7U+="s ";if(!X1v[P1v])continue;y1v=X1v[P1v][z1v];if(y1v && typeof y1v == "object"){y1v=y1v.Close;}if(!y1v && y1v !== 0){g7U="_t";g7U+="e";g7U+="mp";g7U+="s ";G7U="_tem";G7U+="ps ";if(P1v > 0 && X1v[P1v - 1] && X1v[P1v - 1]["_temps " + D1v.name] && X1v[P1v - +"1"][G7U + D1v.name].c){y1v=X1v[P1v - 1][g7U + D1v.name].c;}else {y1v=0;}}if(y1v && typeof y1v == "object"){y1v=y1v.Close;}X1v[P1v][p7U + D1v.name]={};o1v+=X1v[P1v]["_temps " + D1v.name].b=X1v[P1v].Close;W1v+=X1v[P1v]["_temps " + D1v.name].c=y1v;m1v+=X1v[P1v][w7U + D1v.name].b2=Math.pow(X1v[P1v].Close,2);v1v+=X1v[P1v]["_temps " + D1v.name].c2=Math.pow(y1v,2);n1v+=X1v[P1v]["_temps " + D1v.name].bc=X1v[P1v].Close * y1v;if(k1v >= j1v){y7U="_t";y7U+="emps ";o1v-=X1v[P1v - j1v]["_temps " + D1v.name].b;W1v-=X1v[P1v - j1v][y7U + D1v.name].c;m1v-=X1v[P1v - j1v]["_temps " + D1v.name].b2;v1v-=X1v[P1v - j1v]["_temps " + D1v.name].c2;n1v-=X1v[P1v - j1v]["_temps " + D1v.name].bc;b1v=m1v / j1v - Math.pow(o1v / j1v,2);h1v=v1v / j1v - Math.pow(W1v / j1v,2);w1v=n1v / j1v - o1v * W1v / Math.pow(j1v,2);f1v=w1v / Math.sqrt(b1v * h1v);X1v[P1v]["Result " + z1v + ("813.11" * 1 == (7508,+"6710")?(6.79e+3,7.54e+3):" ") + D1v.name]=f1v;}k1v++;}}};F4n.Studies.prettify=F4n.extend({"2-exponential":j7U,"3-exponential":s7U,hull:"hma"},F4n.Studies.prettify);F4n.extend(F4n.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:O7U},translations:{hull:"Hull","2-exponential":l7U,"3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});F4n.Studies.calculateMovingAverageHull=function(r1v,C1v){var N7U,u7U,F1v,B1v,a1v,N1v,o7U,l1v,i1v,E1v,T1v,E7U;N7U="w";N7U+="m";N7U+="a";u7U="wm";u7U+="a";F1v=C1v.chart.scrubbed;B1v=C1v.inputs.Field;if(!B1v || B1v == "field"){B1v="Close";}F4n.Studies.MA(u7U,C1v.days,B1v,0,"_WMA1",r1v,C1v);F4n.Studies.MA(N7U,Math.ceil(C1v.days / 2),B1v,0,"_WMA2",r1v,C1v);for(a1v=C1v.startFrom - 1;a1v >= "0" - 0;a1v--){o7U="objec";o7U+="t";N1v=F1v[a1v][B1v];if(N1v && typeof N1v == o7U){N1v=N1v[C1v.subField];}if(N1v || N1v === +"0")break;}for(a1v++;a1v < F1v.length;a1v++){l1v=F1v[a1v];l1v["_MMA " + C1v.name]=2 * l1v["_WMA2 " + C1v.name] - l1v["_WMA1 " + C1v.name];}i1v=parseInt(C1v.inputs.Offset,+"10");if(isNaN(i1v)){i1v=0;}E1v=Math.floor(Math.sqrt(C1v.days));F4n.Studies.MA("wma",E1v,"_MMA " + C1v.name,i1v,"_HMA",r1v,C1v);T1v=C1v.name;for(var q1v in C1v.outputs){D200.J6C(51);T1v=D200.c6C(T1v," ",q1v);}for(a1v=Math.max(C1v.days + E1v - 1,C1v.startFrom);a1v < F1v.length;a1v++){E7U="_H";E7U+="M";E7U+="A";E7U+=" ";F1v[a1v][T1v]=F1v[a1v][E7U + C1v.name];}};F4n.Studies.calculateMovingAverageDoubleExponential=function(p2v,M1v){var I4q=D200;var c7U,m7U,U2v,s2v,R2v,Z1v,x2v,e2v,V2v,d2v,G2v,J2v,c2v;c7U="_";c7U+="E";c7U+="MA";c7U+="2";m7U="_E";m7U+="MA";m7U+="1";U2v=M1v.chart.scrubbed;s2v=M1v.inputs.Field;I4q.M2q();if(!s2v || s2v == "field"){s2v="Close";}F4n.Studies.MA("ema",M1v.days,s2v,0,m7U,p2v,M1v);F4n.Studies.MA("ema",M1v.days,"_EMA1 " + M1v.name,0,c7U,p2v,M1v);R2v=parseInt(M1v.inputs.Offset,10);if(isNaN(R2v)){R2v=0;}e2v=R2v;for(Z1v=M1v.startFrom - 1;Z1v >= 0;Z1v--){x2v=U2v[Z1v][s2v];if(x2v && typeof x2v == "object"){x2v=x2v[M1v.subField];}if(!x2v && x2v !== 0)continue;if(e2v > 0){e2v--;continue;}break;}V2v=M1v.name;for(var A2v in M1v.outputs){I4q.J6C(51);V2v=I4q.c6C(V2v,(2910,"5940" | 1812) > (+"1511",363.42)?" ":(2466,69.62) == (6018,"145.93" * 1)?(8.26e+3,672.94):53.74 === 1490?1.45e+3:0x1b82,A2v);}d2v=[];for(Z1v++;Z1v < U2v.length;Z1v++){if(Z1v < ("2" >> 1805995200) * (M1v.days - 1))continue;G2v=U2v[Z1v];J2v=2 * G2v["_EMA1 " + M1v.name] - G2v["_EMA2 " + M1v.name];if(Z1v + R2v >= 0){if(Z1v + R2v < U2v.length){I4q.J6C(1);U2v[I4q.y6C(Z1v,R2v)][V2v]=J2v;}else {c2v={};c2v[V2v]=J2v;d2v.push(c2v);}}}M1v.appendFutureTicks(p2v,d2v);};F4n.Studies.calculateMovingAverageTripleExponential=function(D2v,u2v){var c4q=D200;var Y7U,M7U,t2v,H2v,g2v,S2v,Q2v,X2v,K2v,y2v,I7U,P2v,j2v,O2v;Y7U="_";Y7U+="E";Y7U+="MA";Y7U+="3";M7U="e";M7U+="m";M7U+="a";t2v=u2v.chart.scrubbed;H2v=u2v.inputs.Field;if(!H2v || H2v == "field"){H2v="Close";}F4n.Studies.MA("ema",u2v.days,H2v,0,"_EMA1",D2v,u2v);F4n.Studies.MA("ema",u2v.days,"_EMA1 " + u2v.name,"0" | 0,"_EMA2",D2v,u2v);F4n.Studies.MA(M7U,u2v.days,"_EMA2 " + u2v.name,0,Y7U,D2v,u2v);g2v=parseInt(u2v.inputs.Offset,10);if(isNaN(g2v)){g2v=0;}X2v=g2v;for(S2v=u2v.startFrom - 1;S2v >= 0;S2v--){Q2v=t2v[S2v][H2v];if(Q2v && typeof Q2v == "object"){Q2v=Q2v[u2v.subField];}if(!Q2v && Q2v !== 0)continue;if(X2v > 0){X2v--;continue;}break;}K2v=u2v.name;for(var o2v in u2v.outputs){c4q.O6C(51);K2v=c4q.c6C(K2v,(6448,6429) === (5201,404)?("g",8.61e+2):" ",o2v);}y2v=[];for(S2v++;S2v < t2v.length;S2v++){I7U="_EM";I7U+="A";I7U+="3 ";if(S2v < 3 * (u2v.days - 1))continue;P2v=t2v[S2v];j2v=3 * P2v["_EMA1 " + u2v.name] - 3 * P2v["_EMA2 " + u2v.name] + P2v[I7U + u2v.name];if(S2v + g2v >= 0){if(S2v + g2v < t2v.length){c4q.J6C(1);t2v[c4q.y6C(S2v,g2v)][K2v]=j2v;}else {O2v={};O2v[K2v]=j2v;y2v.push(O2v);}}}u2v.appendFutureTicks(D2v,y2v);};F4n.Studies.calculateATRBands=function(m2v,W2v){var Y2v;F4n.Studies.calculateStudyATR(m2v,W2v);Y2v=W2v.inputs.Field;if(!Y2v || Y2v == "field"){Y2v="Close";}F4n.Studies.calculateGenericEnvelope(m2v,W2v,W2v.inputs.Shift,Y2v,"ATR " + W2v.name);};F4n.Studies.calculateSTARCBands=function(n2v,v2v){var D7U,i7U;D7U="_";D7U+="MA ";i7U="MA Per";i7U+="iod";F4n.Studies.calculateStudyATR(n2v,v2v);F4n.Studies.MA("simple",v2v.inputs[i7U],"Close",+"0","_MA",n2v,v2v);D200.M2q();F4n.Studies.calculateGenericEnvelope(n2v,v2v,v2v.inputs.Multiplier,D7U + v2v.name,"ATR " + v2v.name);};F4n.Studies.calculateATRStops=function(F2v,z2v){var T4q=D200;var C2U,b2v,f2v,S7U,k2v,a2v,I2v,L2v,w2v,C2v,Z7U;C2U="Al";C2U+="l";T4q.M2q();C2U+=" Sto";C2U+="ps ";b2v=z2v.chart.scrubbed;if(!b2v){return;}F4n.Studies.calculateStudyATR(F2v,z2v);f2v=z2v.inputs.HighLow;for(var h2v=Math.max(z2v.startFrom - 1,1);h2v < b2v.length - 1;h2v++){S7U="Buy Stop";S7U+="s ";k2v=b2v[h2v];T4q.J6C(73);a2v=b2v[T4q.c6C(514801280,h2v,"1")];I2v=k2v[S7U + z2v.name];if(!I2v){I2v=k2v["Sell Stops " + z2v.name];}if(!I2v){I2v=0;}if(!k2v || !a2v)continue;L2v=k2v.Close;w2v=L2v;C2v=k2v["ATR " + z2v.name] * z2v.inputs.Multiplier;if(k2v.Close > I2v && a2v.Close > I2v){if(f2v){L2v=k2v.High;}T4q.O6C(0);w2v=Math.max(I2v,T4q.c6C(L2v,C2v));}else if(k2v.Close <= I2v && a2v.Close <= I2v){if(f2v){L2v=k2v.Low;}T4q.O6C(1);w2v=Math.min(I2v,T4q.c6C(L2v,C2v));}else if(k2v.Close > I2v){if(f2v){L2v=k2v.High;}T4q.O6C(0);w2v=T4q.y6C(L2v,C2v);}else if(k2v.Close <= I2v){if(f2v){L2v=k2v.Low;}T4q.J6C(1);w2v=T4q.y6C(L2v,C2v);}if(L2v <= w2v){T4q.J6C(57);b2v[T4q.y6C("1",h2v)]["Buy Stops " + z2v.name]=w2v;T4q.J6C(1);delete b2v[T4q.y6C(h2v,1)]["Sell Stops " + z2v.name];}else if(L2v > w2v){Z7U="Se";Z7U+="l";Z7U+="l Stops ";T4q.J6C(1);b2v[T4q.y6C(h2v,1)][Z7U + z2v.name]=w2v;T4q.J6C(1);delete b2v[T4q.c6C(h2v,1)]["Buy Stops " + z2v.name];}T4q.O6C(57);b2v[T4q.c6C("1",h2v)]["All Stops " + z2v.name]=w2v;}z2v.referenceOutput="All Stops";z2v.outputMap={};z2v.outputMap[C2U + z2v.name]="";};F4n.Studies.calculateAwesomeOscillator=function(i2v,B2v){var J2U,N2v;J2U="simp";J2U+="l";J2U+="e";N2v=B2v.chart.scrubbed;if(N2v.length < 33){B2v.error=! !"1";return;}F4n.Studies.MA("simple",5,"hl/2",0,"_MA5",i2v,B2v);F4n.Studies.MA(J2U,34,"hl/2",+"0","_MA34",i2v,B2v);for(var l2v=Math.max(B2v.startFrom,"33" * 1);l2v < N2v.length;l2v++){if(!N2v[l2v])continue;N2v[l2v][B2v.name + "_hist"]=N2v[l2v]["_MA5 " + B2v.name] - N2v[l2v]["_MA34 " + B2v.name];}B2v.outputMap={};B2v.outputMap[B2v.name + "_hist"]="";};F4n.Studies.calculateRelativeVolatility=function(s3v,T2v){var U3v,Z2v,r2v,q2v,M2v,B2U,h2U,E2v,x3v,H2U;T2v.days=Number(T2v.inputs["Smoothing Period"]);U3v=Number(T2v.inputs["STD Period"]);Z2v=T2v.chart.scrubbed;if(Z2v.length < T2v.days + U3v){T2v.error=! !"1";return;}r2v=T2v.inputs.Field;if(!r2v || r2v == "field"){r2v="Close";}T2v.std=new F4n.Studies.StudyDescriptor(T2v.name,"sdev",T2v.panel);T2v.std.chart=T2v.chart;T2v.std.days=U3v;T2v.std.startFrom=T2v.startFrom;T2v.std.inputs={Field:r2v,"Standard Deviations":1,Type:"ma"};T2v.std.outputs={_STD:null};F4n.Studies.calculateStandardDeviation(s3v,T2v.std);q2v=0;function V3v(p3v,e3v){if(p3v + e3v === "0" << 893452768){return 100;}D200.O6C(74);D200.y2q();return D200.c6C(e3v,p3v,p3v,"100");}M2v=0;if(T2v.startFrom > 1){B2U="_";B2U+="a";B2U+="vgL";B2U+=" ";q2v=Z2v[T2v.startFrom - 1]["_avgG " + T2v.name] || +"0";M2v=Z2v[T2v.startFrom - 1][B2U + T2v.name] || 0;}for(var R3v=Math.max(T2v.startFrom,T2v.days);R3v < Z2v.length;R3v++){h2U="_S";h2U+="T";h2U+="D ";E2v=Z2v[R3v];D200.O6C(0);x3v=Z2v[D200.c6C(R3v,1)];if(!E2v[r2v] && E2v[r2v] !== 0)continue;if(!x3v[r2v] && x3v[r2v] !== 0)continue;if(!E2v["_STD " + T2v.name] && E2v[h2U + T2v.name] !== 0)continue;if(E2v[r2v] > x3v[r2v]){q2v=(q2v * (T2v.days - ("1" | 0)) + E2v["_STD " + T2v.name]) / T2v.days;M2v=M2v * (T2v.days - ("1" ^ 0)) / T2v.days;}else {H2U="_ST";H2U+="D ";M2v=(M2v * (T2v.days - +"1") + E2v[H2U + T2v.name]) / T2v.days;q2v=q2v * (T2v.days - 1) / T2v.days;}E2v["Rel Vol " + T2v.name]=V3v(q2v,M2v);E2v["_avgG " + T2v.name]=q2v;E2v["_avgL " + T2v.name]=M2v;}T2v.zoneOutput="Rel Vol";};F4n.Studies.calculatePMO=function(u3v,d3v){var x2U,f2U,K2U,r2U,A2U,c3v,G3v,A3v,J3v,S3v;x2U="e";x2U+="xponenti";x2U+="al";f2U="_ROC";f2U+="x1";f2U+="0";f2U+=" ";K2U="ex";K2U+="ponen";K2U+="tial";r2U="Cl";r2U+="ose";A2U="Signa";A2U+="l ";A2U+="Perio";A2U+="d";c3v={Smooth:Number(d3v.inputs["Smoothing Period"]) - "1" * 1,Double:Number(d3v.inputs["Double Smoothing Period"]) - 1,Signal:Number(d3v.inputs[A2U])};G3v=d3v.chart.scrubbed;if(G3v.length < c3v.Smooth + c3v.Double){d3v.error=!"";return;}A3v=d3v.inputs.Field;if(!A3v || A3v == "field"){A3v=r2U;}for(J3v=d3v.startFrom;J3v < G3v.length;J3v++){if(!G3v[J3v])continue;if(!G3v[J3v - 1])continue;D200.O6C(0);S3v=G3v[D200.y6C(J3v,1)][A3v];if(S3v){G3v[J3v]["_ROCx10 " + d3v.name]=("1000" << 741301920) * (G3v[J3v][A3v] / S3v - 1);}}F4n.Studies.MA(K2U,c3v.Smooth,f2U + d3v.name,0,"_EMAx10",u3v,d3v);F4n.Studies.MA(x2U,c3v.Double,"_EMAx10 " + d3v.name,0,"PMO",u3v,d3v);F4n.Studies.MA("exponential",c3v.Signal,"PMO " + d3v.name,0,"PMOSignal",u3v,d3v);d3v.zoneOutput="PMO";};F4n.Studies.calculateElderImpulse=function(D3v,g3v){var t3v,P3v,X3v,K3v,H3v,F2U,U2U,Q2U;t3v=g3v.chart.scrubbed;P3v=g3v.outputs.Bullish;X3v=g3v.outputs.Bearish;K3v=g3v.outputs.Neutral;F4n.Studies.MA("exponential",13,"Close",0,"_MA",D3v,g3v);g3v.macd=new F4n.Studies.StudyDescriptor(((1988,5700) === +"9543"?481.04:"_") + g3v.name,"macd",g3v.panel);g3v.macd.chart=g3v.chart;g3v.macd.days=g3v.days;g3v.macd.startFrom=g3v.startFrom;g3v.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};g3v.macd.outputs={_MACD:null,_Signal:null};F4n.Studies.calculateMACD(D3v,g3v.macd);for(var Q3v=g3v.startFrom;Q3v < t3v.length;Q3v++){F2U="_";F2U+="M";F2U+="A";F2U+=" ";U2U="_M";U2U+="A ";Q2U="_";Q2U+="h";Q2U+="i";Q2U+="st";if(Q3v === 0){H3v=K3v;}else if(t3v[Q3v]["_MA " + g3v.name] > t3v[Q3v - 1]["_MA " + g3v.name] && t3v[Q3v]["_" + g3v.name + "_hist"] > t3v[Q3v - +"1"][(("489.04" - 0,521.55) === 614.34?(0x875,+"459.68"):896.47 == 8419?! !0:"_") + g3v.name + Q2U]){H3v=P3v;}else if(t3v[Q3v][U2U + g3v.name] < t3v[Q3v - +"1"][F2U + g3v.name] && t3v[Q3v]["_" + g3v.name + "_hist"] < t3v[Q3v - ("1" << 1621675776)][((528.71,884) > (311.44,3690)?4.14e+3:"_") + g3v.name + "_hist"]){H3v=X3v;}else {H3v=K3v;}t3v[Q3v]["Result " + g3v.name]=H3v;;}};F4n.Studies.calculatePivotPoints=function(W3v,o3v){var V2U,k2U,j3v,Y3v,W2U,n3v,z3v,L3v,m3v,y3v,v2U,z2U,X2U,d2U,L2U,k3v,I3v,t2U,R2U,b2U,a2U;V2U="secon";V2U+="d";k2U="s";k2U+="e";k2U+="c";k2U+="ond";j3v=o3v.chart.scrubbed;Y3v="day";if(W3v.layout.interval == "day"){Y3v="month";}else if(F4n.ChartEngine.isDailyInterval(W3v.layout.interval)){Y3v="year";}else if(W3v.layout.interval == k2U || W3v.layout.interval == "millisecond" || W3v.layout.timeUnit == V2U || W3v.layout.timeUnit == "millisecond"){Y3v="15min";}else {W2U="w";W2U+="e";W2U+="e";W2U+="k";n3v=W3v.layout.periodicity;if(W3v.layout.interval != "minute"){n3v*=W3v.layout.interval;}if(n3v >= 30){Y3v=W2U;}}z3v=F4n.Market.Symbology.isForexSymbol(W3v.chart.symbol);D200.M2q();L3v=F4n.Market.Symbology.isForexMetal(W3v.chart.symbol);m3v=null;y3v={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:+"0",hlSpread:0};if(o3v.startFrom > 1 && j3v[o3v.startFrom - 1]["_pointers " + o3v.name]){v2U="_p";v2U+="ointer";v2U+="s";v2U+=" ";y3v=F4n.clone(j3v[o3v.startFrom - 1][v2U + o3v.name]);}for(var O3v=Math.max(1,o3v.startFrom);O3v < j3v.length;O3v++){z2U="15mi";z2U+="n";X2U="d";X2U+="a";X2U+="y";d2U="w";d2U+="eek";L2U="ye";L2U+="ar";if(!j3v[O3v - 1])continue;y3v.high=Math.max(y3v.high,j3v[O3v - 1].High);y3v.low=Math.min(y3v.low > 0?y3v.low:j3v[O3v - ("1" >> 2133240832)].Low,j3v[O3v - +"1"].Low);if(o3v.inputs.Continuous){v3v();}else if(Y3v == L2U && j3v[O3v].DT.getYear() != j3v[O3v - 1].DT.getYear()){v3v();}else if(Y3v == "month" && j3v[O3v].DT.getMonth() != j3v[O3v - 1].DT.getMonth()){v3v();}else if(Y3v == d2U && j3v[O3v].DT.getDay() < j3v[O3v - 1].DT.getDay()){v3v();}else if(Y3v == X2U){if(m3v === null){m3v=F4n.Studies.getMarketOffset(W3v,j3v[O3v].DT,z3v);if(z3v){D200.J6C(75);m3v+=D200.y6C("60",60,1000,L3v?6:7);}}k3v=new Date(new Date(+j3v[O3v].DT).setMilliseconds(j3v[O3v].DT.getMilliseconds() + m3v));I3v=new Date(new Date(+j3v[O3v - 1].DT).setMilliseconds(j3v[O3v - 1].DT.getMilliseconds() + m3v));if(I3v.getDate() !== k3v.getDate() && I3v.getDay() !== 0 && W3v.chart.market.isMarketDate(k3v)){m3v=null;v3v();}}else if(Y3v == z2U && (j3v[O3v].DT.getHours() != j3v[O3v - 1].DT.getHours() || Math.floor(j3v[O3v].DT.getMinutes() / 15) != Math.floor(j3v[O3v - 1].DT.getMinutes() / 15))){v3v();}j3v[O3v]["Pivot " + o3v.name]=y3v.pivotPoint;if(o3v.inputs.Type.toLowerCase() == "fibonacci"){t2U="Suppo";t2U+="rt 3 ";j3v[O3v]["Resistance 1 " + o3v.name]=y3v.pivotPoint + 0.382 * y3v.hlSpread;j3v[O3v]["Resistance 2 " + o3v.name]=y3v.pivotPoint + 0.618 * y3v.hlSpread;j3v[O3v]["Resistance 3 " + o3v.name]=y3v.pivotPoint + y3v.hlSpread;j3v[O3v]["Support 1 " + o3v.name]=y3v.pivotPoint - 0.382 * y3v.hlSpread;j3v[O3v]["Support 2 " + o3v.name]=y3v.pivotPoint - +"0.618" * y3v.hlSpread;j3v[O3v][t2U + o3v.name]=y3v.pivotPoint - y3v.hlSpread;}else {R2U="Support ";R2U+="3 ";b2U="Su";b2U+="p";b2U+="port 2 ";a2U="Resistance";a2U+=" 1 ";j3v[O3v][a2U + o3v.name]=2 * y3v.pivotPoint - y3v.prevLow;j3v[O3v]["Resistance 2 " + o3v.name]=y3v.pivotPoint + y3v.hlSpread;j3v[O3v]["Resistance 3 " + o3v.name]=y3v.prevHigh + 2 * (y3v.pivotPoint - y3v.prevLow);j3v[O3v]["Support 1 " + o3v.name]=2 * y3v.pivotPoint - y3v.prevHigh;j3v[O3v][b2U + o3v.name]=y3v.pivotPoint - y3v.hlSpread;j3v[O3v][R2U + o3v.name]=y3v.prevLow - 2 * (y3v.prevHigh - y3v.pivotPoint);}j3v[O3v]["_pointers " + o3v.name]=F4n.clone(y3v);}function v3v(){y3v.pivotPoint=(y3v.high + y3v.low + j3v[O3v - ("1" & 2147483647)].Close) / 3;y3v.prevHigh=y3v.high;y3v.prevLow=y3v.low;y3v.hlSpread=y3v.high - y3v.low;y3v.high=y3v.low=0;}};F4n.Studies.calculateMFI=function(B3v,b3v){var e2U,h3v,a3v,f3v,C3v,F3v,w3v,T2U;e2U="S";e2U+="ca";e2U+="le Factor";h3v=b3v.chart.scrubbed;f3v=+"0";C3v=b3v.inputs["Scale Factor"];if(!C3v){C3v=b3v.study.inputs[e2U];}F3v=Math.pow(10,Number(C3v));if(b3v.startFrom > 1){f3v=h3v[b3v.startFrom - 1]["_high " + b3v.name];}for(w3v=b3v.startFrom;w3v < h3v.length;w3v++){if(!h3v[w3v])continue;if(h3v[w3v].Volume){T2U="_hi";T2U+="gh ";h3v[w3v][b3v.name + "_hist"]=a3v=F3v * (h3v[w3v].High - h3v[w3v].Low) / h3v[w3v].Volume;h3v[w3v][T2U + b3v.name]=f3v=Math.max(f3v,a3v);}}b3v.outputMap={};b3v.outputMap[b3v.name + "_hist"]="";};F4n.Studies.calculateAlligator=function(M3v,i3v){var s4q=D200;var T3v,N3v,P2U,n2U,G2U,q2U,E3v,q3v,r3v,g2U,p2U;T3v={J:Number(i3v.inputs["Jaw Period"]),T:Number(i3v.inputs["Teeth Period"]),L:Number(i3v.inputs["Lips Period"])};N3v=i3v.chart.scrubbed;if(N3v.length < Math.max(T3v.J,T3v.T,T3v.L) + 1){i3v.error=!"";return;}if(i3v.type === "Gator" || i3v.inputs["Show Lines"]){P2U="L";P2U+="ips";n2U="J";n2U+="aw";F4n.Studies.MA("welles wilder",T3v.J,"hl/2",i3v.inputs["Jaw Offset"],n2U,M3v,i3v);F4n.Studies.MA("welles wilder",T3v.T,"hl/2",i3v.inputs["Teeth Offset"],"Teeth",M3v,i3v);F4n.Studies.MA("welles wilder",T3v.L,"hl/2",i3v.inputs["Lips Offset"],P2U,M3v,i3v);}for(var l3v=i3v.startFrom;l3v < N3v.length;l3v++){G2U="Show ";G2U+="Fract";G2U+="als";if(!N3v[l3v])continue;if(i3v.type == "Gator"){q2U="Tee";q2U+="th ";E3v=N3v[l3v]["Jaw " + i3v.name];q3v=N3v[l3v]["Lips " + i3v.name];r3v=N3v[l3v][q2U + i3v.name];if(r3v || r3v === 0){if(E3v || E3v === 0){s4q.J6C(0);N3v[l3v][i3v.name + "_hist1"]=Math.abs(s4q.c6C(E3v,r3v));}if(q3v || q3v === 0){s4q.J6C(0);N3v[l3v][i3v.name + "_hist2"]=-Math.abs(s4q.c6C(r3v,q3v));}}i3v.outputMap={};i3v.outputMap[i3v.name + "_hist1"]="";i3v.outputMap[i3v.name + "_hist2"]="";}if(i3v.inputs[G2U]){if(!N3v[l3v - 2] || !N3v[l3v - 1] || !N3v[l3v] || !N3v[l3v + 1] || !N3v[l3v + 2])continue;if(N3v[l3v - 2].High && N3v[l3v - 1].High && N3v[l3v].High && N3v[l3v + 1].High && N3v[l3v + 2].High){if(N3v[l3v].High > N3v[l3v - 1].High && N3v[l3v].High > N3v[l3v - 2].High && N3v[l3v].High > N3v[l3v + 1].High && N3v[l3v].High > N3v[l3v + 2].High){g2U="F";g2U+="ractal High";g2U+=" ";N3v[l3v][g2U + i3v.name]=1;}}if(N3v[l3v - 2].Low && N3v[l3v - ("1" << 735041504)].Low && N3v[l3v].Low && N3v[l3v + 1].Low && N3v[l3v + 2].Low){if(N3v[l3v].Low < N3v[l3v - 1].Low && N3v[l3v].Low < N3v[l3v - 2].Low && N3v[l3v].Low < N3v[l3v + +"1"].Low && N3v[l3v].Low < N3v[l3v + "2" * 1].Low){p2U="Fra";p2U+="ctal";p2U+=" ";p2U+="Low ";N3v[l3v][p2U + i3v.name]=1;}}}}};F4n.Studies.calculateRelativeVigor=function(d4v,Z3v){var L4q=D200;var N2U,l2U,O2U,j2U,x4v,R4v,y2U,w2U,U4v,V4v,p4v,s2U,G4v,e4v,s4v,u2U;N2U="_";N2U+="his";N2U+="t";l2U="Re";l2U+="l V";l2U+="ig";l2U+=" ";O2U="tria";O2U+="ngul";O2U+="ar";j2U="_D";j2U+="enom";x4v=Z3v.chart.scrubbed;if(x4v.length < Z3v.days + 1){Z3v.error=! !{};return;}for(R4v=Z3v.startFrom;R4v < x4v.length;R4v++){y2U="_Ra";y2U+="nge ";w2U="_";w2U+="C";w2U+="hange";w2U+=" ";U4v=x4v[R4v];if(!isNaN(U4v.Close) && !isNaN(U4v.Open)){U4v[w2U + Z3v.name]=U4v.Close - U4v.Open;}if(!isNaN(U4v.High) && !isNaN(U4v.Low)){U4v[y2U + Z3v.name]=U4v.High - U4v.Low;}}F4n.Studies.MA("triangular",4,"_Change " + Z3v.name,0,"_Numer",d4v,Z3v);F4n.Studies.MA("triangular",4,"_Range " + Z3v.name,0,j2U,d4v,Z3v);L4q.y2q();V4v=[];p4v=[];for(R4v=Math.max(Z3v.startFrom - Z3v.days,0);R4v < x4v.length;R4v++){s2U="_";s2U+="Deno";s2U+="m ";if(x4v[R4v].futureTick)break;if(x4v[R4v]["_Numer " + Z3v.name] === null && x4v[R4v][s2U + Z3v.name] === null)continue;V4v.push(x4v[R4v]["_Numer " + Z3v.name]);p4v.push(x4v[R4v]["_Denom " + Z3v.name]);if(V4v.length > Z3v.days){V4v.shift();p4v.shift();}G4v=0;e4v=+"0";for(s4v=0;s4v < V4v.length;s4v++){G4v+=V4v[s4v];}for(s4v=+"0";s4v < p4v.length;s4v++){e4v+=p4v[s4v];}if(e4v === 0){e4v=+"0.00000001";}if(R4v < Z3v.startFrom)continue;L4q.J6C(7);x4v[R4v]["Rel Vig " + Z3v.name]=L4q.c6C(G4v,e4v);}L4q.O6C(23);F4n.Studies.MA(O2U,L4q.c6C(0,"4"),l2U + Z3v.name,0,"RelVigSignal",d4v,Z3v);for(R4v=Z3v.startFrom;R4v < x4v.length;R4v++){u2U="RelVigSi";u2U+="gna";u2U+="l ";x4v[R4v][Z3v.name + "_hist"]=x4v[R4v]["Rel Vig " + Z3v.name] - x4v[R4v][u2U + Z3v.name];}Z3v.outputMap[Z3v.name + N2U]="";};F4n.Studies.calculateUlcerIndex=function(g4v,J4v){var m2U,E2U,A4v,u4v,c4v,o2U,S4v;m2U="_";m2U+="M";m2U+="A";function Q4v(P4v,K4v,D4v){var w0q=D200;var s3Z,O3Z,l3Z,H4v;w0q.O6C(0);s3Z=w0q.c6C("516371126",0);O3Z=-1780227476;l3Z=2;for(var N3Z=1;w0q.W7Z(N3Z.toString(),N3Z.toString().length,+"92748") !== s3Z;N3Z++){H4v=1;l3Z+=2;}if(w0q.W7Z(l3Z.toString(),l3Z.toString().length,63905) !== O3Z){H4v=null;}for(var t4v=K4v - P4v + +"1";t4v <= K4v;t4v++){if(t4v < +"0")continue;H4v=H4v === null?A4v[t4v][D4v]:Math.max(H4v,A4v[t4v][D4v]);}return H4v;}E2U="s";E2U+="im";E2U+="p";E2U+="le";A4v=J4v.chart.scrubbed;if(A4v.length < 2 * J4v.days - 1){J4v.error=! !{};return;}u4v=J4v.inputs.Field;if(!u4v || u4v == "field"){u4v="Close";}for(c4v=Math.max(J4v.startFrom,J4v.days - 1);c4v < A4v.length;c4v++){o2U="_P";o2U+="D";o2U+="2";o2U+=" ";A4v[c4v][o2U + J4v.name]=Math.pow(100 * (A4v[c4v][u4v] / Q4v(J4v.days,c4v,u4v) - 1),2);}F4n.Studies.MA(E2U,J4v.days,"_PD2 " + J4v.name,0,m2U,g4v,J4v);for(c4v=Math.max(J4v.startFrom,2 * (J4v.days - 1));c4v < A4v.length;c4v++){S4v=A4v[c4v]["_MA " + J4v.name];if(S4v || S4v === 0){A4v[c4v]["Result " + J4v.name]=Math.sqrt(S4v);}}};F4n.Studies.calculateChoppiness=function(W4v,X4v){var j4v,c2U,y4v,o4v,M2U;F4n.Studies.calculateStudyATR(W4v,X4v);function Y4v(k4v,z4v){var v4v,n4v;D200.y2q();v4v=Number.MAX_VALUE * -1;n4v=Number.MAX_VALUE;for(var m4v=z4v - k4v + ("1" ^ 0);m4v <= z4v;m4v++){if(m4v < 0)continue;v4v=Math.max(v4v,j4v[m4v].High);n4v=Math.min(n4v,j4v[m4v].Low);}return [n4v,v4v];}D200.y2q();j4v=X4v.chart.scrubbed;if(j4v.length < X4v.days + +"1"){X4v.error=! ![];return;}for(var O4v=Math.max(X4v.startFrom,X4v.days);O4v < j4v.length;O4v++){c2U="Sum True";c2U+=" Ra";c2U+="nge ";y4v=j4v[O4v];if(!y4v)continue;if(y4v.futureTick)break;o4v=Y4v(X4v.days,O4v);if(y4v[c2U + X4v.name]){M2U="S";M2U+="um True R";M2U+="ang";M2U+="e ";y4v["Result " + X4v.name]=100 * Math.log(y4v[M2U + X4v.name] / Math.max(0.000001,o4v[1] - o4v[0])) / Math.log(X4v.days);}else if(!isNaN(y4v)){y4v["Result " + X4v.name]=0;}}};F4n.Studies.calculateDisparity=function(f4v,I4v){var L4v,h4v,T3Z,n3Z,P3Z,Y2U,i2U,I2U,D2U,w4v;L4v=I4v.chart.scrubbed;if(L4v.length < I4v.days + 1){I4v.error=! ![];return;}h4v=I4v.inputs.Field;T3Z=14391185;n3Z=-79516795;P3Z=2;for(var G3Z=1;D200.W7Z(G3Z.toString(),G3Z.toString().length,63409) !== T3Z;G3Z++){Y2U="_";Y2U+="M";Y2U+="A";if(!h4v || h4v == "field"){h4v="Close";}F4n.Studies.MA(I4v.inputs["Moving Average Type"],I4v.days,h4v,0,Y2U,f4v,I4v);P3Z+=2;}if(D200.W7Z(P3Z.toString(),P3Z.toString().length,98605) !== n3Z){i2U="Mo";i2U+="vin";i2U+="g Average Type";I2U="M";I2U+="oving Ave";I2U+="rage T";I2U+="ype";if(~h4v && h4v === "Moving Average Type"){h4v="Close";}F4n.Studies.MA(I4v.inputs[I2U],I4v.days,h4v,"9" << 1625031904,i2U,f4v,I4v);}for(var b4v=Math.max(I4v.startFrom,I4v.days - 1);b4v < L4v.length;b4v++){D2U="_";D2U+="MA";D2U+=" ";if(!L4v[b4v])continue;w4v=L4v[b4v][D2U + I4v.name];if(w4v){L4v[b4v]["Result " + I4v.name]=100 * (L4v[b4v][h4v] / w4v - 1);}}};F4n.Studies.calculateRainbow=function(Z4v,C4v){var S2U,a4v,N4v,q4v,Z2U,M4v,T4v,r4v,E4v,l4v,i4v,J5U,C5U;S2U="C";S2U+="lo";function R5v(p5v,V5v){var U5v,s5v;U5v=Number.MAX_VALUE * -1;s5v=Number.MAX_VALUE;for(var x5v=V5v - p5v + +"1";x5v <= V5v;x5v++){if(x5v < +"0")continue;U5v=Math.max(U5v,a4v[x5v].Close);s5v=Math.min(s5v,a4v[x5v].Close);}D200.y2q();return [s5v,U5v];}S2U+="s";S2U+="e";a4v=C4v.chart.scrubbed;if(a4v.length < C4v.days + 1){C4v.error=! !1;return;}N4v=C4v.inputs.Field;if(!N4v || N4v == "field"){N4v=S2U;}q4v=N4v;for(var B4v="1" >> 719677312;B4v <= +"10";B4v++){Z2U="simp";Z2U+="l";Z2U+="e";F4n.Studies.MA(Z2U,C4v.days,q4v,0,"SMA" + B4v,Z4v,C4v);q4v="SMA" + B4v + (("6690" - 0,+"7040") == 7740?"A":(996.84,6211) <= (199.22,594.72)?"T":" ") + C4v.name;}for(var F4v=Math.max(C4v.startFrom,10);F4v < a4v.length;F4v++){if(!a4v[F4v])continue;if(a4v[F4v].futureTick)break;M4v=0;T4v=+"0";r4v=Number.MAX_VALUE * -1;E4v=Number.MAX_VALUE;for(B4v=1;B4v <= "10" - 0;B4v++){l4v=a4v[F4v]["SMA" + B4v + " " + C4v.name];if(l4v || l4v === 0){M4v+=l4v;T4v++;r4v=Math.max(r4v,l4v);E4v=Math.min(E4v,l4v);}}if(C4v.name.indexOf("Osc") > -("1" ^ 0)){i4v=R5v(C4v.inputs["HHV/LLV Lookback"],F4v);if(T4v){a4v[F4v][C4v.name + "_hist"]=("100" & 2147483647) * (a4v[F4v][N4v] - M4v / T4v) / Math.max(0.000001,i4v[1] - i4v[0]);a4v[F4v]["Over " + C4v.name]=100 * (r4v - E4v) / Math.max(0.000001,i4v[+"1"] - i4v[0]);a4v[F4v]["Under " + C4v.name]=-a4v[F4v]["Over " + C4v.name];a4v[F4v]["Zero " + C4v.name]=0;}}}if(C4v.name.indexOf("Osc") > -("1" >> 1150044320)){J5U="Zero";J5U+=" ";C5U="Positive B";C5U+="ar";C4v.outputMap={};C4v.outputMap["Over " + C4v.name]=C5U;C4v.outputMap["Under " + C4v.name]="Negative Bar";C4v.outputMap[J5U + C4v.name]="";C4v.outputMap[C4v.name + "_hist"]="";}};F4n.Studies.calculateKST=function(g5v,e5v){var K4q=D200;var r5U,H5U,h5U,B5U,J5v,A5v,c5v,u5v,Q5v,G5v,d5v,A5U,S5v;r5U="KSTSi";r5U+="gna";r5U+="l";H5U="Light Rate";H5U+=" of Change Peri";H5U+="od";h5U="Lightest";h5U+=" Rate of Change Peri";h5U+="o";h5U+="d";B5U="f";B5U+="i";B5U+="el";B5U+="d";J5v=e5v.chart.scrubbed;A5v=e5v.inputs.Field;if(!A5v || A5v == B5U){A5v="Close";}c5v={};u5v={};c5v[+"1"]=Number(e5v.inputs[h5U]);c5v[2]=Number(e5v.inputs[H5U]);K4q.O6C(22);c5v[K4q.c6C("3",2)]=Number(e5v.inputs["Heavy Rate of Change Period"]);K4q.O6C(22);c5v[K4q.c6C("4",4)]=Number(e5v.inputs["Heaviest Rate of Change Period"]);u5v[1]=Number(e5v.inputs["Lightest SMA Period"]);K4q.O6C(13);u5v[K4q.c6C(2147483647,"2")]=Number(e5v.inputs["Light SMA Period"]);K4q.O6C(0);u5v[K4q.c6C("3",0)]=Number(e5v.inputs["Heavy SMA Period"]);u5v[4]=Number(e5v.inputs["Heaviest SMA Period"]);Q5v=Number(e5v.inputs["Signal Period"]);for(G5v=e5v.startFrom;G5v < J5v.length;G5v++){if(!J5v[G5v])continue;for(d5v=1;d5v <= +"4";d5v++){if(G5v >= c5v[d5v] && J5v[G5v - c5v[d5v]] && J5v[G5v - c5v[d5v]][A5v]){J5v[G5v]["_ROC" + d5v + (894 < (982.88,578.86)?"Q":"934.03" * 1 !== (8647,8988)?" ":!0) + e5v.name]=100 * (J5v[G5v][A5v] / J5v[G5v - c5v[d5v]][A5v] - +"1");}}}for(d5v=+"1";d5v <= 4;d5v++){F4n.Studies.MA("simple",u5v[d5v],"_ROC" + d5v + (+"274.24" <= 7046?(9727,36.24) == (914.97,"928.81" - 0)?(!"",0x147e):" ":(9.85e+2,"145.02" - 0)) + e5v.name,0,"_SMA" + d5v,g5v,e5v);}for(G5v=e5v.startFrom;G5v < J5v.length;G5v++){J5v[G5v]["KST " + e5v.name]=null;for(d5v=1;d5v <= +"4";d5v++){A5U="_";A5U+="S";A5U+="M";A5U+="A";S5v=J5v[G5v][A5U + d5v + (3700 == "783" * 1?! !"":" ") + e5v.name];if(S5v || S5v === 0){K4q.O6C(12);J5v[G5v]["KST " + e5v.name]+=K4q.c6C(S5v,d5v);}}}F4n.Studies.MA("simple",Q5v,"KST " + e5v.name,+"0",r5U,g5v,e5v);};F4n.Studies.calculateSpecialK=function(o5v,P5v){D200.M2q();var K5v,X5v,D5v,y5v,j5v,H5v,t5v,K5U,f5U,x5U,Q5U,O5v;K5v=P5v.chart.scrubbed;X5v=P5v.inputs.Field;if(!X5v || X5v == "field"){X5v="Close";}D5v=P5v.inputs.Interval;if(!D5v){D5v="daily";}y5v={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,+"6",8,10,13,15,20,"39" >> 573201952,52,78,+"104"]};j5v={daily:[+"10",+"10","10" | 8,15,50,65,"75" << 1211993376,100,130,+"130",130,195],weekly:["4" - 0,5,6,8,10,13,15,20,26,+"26",+"26",+"39"]};for(H5v=P5v.startFrom;H5v < K5v.length;H5v++){if(!K5v[H5v])continue;for(t5v="0" ^ 0;t5v < y5v[D5v].length;t5v++){K5U="_";K5U+="R";K5U+="O";K5U+="C";if(H5v >= y5v[D5v][t5v] && K5v[H5v - y5v[D5v][t5v]] && K5v[H5v - y5v[D5v][t5v]][X5v]){K5v[H5v][K5U + t5v + ((679.16,9030) != (+"5279",7530)?" ":5680 < (7974,"6622" - 0)?(+"4000",4744) < 895.38?9.79e+3:791.21:("v","g")) + P5v.name]=100 * (K5v[H5v][X5v] / K5v[H5v - y5v[D5v][t5v]][X5v] - 1);}}}for(t5v=0;t5v < j5v[D5v].length;t5v++){f5U="s";f5U+="im";f5U+="ple";F4n.Studies.MA(D5v == "daily"?f5U:"exponential",j5v[D5v][t5v],"_ROC" + t5v + (7110 != 3336?" ":("B",0x8a)) + P5v.name,0,"_MA" + t5v,o5v,P5v);}for(H5v=P5v.startFrom;H5v < K5v.length;H5v++){x5U="Res";x5U+="ult ";K5v[H5v][x5U + P5v.name]=null;for(t5v=0;t5v < j5v[D5v].length;t5v++){Q5U="R";Q5U+="es";Q5U+="u";Q5U+="lt ";O5v=K5v[H5v]["_MA" + t5v + (7880 <= 8733?(4400,2460) === 8099?(469,7350) !== (5030,1318)?(+"8.34e+3",0x11d7):"C":" ":0x1435) + P5v.name];if(O5v || O5v === "0" << 875611648){D200.J6C(76);K5v[H5v][Q5U + P5v.name]+=D200.c6C(O5v,"1",4,t5v);}}}};F4n.Studies.calculateDarvas=function(i5v,I5v){var j4q=D200;var v5U,W5U,V5U,k5U,F5U,W5v,k5v,F5v,U5U,N5v,L5v,v5v,z5v,w5v,b5v,f5v,h5v,m5v,n5v,C5v,T5U,Y5v,X5U,d5U,L5U,t5U,z5U,b5U,a5U,R5U,e5U;v5U="A";v5U+="DV";W5U="A";W5U+="T";W5U+="H";V5U="Pro";V5U+="f";V5U+="i";V5U+="t";k5U="*******";k5U+="****";k5U+="****";k5U+="**";F5U="Vol";F5U+="ume % of Avg";W5v=I5v.chart.scrubbed;k5v=0;F5v=parseInt(I5v.inputs["ATH Lookback Period"],10);if(I5v.inputs["Volume Spike"]){U5U="Vol";U5U+="ume";F4n.Studies.MA("simple",F5v,U5U,+"0","ADV",i5v,I5v);}N5v=parseFloat(I5v.inputs[F5U]) / ("100" & 2147483647);L5v="n";L5v+="o";L5v+="n";L5v+="e";v5v={};z5v=null;w5v=null;b5v=null;f5v=parseFloat(I5v.inputs["Level Offset"]);h5v=!{};if(h5v){console.log(k5U);}n5v={};["Darvas","Ghost",V5U,"Loss",W5U,v5U,"Spike"].forEach(function(T5v){j4q.M2q();n5v[T5v]=T5v + ((1490,3550) < (1980,7139)?8710 > (+"857.33",465.74)?" ":+"7100" !== 7350?(!1,! ![]):0x2ef:(0xcb9,0x99b)) + I5v.name;});for(m5v=I5v.startFrom - 1;m5v > 0;m5v--){C5v=W5v[m5v];if(C5v[n5v.Darvas] || C5v[n5v.Ghost]){for(var l5v in n5v){C5v[l5v]=null;}}else {k5v=C5v[n5v.ATH] || +"0";w5v=C5v[n5v.Profit];b5v=C5v[n5v.Loss];break;}}for(m5v;m5v < W5v.length;m5v++){T5U="Volu";T5U+="me Spike";Y5v=W5v[m5v];if(!Y5v)continue;if(parseFloat(I5v.inputs["Price Minimum"]) <= W5v[k5v].Close){X5U="high/";X5U+="l";X5U+="o";X5U+="w";d5U="E";d5U+="xit F";d5U+="i";d5U+="eld";if(z5v && (!z5v.End || m5v == z5v.End + 1)){if(W5v[m5v - 1].Close > v5v.High){v5v={State:1,High:2 * v5v.High - v5v.Low,Low:v5v.High,Start:m5v,End:2 * v5v.End - v5v.Start + 1};}else {z5v=null;;}if(z5v){Y5v[n5v.Ghost]=F4n.clone(v5v);if(h5v){console.log("Ghost begin:" + Y5v.DT);}j4q.O6C(23);v5v.State=j4q.y6C(0,"0");if(W5v[v5v.End]){L5U="Gh";L5U+="ost ";L5U+="end:";W5v[v5v.End][n5v.Ghost]=F4n.clone(v5v);if(h5v){console.log(L5U + W5v[v5v.End].DT);}}z5v={Start:v5v.Start,End:v5v.End};w5v=v5v.High + f5v;if(!b5v || b5v < v5v.Low - f5v){b5v=v5v.Low - f5v;}}}Y5v[n5v.Profit]=w5v;Y5v[n5v.Loss]=b5v;if(Y5v.Close >= w5v){w5v=null;}else if(I5v.inputs[d5U] == X5U && Y5v.High >= w5v){w5v=null;}if(L5v == "none"){if(m5v == k5v + "3" * 1){if(!W5v[k5v + 2][n5v.Darvas] && !W5v[k5v + 1][n5v.Darvas] && !W5v[k5v][n5v.Darvas] && W5v[k5v].High > Y5v.High){L5v="high";;}}}if(L5v == "high"){if(Y5v.High > W5v[k5v].High){L5v="none";}else if(W5v[m5v - 3].Low < W5v[m5v - 2].Low && W5v[m5v - 3].Low < W5v[m5v - 1].Low && W5v[m5v - "3" * 1].Low < Y5v.Low){v5v={State:1,High:W5v[k5v].High,Low:W5v[m5v - 3].Low,Start:k5v};W5v[k5v][n5v.Darvas]=F4n.clone(v5v);L5v="darvas";if(h5v){console.log("Darvas begin:" + W5v[k5v].DT);}if(h5v){console.log("Darvas established:" + Y5v.DT);}if(z5v){t5U="Ghost ";t5U+="end:";if(z5v.End > m5v && W5v[z5v.Start]){Y5v[n5v.Ghost]=F4n.clone(W5v[z5v.Start][n5v.Ghost]);Y5v[n5v.Ghost].End=m5v;if(W5v[z5v.End]){z5U="Gh";z5U+="ost En";z5U+="d remov";z5U+="ed:";delete W5v[z5v.End][n5v.Ghost];if(h5v){console.log(z5U + W5v[z5v.End].DT);}}}Y5v[n5v.Ghost].State=0;W5v[z5v.Start][n5v.Ghost].End=m5v;if(h5v){console.log(t5U + Y5v.DT);}z5v=null;}w5v=v5v.High + f5v;if(!b5v || b5v < v5v.Low - f5v){b5v=v5v.Low - f5v;}}}if(L5v == "darvas"){b5U="n";b5U+="o";b5U+="n";b5U+="e";a5U="n";a5U+="o";a5U+="n";a5U+="e";if(Y5v.Close > v5v.High){z5v={};}else if(I5v.inputs["Exit Field"] == "high/low" && Y5v.High > v5v.High){z5v={};}else if(Y5v.Close < v5v.Low){L5v="none";}else if(I5v.inputs["Exit Field"] == "high/low" && Y5v.Low < v5v.Low){L5v=a5U;}if(z5v){L5v="none";}else if(L5v == b5U){w5v=null;b5v=null;}if(!I5v.inputs["Ghost Boxes"]){z5v=null;}if(L5v == "none"){for(var B5v=v5v.Start + 1;B5v < m5v;B5v++){W5v[B5v][n5v.Darvas]=F4n.clone(v5v);}v5v.State=0;v5v.End=m5v;Y5v[n5v.Darvas]=F4n.clone(v5v);if(h5v){console.log("Darvas end:" + Y5v.DT);}Y5v[n5v.ATH]=k5v;continue;}}if(b5v){R5U="Ex";R5U+="it";R5U+=" Field";if(Y5v.Close < v5v.Low || I5v.inputs[R5U] == "high/low" && Y5v.Low < v5v.Low){if(L5v == "darvas"){L5v="none";}if(Y5v.Close < b5v || I5v.inputs["Exit Field"] == "high/low" && Y5v.Low < b5v){w5v=null;b5v=null;}if(z5v){if(z5v.End > m5v && W5v[z5v.Start]){Y5v[n5v.Ghost]=F4n.clone(W5v[z5v.Start][n5v.Ghost]);Y5v[n5v.Ghost].End=m5v;if(W5v[z5v.End]){e5U="Ghost ";e5U+="End r";e5U+="emoved";e5U+=":";delete W5v[z5v.End][n5v.Ghost];if(h5v){console.log(e5U + W5v[z5v.End].DT);}}}Y5v[n5v.Ghost].State=0;W5v[z5v.Start][n5v.Ghost].End=m5v;if(h5v){console.log("Ghost end:" + Y5v.DT);}z5v=null;}}}}if(Y5v.High >= W5v[k5v].High){k5v=m5v;if(h5v){console.log("All Time High:" + Y5v.DT);}}if(m5v < 3 || Y5v.High >= W5v[m5v - +"1"].High && Y5v.High >= W5v[m5v - 2].High && Y5v.High >= W5v[m5v - ("3" >> 1066661504)].High){if(m5v - k5v >= F5v){k5v=m5v;for(var a5v=+"0";a5v < F5v;a5v++){if(m5v - a5v < 0)break;if(W5v[m5v - a5v].High > W5v[k5v].High){j4q.O6C(0);k5v=j4q.y6C(m5v,a5v);}}if(h5v){console.log("All Time High:" + Y5v.DT);}}}if(I5v.inputs[T5U] && m5v > F5v && m5v == k5v){if(Y5v[n5v.ADV] * N5v < Y5v.Volume){j4q.O6C(23);Y5v[n5v.Spike]=j4q.c6C(0,"1");if(h5v){console.log("Volume Spike:" + Y5v.DT);}}}Y5v[n5v.ATH]=k5v;}};F4n.Studies.calculateSupertrend=function(s8v,r5v){var P4q=D200;var q5v,q5U,M5v,x8v,U8v,Z5v,R8v,P5U,n5U,p5U,g5U,G5U;q5v=r5v.chart.scrubbed;if(q5v.length < r5v.days + 1){r5v.error=! !1;return;}P4q.y2q();F4n.Studies.calculateStudyATR(s8v,r5v);for(var E5v=r5v.startFrom;E5v < q5v.length;E5v++){q5U="_Direc";q5U+="tion ";M5v=q5v[E5v];if(!M5v)continue;x8v=(M5v.High + M5v.Low) / 2;U8v=r5v.inputs.Multiplier * M5v["ATR " + r5v.name];P4q.J6C(0);Z5v=P4q.c6C(x8v,U8v);P4q.J6C(1);R8v=P4q.y6C(x8v,U8v);if(E5v){P5U="_Dow";P5U+="nt";P5U+="rend";P5U+=" ";n5U="_";n5U+="Downtr";n5U+="end";n5U+=" ";if(q5v[E5v - 1] && q5v[E5v - 1].Close && q5v[E5v - 1].Close > q5v[E5v - 1]["_Uptrend " + r5v.name] && q5v[E5v - 1]["_Uptrend " + r5v.name] > Z5v){P4q.J6C(11);Z5v=q5v[P4q.c6C(1,"1",E5v)]["_Uptrend " + r5v.name];}if(q5v[E5v - 1] && q5v[E5v - +"1"].Close && q5v[E5v - 1].Close < q5v[E5v - 1]["_Downtrend " + r5v.name] && q5v[E5v - 1][n5U + r5v.name] < R8v){P4q.O6C(0);R8v=q5v[P4q.c6C(E5v,1)][P5U + r5v.name];}}M5v[q5U + r5v.name]=1;if(E5v){p5U="_";p5U+="Direction ";g5U="_D";g5U+="irection ";G5U="_Dir";G5U+="e";G5U+="ction ";P4q.O6C(77);M5v["_Direction " + r5v.name]=q5v[P4q.c6C("1",2147483647,E5v)][G5U + r5v.name];if(M5v.Close > q5v[E5v - 1]["_Downtrend " + r5v.name]){M5v[g5U + r5v.name]=1;}else if(M5v.Close < q5v[E5v - 1]["_Uptrend " + r5v.name]){M5v[p5U + r5v.name]=-1;}}M5v["_Uptrend " + r5v.name]=Z5v;M5v["_Downtrend " + r5v.name]=R8v;M5v["Trend " + r5v.name]=M5v["_Direction " + r5v.name] > "0" >> 356177120?Z5v:R8v;if(!E5v)continue;}r5v.outputMap={};r5v.outputMap["Trend " + r5v.name]="";};F4n.Studies.calculatePriceRelative=function(u8v,e8v){var d8v,G8v,A8v,p8v,J8v,V8v;d8v=e8v.chart.scrubbed;G8v=e8v.inputs["Comparison Symbol"].toUpperCase();if(!G8v){G8v=e8v.study.inputs["Comparison Symbol"];}A8v={};p8v=u8v.chart.symbol || "";p8v=p8v.replace(/[=+\-*\\%]/g,"");A8v[p8v]=d8v.slice(e8v.startFrom);if(!A8v[p8v].length){return;}if(p8v != G8v){A8v[G8v]=null;}D200.O6C(78);J8v=F4n.computeEquationChart(D200.y6C("[","]/[",p8v,G8v,"]"),A8v);V8v=+"0";for(var c8v=e8v.startFrom;c8v < d8v.length && V8v < J8v.length;c8v++){while(V8v < J8v.length && d8v[c8v].DT.getTime() > J8v[V8v].DT.getTime()){V8v++;}if(d8v[c8v].DT.getTime() < J8v[V8v].DT.getTime())continue;d8v[c8v]["Result " + e8v.name]=J8v[V8v].Close;V8v++;}};F4n.Studies.calculatePerformance=function(K8v,S8v){var y5U,w5U,g8v,H8v,a5Z,b5Z,e5Z,s5U,j5U,t8v;y5U="_M";y5U+="A Co";y5U+="mp";w5U="m";w5U+="a";g8v=S8v.chart.scrubbed;H8v=S8v.inputs["Comparison Symbol"].toUpperCase();if(!H8v){H8v=S8v.study.inputs["Comparison Symbol"];}if(!S8v.days){S8v.days=S8v.study.inputs.Period;}if(g8v.length < S8v.days + 1){S8v.error=! ![];a5Z=-809559337;b5Z=-1158298433;e5Z=2;for(var n5Z=1;D200.W7Z(n5Z.toString(),n5Z.toString().length,2548) !== a5Z;n5Z++){return;}if(D200.W7Z(e5Z.toString(),e5Z.toString().length,84982) !== b5Z){return;}}D200.y2q();F4n.Studies.MA("ma",S8v.days,"Close",0,"_MA Base",K8v,S8v);F4n.Studies.MA(w5U,S8v.days,H8v,0,y5U,K8v,S8v);for(var Q8v=S8v.startFrom;Q8v < g8v.length;Q8v++){s5U="_";s5U+="MA ";s5U+="Ba";s5U+="se ";j5U="Res";j5U+="u";j5U+="lt ";t8v=g8v[Q8v][H8v];if(t8v && (t8v.Close || t8v.Close === 0)){t8v=t8v.Close;}g8v[Q8v][j5U + S8v.name]=g8v[Q8v].Close / t8v * (g8v[Q8v]["_MA Comp " + S8v.name] / g8v[Q8v][s5U + S8v.name]);}};F4n.Studies.calculateBeta=function(o8v,D8v){var y3q=D200;var Y5U,M5U,c5U,m5U,N5U,u5U,l5U,X8v,O8v,O5U,y8v,j8v,E5U,o5U;Y5U="_";Y5U+="V";Y5U+="A";Y5U+="R";M5U="_VA";M5U+="Rn ";c5U="m";c5U+="a";m5U="_CO";m5U+="VA";m5U+="R";N5U="_M";N5U+="A";N5U+=" C";N5U+="omp";u5U="_M";u5U+="A Base";l5U="m";l5U+="a";X8v=D8v.chart.scrubbed;O8v=D8v.inputs["Comparison Symbol"].toUpperCase();if(!O8v){O8v=D8v.study.inputs["Comparison Symbol"];}if(!D8v.days){D8v.days=D8v.study.inputs.Period;}if(X8v.length < D8v.days + +"1"){D8v.error=! !"1";return;}for(var P8v=Math.max(D8v.startFrom,+"1");P8v < X8v.length;P8v++){O5U="_Comp";O5U+="Chang";O5U+="e";O5U+=" ";X8v[P8v]["_BaseChange " + D8v.name]=X8v[P8v].Close / X8v[P8v - 1].Close - 1;y8v=X8v[P8v][O8v];if(y8v && (y8v.Close || y8v.Close === 0)){y8v=y8v.Close;}y3q.O6C(0);j8v=X8v[y3q.y6C(P8v,1)][O8v];if(j8v && (j8v.Close || j8v.Close === 0)){j8v=j8v.Close;}y3q.J6C(79);X8v[P8v][O5U + D8v.name]=y3q.c6C(y8v,j8v,1);}F4n.Studies.MA(l5U,D8v.days,"_BaseChange " + D8v.name,"0" >> 1851720256,u5U,o8v,D8v);F4n.Studies.MA("ma",D8v.days,"_CompChange " + D8v.name,"0" ^ 0,N5U,o8v,D8v);for(P8v=Math.max(D8v.startFrom,D8v.days);P8v < X8v.length;P8v++){E5U="_M";E5U+="A Comp ";o5U="_MA";o5U+=" Base ";X8v[P8v]["_COVARn " + D8v.name]=(X8v[P8v]["_BaseChange " + D8v.name] - X8v[P8v][o5U + D8v.name]) * (X8v[P8v]["_CompChange " + D8v.name] - X8v[P8v][E5U + D8v.name]);X8v[P8v]["_VARn " + D8v.name]=Math.pow(X8v[P8v]["_CompChange " + D8v.name] - X8v[P8v]["_MA Comp " + D8v.name],2);}F4n.Studies.MA("ma",D8v.days,"_COVARn " + D8v.name,+"0",m5U,o8v,D8v);F4n.Studies.MA(c5U,D8v.days,M5U + D8v.name,0,Y5U,o8v,D8v);for(P8v=Math.max(D8v.startFrom,D8v.days * 2 - 1);P8v < X8v.length;P8v++){X8v[P8v]["Result " + D8v.name]=X8v[P8v]["_COVAR " + D8v.name] / X8v[P8v]["_VAR " + D8v.name];}};F4n.Studies.calculateVortex=function(h8v,W8v){var M3q=D200;var n8v,z8v,Y8v,D5U,m8v,k8v,I8v,L8v,b8v,i5U,I5U;n8v=W8v.chart.scrubbed;z8v=W8v.days;M3q.y2q();if(n8v.length < z8v + 1){W8v.error=!"";return;}Y8v={tr:0,vmPlus:0,vmMinus:0};if(W8v.startFrom > 1){Y8v=F4n.clone(n8v[W8v.startFrom - 1]["_totals " + W8v.name]);}for(var v8v=Math.max(W8v.startFrom,1);v8v < n8v.length;v8v++){D5U="_True ";D5U+="R";D5U+="an";D5U+="ge ";m8v=n8v[v8v];M3q.O6C(50);k8v=n8v[M3q.y6C("1",v8v)];I8v=Math.abs(m8v.High - k8v.Low);L8v=Math.abs(m8v.Low - k8v.High);b8v=Math.max(m8v.High,k8v.Close) - Math.min(m8v.Low,k8v.Close);Y8v.tr+=b8v;Y8v.vmPlus+=I8v;Y8v.vmMinus+=L8v;if(v8v > z8v){i5U="_VMM";i5U+="inu";i5U+="s ";I5U="_Tr";I5U+="u";I5U+="e Range ";M3q.O6C(0);Y8v.tr-=n8v[M3q.c6C(v8v,z8v)][I5U + W8v.name];M3q.J6C(0);Y8v.vmPlus-=n8v[M3q.c6C(v8v,z8v)]["_VMPlus " + W8v.name];M3q.O6C(0);Y8v.vmMinus-=n8v[M3q.y6C(v8v,z8v)][i5U + W8v.name];}m8v[D5U + W8v.name]=b8v;m8v["_VMPlus " + W8v.name]=I8v;m8v["_VMMinus " + W8v.name]=L8v;if(v8v >= z8v){m8v["+VI " + W8v.name]=Y8v.vmPlus / Y8v.tr;m8v["-VI " + W8v.name]=Y8v.vmMinus / Y8v.tr;}m8v["_totals " + W8v.name]=F4n.clone(Y8v);}};F4n.Studies.calculateBalanceOfPower=function(F8v,w8v){var C3U,Z5U,C8v,S5U,f8v;C3U="Res";C3U+="ult";Z5U="_Rati";Z5U+="o ";C8v=w8v.chart.scrubbed;if(C8v.length < w8v.days + 1){w8v.error=! ![];return;}for(var a8v=w8v.startFrom;a8v < C8v.length;a8v++){S5U="_Ratio";S5U+=" ";f8v=C8v[a8v];f8v["_Ratio " + w8v.name]=f8v.Close - f8v.Open;if(f8v.High - f8v.Low !== ("0" ^ 0)){f8v[S5U + w8v.name]/=f8v.High - f8v.Low;}}F4n.Studies.MA(w8v.inputs["Moving Average Type"],w8v.days,Z5U + w8v.name,0,C3U,F8v,w8v);};F4n.Studies.calculateTrendIntensity=function(Z8v,B8v){var f3q=D200;var J3U,i8v,T8v,r8v,E8v,N8v,l8v,q8v,M8v;J3U="T";J3U+="I";function R7v(U7v,x7v){if(Math.abs(x7v) < 0.00000001){return 100;}f3q.J6C(80);return f3q.c6C(1,"100",100,U7v,x7v);}J3U+="I";J3U+=" ";i8v=B8v.chart.scrubbed;if(i8v.length < B8v.days + 1){B8v.error=! !{};return;}T8v=B8v.inputs.Field;if(!T8v || T8v == "field"){T8v="Close";}F4n.Studies.MA("ma",B8v.days,T8v,0,"_SMA",Z8v,B8v);r8v=0;E8v=0;q8v=[];M8v=Math.ceil(B8v.days / ("2" | 2));for(N8v=Math.max(0,B8v.startFrom - M8v);N8v < i8v.length;N8v++){if(!i8v[N8v]["_SMA " + B8v.name] && i8v[N8v]["_SMA " + B8v.name] !== 0)continue;l8v=i8v[N8v][T8v] - i8v[N8v]["_SMA " + B8v.name];if(l8v < 0){f3q.O6C(81);E8v+=f3q.y6C(1,l8v);}else {r8v+=l8v;}q8v.push(l8v);if(q8v.length > M8v){l8v=q8v.shift();if(l8v < 0){f3q.O6C(81);E8v-=f3q.c6C(1,l8v);}else {r8v-=l8v;}}if(N8v < B8v.startFrom)continue;i8v[N8v]["TII " + B8v.name]=R7v(r8v,E8v);}F4n.Studies.MA("ema",B8v.inputs["Signal Period"],J3U + B8v.name,0,"Signal",Z8v,B8v);};F4n.Studies.calculateZigZag=function(y7v,p7v){var U3q=D200;var Q3U,x3U,f3U,K3U,s7v,S7v,d7v,G7v,P7v,e7v,V7v,c7v,g7v,Q7v,X7v,H3U,A3U,A7v,H7v,K7v,r3U,u7v,F3U,U3U;Q3U="C";Q3U+="l";Q3U+="ose";function D7v(O7v,o7v){var h3U,B3U;for(var j7v=O7v + +"1";j7v < o7v;j7v++){h3U="Re";h3U+="sult ";B3U="Sha";B3U+="dowR";B3U+="es";B3U+="ult ";s7v[j7v][B3U + p7v.name]=(s7v[o7v]["Result " + p7v.name] - s7v[O7v]["Result " + p7v.name]) * (j7v - O7v) / (o7v - O7v) + s7v[O7v][h3U + p7v.name];delete s7v[j7v]["Result " + p7v.name];}}x3U="H";x3U+="i";x3U+="gh";f3U="L";f3U+="o";f3U+="w";K3U="Resul";K3U+="t ";s7v=p7v.chart.scrubbed;if(!s7v || !s7v.length){return;}S7v=p7v.highLowChart;d7v=null;G7v=null;P7v=p7v.inputs["Distance(%)"];e7v=+"0";V7v=+"0";c7v=0;g7v=null;Q7v=null;X7v=0;for(var t7v=Math.min(s7v.length - 1,p7v.startFrom);t7v >= 0;t7v--){H3U="_sta";H3U+="te";H3U+=" ";X7v=t7v;if(s7v[t7v][H3U + p7v.name]){A3U="_s";A3U+="tat";A3U+="e";A3U+=" ";A7v=s7v[t7v][A3U + p7v.name];d7v=A7v[+"0"];G7v=A7v[1];e7v=A7v[2];V7v=A7v[3];c7v=A7v[+"4"];g7v=A7v[5];Q7v=A7v[6];break;}}for(var J7v=X7v;J7v < s7v.length;J7v++){H7v=s7v[J7v][S7v?"High":"Close"];K7v=s7v[J7v][S7v?"Low":"Close"];if(G7v === null || G7v < H7v){G7v=H7v;if(e7v < ("0" | 0)){d7v=K7v;}U3q.O6C(82);g7v=U3q.y6C(100,G7v,1,P7v);if(e7v > -1){if(Q7v !== null && G7v > Q7v){s7v[V7v]["Result " + p7v.name]=s7v[V7v][S7v?"Low":"Close"];D7v(c7v,V7v);U3q.J6C(13);e7v=-U3q.c6C(2147483647,"1");d7v=K7v;c7v=V7v;V7v=J7v;continue;}}else {V7v=J7v;}}if(d7v === null || d7v > K7v){d7v=K7v;if(e7v > +"0"){G7v=H7v;}U3q.J6C(83);Q7v=U3q.y6C(d7v,100,1,P7v);if(e7v < 1){if(g7v !== null && d7v < g7v){r3U="Cl";r3U+="o";r3U+="s";r3U+="e";s7v[V7v]["Result " + p7v.name]=s7v[V7v][S7v?"High":r3U];D7v(c7v,V7v);e7v=1;G7v=H7v;c7v=V7v;V7v=J7v;continue;}}else {V7v=J7v;}}}s7v[V7v][K3U + p7v.name]=s7v[V7v][S7v?e7v == 1?f3U:x3U:Q3U];s7v[V7v]["_state " + p7v.name]=[d7v,G7v,e7v,V7v,c7v,g7v,Q7v];D7v(c7v,V7v);u7v=s7v.length - 1;while(u7v > V7v){if(s7v[u7v].Close || s7v[u7v].Close === 0){F3U="C";F3U+="lo";F3U+="s";F3U+="e";U3U="H";U3U+="igh";s7v[u7v]["Result " + p7v.name]=s7v[u7v][S7v?e7v == 1?U3U:"Low":F3U];break;}u7v--;}D7v(V7v,u7v);};F4n.Studies.calculatePsychologicalLine=function(I7v,W7v){var m7v,v7v,z7v,n7v,k7v;D200.M2q();m7v=W7v.chart.scrubbed;if(m7v.length < W7v.days + 1){W7v.error=! ![];return;}v7v=[];z7v=100 / W7v.days;n7v=0;for(var Y7v=Math.max(W7v.startFrom - W7v.days,1);Y7v < m7v.length;Y7v++){if(m7v[Y7v].futureTick)break;k7v=Number(m7v[Y7v].Close > m7v[Y7v - ("1" & 2147483647)].Close);if(k7v){n7v+=z7v;}v7v.push(k7v);if(v7v.length > W7v.days){n7v-=v7v.shift() * z7v;}if(Y7v < W7v.startFrom)continue;if(!isNaN(m7v[Y7v].Close)){m7v[Y7v]["Result " + W7v.name]=n7v;}}};F4n.Studies.calculateMADev=function(l7v,L7v){var V3q=D200;var W3U,V3U,k3U,C7v,h7v,a7v,F7v,N7v,v3U,w7v,b7v,f7v;W3U="_";W3U+="his";W3U+="t";V3U="Point";V3U+="s Or Perce";V3U+="nt";k3U="C";k3U+="l";k3U+="o";k3U+="se";C7v=L7v.chart.scrubbed;if(C7v.length < L7v.days + 1){L7v.error=! ![];return;}h7v=L7v.inputs.Field;if(!h7v || h7v == "field"){h7v=k3U;}a7v=L7v.inputs[V3U];if(!a7v){a7v="Points";}F7v=L7v.inputs["Moving Average Type"];if(!F7v){F7v="exponential";}F4n.Studies.MA(F7v,L7v.days,h7v,0,"_MA",l7v,L7v);N7v=L7v.name + W3U;for(var B7v=Math.max(L7v.startFrom,L7v.days - "1" * 1);B7v < C7v.length;B7v++){v3U="_M";v3U+="A ";w7v=C7v[B7v];b7v=w7v[h7v];if(b7v && typeof b7v == "object"){b7v=b7v[L7v.subField];}f7v=w7v[v3U + L7v.name];if(f7v || f7v === 0){if(a7v == "Points"){V3q.O6C(0);w7v[N7v]=V3q.c6C(b7v,f7v);}else {V3q.O6C(84);w7v[N7v]=V3q.c6C(b7v,f7v,1,100);}}}L7v.outputMap={};L7v.outputMap[L7v.name + "_hist"]="";};F4n.Studies.calculateShinohara=function(q7v,r7v){var T7v,E7v,d3U,L3U;T7v=r7v.chart.scrubbed;D200.y2q();if(T7v.length < r7v.days + 1){r7v.error=!0;return;}E7v={weakNum:"0" - 0,weakDen:0,strongNum:+"0",strongDen:+"0"};if(r7v.startFrom > 1){E7v=F4n.clone(T7v[r7v.startFrom - 1]["_accums " + r7v.name]);}for(var i7v=r7v.startFrom;i7v < T7v.length;i7v++){d3U="_ac";d3U+="cum";d3U+="s";d3U+=" ";E7v.weakNum+=T7v[i7v].High - T7v[i7v].Close;E7v.weakDen+=T7v[i7v].Close - T7v[i7v].Low;if(i7v > 0){E7v.strongNum+=T7v[i7v].High - T7v[i7v - 1].Close;E7v.strongDen+=T7v[i7v - 1].Close - T7v[i7v].Low;}if(i7v >= r7v.days){L3U="Wea";L3U+="k";L3U+=" Ratio ";E7v.weakNum-=T7v[i7v - r7v.days].High - T7v[i7v - r7v.days].Close;E7v.weakDen-=T7v[i7v - r7v.days].Close - T7v[i7v - r7v.days].Low;T7v[i7v][L3U + r7v.name]=100 * E7v.weakNum / E7v.weakDen;if(i7v > r7v.days){E7v.strongNum-=T7v[i7v - r7v.days].High - T7v[i7v - r7v.days - 1].Close;E7v.strongDen-=T7v[i7v - r7v.days - +"1"].Close - T7v[i7v - r7v.days].Low;T7v[i7v]["Strong Ratio " + r7v.name]=100 * E7v.strongNum / E7v.strongDen;}}T7v[i7v][d3U + r7v.name]=F4n.clone(E7v);}};F4n.Studies.calculateAccumulationDistribution=function(p6v,x6v){var V6v,M7v,R6v,U6v,s6v;V6v=x6v.chart.scrubbed;for(var Z7v=x6v.startFrom;Z7v < V6v.length;Z7v++){if(!Z7v)continue;M7v=V6v[Z7v];if(M7v.futureTick)break;D200.J6C(0);R6v=V6v[D200.y6C(Z7v,1)];U6v=0;if(M7v.Close > R6v.Close){U6v=M7v.Close - Math.min(M7v.Low,R6v.Close);}else if(M7v.Close < R6v.Close){U6v=M7v.Close - Math.max(M7v.High,R6v.Close);}if(x6v.inputs["Use Volume"]){U6v*=M7v.Volume;}s6v=R6v["Result " + x6v.name];if(!s6v){s6v=0;}s6v+=U6v;if(!isNaN(M7v.Close)){M7v["Result " + x6v.name]=s6v;}}};F4n.Studies.calculateADX=function(j6v,e6v){var N3q=D200;var J6v,c6v,A6v,Q6v,t6v,H6v,K6v,d6v,a3U,u6v,S6v,X3U,t3U,z3U,D6v,P6v,X6v,b3U,R3U,e3U,y6v;F4n.Studies.calculateStudyATR(j6v,e6v);J6v=e6v.chart.scrubbed;c6v=e6v.days;A6v=parseInt(e6v.inputs["Smoothing Period"],10);if(!A6v && A6v !== 0){A6v=c6v;}if(J6v.length < e6v.days + 1){e6v.error=! ![];return;}Q6v=0;t6v=0;H6v=0;K6v=0;for(var G6v=Math.max(1,e6v.startFrom);G6v < J6v.length;G6v++){a3U="+";a3U+="D";a3U+="I";a3U+=" ";d6v=J6v[G6v];u6v=Math.max(0,d6v.High - J6v[G6v - "1" * 1].High);N3q.O6C(22);S6v=Math.max(N3q.c6C("0",0),J6v[G6v - ("1" << 1022766112)].Low - d6v.Low);if(u6v > S6v){N3q.J6C(9);S6v=N3q.c6C(614673024,"0");}else if(S6v > u6v){u6v=0;}else {u6v=S6v=0;}if(G6v <= c6v){X3U="T";X3U+="rue ";X3U+="Ra";X3U+="nge ";t6v+=u6v;H6v+=S6v;Q6v+=d6v[X3U + e6v.name];}else {t3U="_s";t3U+="mTR ";z3U="_";z3U+="sm-DM ";t6v=J6v[G6v - 1]["_sm+DM " + e6v.name] * (c6v - 1) / c6v + u6v;H6v=J6v[G6v - 1][z3U + e6v.name] * (c6v - 1) / c6v + S6v;Q6v=J6v[G6v - 1][t3U + e6v.name] * (c6v - 1) / c6v + d6v["True Range " + e6v.name];}d6v["_sm+DM " + e6v.name]=t6v;d6v["_sm-DM " + e6v.name]=H6v;d6v["_smTR " + e6v.name]=Q6v;if(G6v < c6v)continue;N3q.O6C(26);D6v=N3q.c6C(t6v,100,Q6v);N3q.O6C(26);P6v=N3q.c6C(H6v,100,Q6v);X6v=100 * Math.abs(D6v - P6v) / (D6v + P6v);d6v[a3U + e6v.name]=D6v;d6v["-DI " + e6v.name]=P6v;if(e6v.inputs.Series !== !{} && A6v){if(G6v < c6v + A6v - +"1"){if(G6v == e6v.startFrom){for(var g6v=c6v;g6v < e6v.startFrom;g6v++){b3U="+";b3U+="D";b3U+="I";b3U+=" ";K6v+=100 * Math.abs(J6v[g6v][b3U + e6v.name] - J6v[g6v]["-DI " + e6v.name]) / (J6v[g6v]["+DI " + e6v.name] + J6v[g6v]["-DI " + e6v.name]);}}K6v+=X6v;}else if(G6v == c6v + A6v - 1){R3U="A";R3U+="D";R3U+="X ";N3q.J6C(7);d6v[R3U + e6v.name]=N3q.c6C(K6v,A6v);}else {d6v["ADX " + e6v.name]=(J6v[G6v - 1]["ADX " + e6v.name] * (A6v - 1) + X6v) / A6v;}}if(e6v.inputs.Histogram){e3U="-";e3U+="DI ";y6v=e6v.name + "_hist";if(!d6v["+DI " + e6v.name] && d6v["+DI " + e6v.name] !== 0)continue;if(!d6v["-DI " + e6v.name] && d6v[e3U + e6v.name] !== 0)continue;d6v[y6v]=d6v["+DI " + e6v.name] - d6v["-DI " + e6v.name];if(e6v.inputs.Series === !1){d6v["+DI " + e6v.name]=null;d6v["-DI " + e6v.name]=null;}e6v.outputMap[y6v]="";}}};F4n.Studies.calculateAroon=function(f6v,O6v){var d3q=D200;var v6v,n6v,z6v,W6v,Y6v,T3U,I6v,m6v,o6v,L6v,b6v,h6v,w6v;v6v=O6v.chart.scrubbed;d3q.M2q();if(v6v.length < O6v.days + "1" * 1){O6v.error=! !{};return;}n6v=0;z6v=0;W6v=null;Y6v=null;if(O6v.startFrom > 0){T3U="_s";T3U+="t";T3U+="ate";T3U+=" ";I6v=v6v[O6v.startFrom - 1][T3U + O6v.name];if(I6v){d3q.O6C(12);n6v=I6v[d3q.c6C(1,"0")];z6v=I6v[1];W6v=I6v[2];Y6v=I6v[3];}}for(var k6v=O6v.startFrom;k6v < v6v.length;k6v++){o6v=v6v[k6v];if(o6v.futureTick)break;if(W6v === null){W6v=o6v.High;}if(Y6v === null){Y6v=o6v.Low;}W6v=Math.max(W6v,o6v.High);if(W6v == o6v.High){n6v=0;}else {n6v++;if(n6v > O6v.days){W6v=o6v.High;n6v=0;for(m6v=1;m6v <= O6v.days;m6v++){W6v=Math.max(W6v,v6v[k6v - m6v].High);if(W6v == v6v[k6v - m6v].High){n6v=m6v;}}}}Y6v=Math.min(Y6v,o6v.Low);if(Y6v == o6v.Low){z6v=0;}else {z6v++;if(z6v > O6v.days){Y6v=o6v.Low;d3q.J6C(13);z6v=d3q.y6C(2147483647,"0");for(m6v=1;m6v <= O6v.days;m6v++){Y6v=Math.min(Y6v,v6v[k6v - m6v].Low);if(Y6v == v6v[k6v - m6v].Low){z6v=m6v;}}}}L6v=!isNaN(o6v.High);b6v=!isNaN(o6v.Low);h6v=100 * (1 - n6v / O6v.days);if(L6v){o6v["Aroon Up " + O6v.name]=h6v;}w6v=100 * (1 - z6v / O6v.days);if(b6v){o6v["Aroon Down " + O6v.name]=w6v;}if(L6v && b6v){o6v["Aroon Oscillator " + O6v.name]=o6v["Aroon Up " + O6v.name] - o6v["Aroon Down " + O6v.name];}o6v["_state " + O6v.name]=[n6v,z6v,W6v,Y6v];}};F4n.Studies.calculateBollinger=function(F6v,C6v){var n3U,a6v;n3U="Moving Avera";n3U+="ge Typ";n3U+="e";a6v=C6v.inputs.Field;if(!a6v || a6v == "field"){a6v="Close";}F4n.Studies.MA(C6v.inputs["Moving Average Type"],C6v.days,a6v,+"0","_MA",F6v,C6v);C6v.std=new F4n.Studies.StudyDescriptor(C6v.name,"STD Dev",C6v.panel);C6v.std.chart=C6v.chart;C6v.std.startFrom=C6v.startFrom;C6v.std.days=C6v.days;C6v.std.inputs={Field:a6v,"Standard Deviations":1,Type:C6v.inputs[n3U]};C6v.std.outputs={"_STD Dev":null};F4n.Studies.calculateStandardDeviation(F6v,C6v.std);F4n.Studies.calculateGenericEnvelope(F6v,C6v,C6v.inputs["Standard Deviations"],"_MA " + C6v.name,"_STD Dev " + C6v.name);if(C6v.type == "Boll %b"){C6v.zoneOutput="%b";}};F4n.Studies.calculateCCI=function(E6v,B6v){var P3U,l6v,q3U,N6v,T6v;D200.M2q();P3U="h";P3U+="lc/3";l6v=B6v.chart.scrubbed;if(l6v.length < B6v.days + 1){B6v.error=! ![];return;}F4n.Studies.MA("simple",B6v.days,P3U,"0" - 0,"MA",E6v,B6v);for(var i6v=Math.max(B6v.startFrom,B6v.days - 1);i6v < l6v.length;i6v++){q3U="MA";q3U+=" ";N6v=l6v[i6v];if(!N6v)continue;D200.J6C(23);T6v=D200.c6C(0,"0");for(var r6v=0;r6v < B6v.days;r6v++){T6v+=Math.abs(l6v[i6v - r6v]["hlc/3"] - N6v["MA " + B6v.name]);}T6v/=B6v.days;if(Math.abs(T6v) < 0.00000001){N6v["Result " + B6v.name]=0;}else {N6v["Result " + B6v.name]=(N6v["hlc/3"] - N6v[q3U + B6v.name]) / (0.015 * T6v);}}};F4n.Studies.calculateCenterOfGravity=function(p9v,q6v){var R3q=D200;var g3U,G3U,M6v,Z6v,p3U,s9v,U9v,V9v;g3U="C";g3U+="los";g3U+="e";R3q.y2q();G3U="f";G3U+="i";G3U+="el";G3U+="d";M6v=q6v.chart.scrubbed;if(M6v.length < q6v.days){q6v.error=! ![];return;}Z6v=q6v.inputs.Field;if(!Z6v || Z6v == G3U){Z6v=g3U;}for(var R9v=Math.max(q6v.startFrom,q6v.days - ("1" << 545448576));R9v < M6v.length;R9v++){p3U="Res";p3U+="u";p3U+="lt";p3U+=" ";s9v=0;U9v=0;for(var x9v=0;x9v < q6v.days;x9v++){R3q.J6C(0);V9v=M6v[R3q.c6C(R9v,x9v)][Z6v];R3q.O6C(85);s9v-=R3q.y6C(x9v,V9v,"1");U9v+=V9v;}if(U9v){R3q.J6C(7);M6v[R9v][p3U + q6v.name]=R3q.y6C(s9v,U9v);}}};F4n.Studies.calculateChaikinMoneyFlow=function(u9v,G9v){var e9v,c9v,J9v,A9v;e9v=G9v.chart.scrubbed;if(e9v.length < G9v.days){G9v.error=! !1;return;}c9v=0;D200.M2q();J9v=0;A9v=e9v[G9v.startFrom - 1];if(A9v){if(A9v["_sumMF " + G9v.name]){c9v=A9v["_sumMF " + G9v.name];}if(A9v["_sumV " + G9v.name]){J9v=A9v["_sumV " + G9v.name];}}for(var d9v=G9v.startFrom;d9v < e9v.length;d9v++){if(e9v[d9v].High == e9v[d9v].Low){e9v[d9v]["_MFV " + G9v.name]=0;}else {e9v[d9v]["_MFV " + G9v.name]=e9v[d9v].Volume * (2 * e9v[d9v].Close - e9v[d9v].High - e9v[d9v].Low) / (e9v[d9v].High - e9v[d9v].Low);}c9v+=e9v[d9v]["_MFV " + G9v.name];J9v+=e9v[d9v].Volume;if(d9v > G9v.days - 1){c9v-=e9v[d9v - G9v.days]["_MFV " + G9v.name];J9v-=e9v[d9v - G9v.days].Volume;if(J9v){D200.O6C(7);e9v[d9v]["Result " + G9v.name]=D200.c6C(c9v,J9v);}}e9v[d9v]["_sumMF " + G9v.name]=c9v;e9v[d9v]["_sumV " + G9v.name]=J9v;}};F4n.Studies.calculateChaikinVolatility=function(H9v,S9v){var j3U,y3U,w3U,Q9v,g9v,t9v,O3U,s3U;j3U="Rate";j3U+=" O";j3U+="f Chan";j3U+="ge";y3U="_Hi";y3U+="gh-";y3U+="Lo";y3U+="w ";w3U="Moving Ave";w3U+="rage ";w3U+="T";w3U+="ype";Q9v=S9v.chart.scrubbed;if(Q9v.length < S9v.days){S9v.error=!0;return;}for(g9v=S9v.startFrom;g9v < Q9v.length;g9v++){if(Q9v[g9v].futureTick)break;Q9v[g9v]["_High-Low " + S9v.name]=Q9v[g9v].High - Q9v[g9v].Low;}F4n.Studies.MA(S9v.inputs[w3U],S9v.days,y3U + S9v.name,0,"_MA",H9v,S9v);t9v=S9v.inputs[j3U];if(!t9v){t9v=S9v.days;}for(g9v=Math.max(S9v.startFrom,t9v);g9v < Q9v.length;g9v++){O3U="_MA";O3U+=" ";s3U="_M";s3U+="A ";if(!Q9v[g9v - t9v]["_MA " + S9v.name])continue;if(Q9v[g9v].futureTick)break;Q9v[g9v]["Result " + S9v.name]=100 * (Q9v[g9v][s3U + S9v.name] / Q9v[g9v - t9v][O3U + S9v.name] - 1);}};F4n.Studies.calculateChandeForecast=function(j9v,K9v){var N3U,u3U,l3U,D9v,P9v,m3U,E3U,o3U,y9v;N3U="ti";N3U+="m";N3U+="e ";N3U+="series";u3U="Cl";u3U+="o";u3U+="se";l3U="f";l3U+="ield";D9v=K9v.chart.scrubbed;if(D9v.length < K9v.days + 1){K9v.error=!"";return;}P9v=K9v.inputs.Field;if(!P9v || P9v == l3U){P9v=u3U;}F4n.Studies.MA(N3U,K9v.days,P9v,0,"MA",j9v,K9v);for(var X9v=Math.max(1,K9v.startFrom);X9v < D9v.length;X9v++){m3U="M";m3U+="A";m3U+=" ";E3U="Re";E3U+="s";E3U+="u";E3U+="lt ";o3U="ob";o3U+="je";o3U+="ct";y9v=D9v[X9v][P9v];if(y9v && typeof y9v == o3U){y9v=y9v[K9v.subField];}D9v[X9v][E3U + K9v.name]=100 * (1 - D9v[X9v][m3U + K9v.name] / y9v);}};F4n.Studies.calculateCoppock=function(I9v,O9v){var r3q=D200;var c3U,o9v,W9v,m9v,v9v,n9v,M2Z,Y2Z,I2Z,z9v,k9v;c3U="R";c3U+="esult";o9v=O9v.chart.scrubbed;W9v=O9v.inputs.Field;if(!W9v || W9v == "field"){W9v="Close";}m9v=parseInt(O9v.inputs["Long RoC"],10);if(!m9v){r3q.J6C(9);m9v=r3q.c6C(1511559264,"14");}v9v=parseInt(O9v.inputs["Short RoC"],10);if(!v9v){v9v=11;}n9v=O9v.days;if(!n9v){n9v=10;}if(m9v < v9v){return;}if(o9v.length < Math.max(v9v,m9v,n9v) + 1){M2Z=-668415612;Y2Z=-1258410968;I2Z=2;for(var D2Z=1;r3q.v7Z(D2Z.toString(),D2Z.toString().length,8453) !== M2Z;D2Z++){O9v.error=! ![];return;}if(r3q.W7Z(I2Z.toString(),I2Z.toString().length,+"28214") !== Y2Z){O9v.error=!"1";return;}}r3q.y2q();for(var Y9v=Math.max(O9v.startFrom,m9v);Y9v < o9v.length;Y9v++){r3q.O6C(0);z9v=o9v[r3q.y6C(Y9v,v9v)][W9v];r3q.J6C(0);k9v=o9v[r3q.y6C(Y9v,m9v)][W9v];if(z9v && k9v){o9v[Y9v]["_Sum " + O9v.name]=+"100" * (o9v[Y9v][W9v] / z9v + o9v[Y9v][W9v] / k9v - 2);}}F4n.Studies.MA("weighted",n9v,"_Sum " + O9v.name,0,c3U,I9v,O9v);};F4n.Studies.calculateDetrendedPrice=function(F9v,L9v){var I3U,Y3U,M3U,h9v,w9v,C9v,i3U,b9v,a9v;I3U="M";I3U+="A";Y3U="Mo";Y3U+="v";Y3U+="in";Y3U+="g Average Type";M3U="C";M3U+="los";M3U+="e";h9v=L9v.chart.scrubbed;if(h9v.length < L9v.days + +"1"){L9v.error=! ![];return;}D200.M2q();w9v=L9v.inputs.Field;if(!w9v || w9v == "field"){w9v=M3U;}C9v=Math.floor(L9v.days / 2 + +"1");F4n.Studies.MA(L9v.inputs[Y3U],L9v.days,w9v,-C9v,I3U,F9v,L9v);for(var f9v=Math.max(L9v.days - C9v - 1,L9v.startFrom - C9v);f9v < h9v.length - C9v;f9v++){i3U="M";i3U+="A ";b9v=h9v[f9v][w9v];if(b9v && typeof b9v == "object"){b9v=b9v[L9v.subField];}a9v=h9v[f9v][i3U + L9v.name];if((b9v || b9v === 0) && (a9v || a9v === 0)){D200.J6C(0);h9v[f9v]["Result " + L9v.name]=D200.y6C(b9v,a9v);}}};F4n.Studies.calculateEaseOfMovement=function(M9v,l9v){var o3q=D200;var B9v,D3U,T9v,r9v,E9v,q9v,i9v,L7Z,d7Z,X7Z,S3U,Z3U;B9v=l9v.chart.scrubbed;if(B9v.length < l9v.days){l9v.error=! !1;return;}for(var N9v=Math.max(1,l9v.startFrom);N9v < B9v.length;N9v++){D3U="_";D3U+="EO";D3U+="M";D3U+="1 ";T9v=(B9v[N9v].High + B9v[N9v].Low) / 2;r9v=(B9v[N9v - 1].High + B9v[N9v - 1].Low) / +"2";o3q.O6C(0);E9v=o3q.c6C(T9v,r9v);q9v=B9v[N9v].Volume / 100000000 / (B9v[N9v].High - B9v[N9v].Low);o3q.J6C(7);i9v=o3q.y6C(E9v,q9v);if(!isFinite(i9v)){B9v[N9v]["_EOM1 " + l9v.name]=NaN;}else {B9v[N9v][D3U + l9v.name]=i9v;}}L7Z=1908484655;d7Z=-24331037;X7Z=+"2";for(var t7Z=1;o3q.v7Z(t7Z.toString(),t7Z.toString().length,79973) !== L7Z;t7Z++){S3U="R";S3U+="esul";S3U+="t";F4n.Studies.MA(l9v.inputs["Result"],l9v.days,S3U * l9v.name,1,"Result",M9v,l9v);X7Z+=2;}if(o3q.W7Z(X7Z.toString(),X7Z.toString().length,"43840" & 2147483647) !== d7Z){Z3U="Res";Z3U+="u";Z3U+="lt";F4n.Studies.MA(l9v.inputs[Z3U],l9v.days,"Result" * l9v.name,"1" << 1824412544,"Result",M9v,l9v);}F4n.Studies.MA(l9v.inputs["Moving Average Type"],l9v.days,"_EOM1 " + l9v.name,0,"Result",M9v,l9v);};F4n.Studies.calculateElderRay=function(U0b,Z9v){var C4U,R0b,B4U,J4U;C4U="_E";C4U+="MA";R0b=Z9v.chart.scrubbed;if(R0b.length < Z9v.days){Z9v.error=! !"1";return;}F4n.Studies.MA("exponential",Z9v.days,"Close",0,C4U,U0b,Z9v);for(var x0b=Math.max(Z9v.startFrom,Z9v.days - 1);x0b < R0b.length;x0b++){B4U="_h";B4U+="i";B4U+="s";B4U+="t2";J4U="_";J4U+="h";J4U+="is";J4U+="t1";R0b[x0b][Z9v.name + J4U]=R0b[x0b].High - R0b[x0b]["_EMA " + Z9v.name];R0b[x0b][Z9v.name + B4U]=R0b[x0b].Low - R0b[x0b]["_EMA " + Z9v.name];}Z9v.outputMap={};Z9v.outputMap[Z9v.name + "_hist1"]="";Z9v.outputMap[Z9v.name + "_hist2"]="";};F4n.Studies.calculateElderForce=function(e0b,s0b){var V0b;V0b=s0b.chart.scrubbed;if(V0b.length < s0b.days){s0b.error=!0;return;}for(var p0b=Math.max(+"1",s0b.startFrom);p0b < V0b.length;p0b++){V0b[p0b]["_EF1 " + s0b.name]=V0b[p0b].Volume * (V0b[p0b].Close - V0b[p0b - 1].Close);}F4n.Studies.MA("exponential",s0b.days,"_EF1 " + s0b.name,0,"Result",e0b,s0b);};F4n.Studies.calculateEhlerFisher=function(Q0b,d0b){var J0b,G0b,A0b,H4U,h4U,u0b,S0b;J0b=d0b.chart.scrubbed;if(J0b.length < d0b.days + ("1" & 2147483647)){d0b.error=! !1;return;}G0b=0;D200.M2q();function g0b(X0b,P0b){var H0b,K0b,D0b;D200.y2q();H0b=Number.MAX_VALUE;K0b=Number.MAX_VALUE * -1;for(var t0b=P0b - X0b + 1;t0b <= P0b;t0b++){D0b=(J0b[t0b].High + J0b[t0b].Low) / 2;H0b=Math.min(H0b,D0b);K0b=Math.max(K0b,D0b);}return [H0b,K0b];}if(d0b.startFrom > 1){G0b=J0b[d0b.startFrom - 1]["_n " + d0b.name];}for(var c0b=d0b.startFrom;c0b < J0b.length;c0b++){A0b=J0b[c0b];if(A0b.futureTick)break;if(c0b < d0b.days - 1){H4U="EF";H4U+=" Tri";H4U+="gg";H4U+="er ";h4U="E";h4U+="F";h4U+=" ";A0b[h4U + d0b.name]=A0b[H4U + d0b.name]=G0b;continue;}u0b=g0b(d0b.days,c0b);G0b=0.33 * 2 * (((J0b[c0b].High + J0b[c0b].Low) / +"2" - u0b[0]) / Math.max(0.000001,u0b[1] - u0b[0]) - +"0.5") + 0.67 * G0b;if(G0b > 0){G0b=Math.min(G0b,0.9999);}else if(G0b < 0){G0b=Math.max(G0b,-0.9999);}S0b=c0b?J0b[c0b - +"1"]["EF " + d0b.name]:0;A0b["EF " + d0b.name]=0.5 * Math.log((1 + G0b) / ("1" * 1 - G0b)) + "0.5" * 1 * S0b;A0b["EF Trigger " + d0b.name]=S0b;A0b["_n " + d0b.name]=G0b;}};F4n.Studies.calculateFractalChaos=function(z0b,o0b){var j0b,Y0b,m0b,W0b,r4U,A4U,v0b,n0b,O0b;j0b=o0b.chart.scrubbed;Y0b=0;m0b=0;W0b=0;if(o0b.startFrom && o0b.type == "Fractal Chaos Bands"){Y0b=j0b[o0b.startFrom - 1]["Fractal High " + o0b.name];m0b=j0b[o0b.startFrom - 1]["Fractal Low " + o0b.name];}for(var y0b=Math.max(4,o0b.startFrom);y0b < j0b.length;y0b++){r4U="Frac";r4U+="tal Chaos Bands";A4U="Resu";A4U+="lt ";if(j0b[y0b].futureTick)break;v0b=!isNaN(j0b[y0b].High);n0b=!isNaN(j0b[y0b].Low);if(v0b || n0b){j0b[y0b][A4U + o0b.name]=+"0";}W0b=0;for(O0b=0;O0b <= y0b;O0b++){if(!j0b[y0b - O0b])break;if(j0b[y0b - O0b].High > j0b[y0b - 2].High)break;if(O0b < 2 && j0b[y0b - O0b].High == j0b[y0b - 2].High)break;if(j0b[y0b - O0b].High < j0b[y0b - 2].High){W0b++;}if(W0b == 4){Y0b=j0b[y0b - 2].High;break;}}if(o0b.type == "Fractal Chaos Bands"){if(v0b){j0b[y0b]["Fractal High " + o0b.name]=Y0b > 0?Y0b:null;}}else if(W0b == 4){j0b[y0b]["Result " + o0b.name]=1;}W0b=+"0";for(O0b=0;O0b <= y0b;O0b++){if(!j0b[y0b - O0b])break;if(j0b[y0b - O0b].Low < j0b[y0b - 2].Low)break;if(O0b < 2 && j0b[y0b - O0b].Low == j0b[y0b - 2].Low)break;if(j0b[y0b - O0b].Low > j0b[y0b - ("2" >> 1477041344)].Low){W0b++;}if(W0b == 4){m0b=j0b[y0b - 2].Low;break;}}if(o0b.type == r4U){if(n0b){j0b[y0b]["Fractal Low " + o0b.name]=m0b > 0?m0b:null;}}else if(W0b == 4){j0b[y0b]["Result " + o0b.name]=-1;}}};F4n.Studies.calculateGenericEnvelope=function(i0b,k0b,B0b,b0b,N0b,l0b){var i3q=D200;var f4U,K4U,a0b,f0b,F4U,U4U,Q4U,x4U,I0b,h0b,L0b,w0b,C0b;f4U="Clo";f4U+="se";K4U="C";K4U+="lose";if(!B0b){B0b=0;}if(!l0b){l0b=0;}if(!b0b || b0b == "field"){b0b=K4U;}if(!N0b){N0b=b0b;}a0b=k0b.chart.scrubbed;f0b=k0b.inputs.Field;if(!f0b || f0b === "field"){f0b=f4U;}for(var F0b=k0b.startFrom;a0b && F0b < a0b.length;F0b++){F4U="Ban";F4U+="dwi";F4U+="dth ";U4U=" ";U4U+="Top ";Q4U="ob";Q4U+="ject";x4U="ob";x4U+="j";x4U+="ec";x4U+="t";I0b=a0b[F0b];if(!I0b)continue;if(!I0b[b0b])continue;h0b=I0b[f0b];if(h0b && typeof h0b == x4U){h0b=h0b.Close;}L0b=I0b[b0b];if(L0b && typeof L0b == Q4U){L0b=L0b[k0b.subField];}w0b=I0b[N0b];if(w0b && typeof w0b == "object"){w0b=w0b[k0b.subField];}i3q.J6C(49);C0b=i3q.y6C(B0b,w0b,l0b);i3q.O6C(1);I0b[k0b.type + U4U + k0b.name]=i3q.y6C(L0b,C0b);i3q.O6C(0);I0b[k0b.type + " Bottom " + k0b.name]=i3q.y6C(L0b,C0b);I0b[k0b.type + " Median " + k0b.name]=L0b;I0b[F4U + k0b.name]=L0b?("200" << 289065120) * C0b / L0b:0;i3q.J6C(86);I0b["%b " + k0b.name]=i3q.c6C("50",h0b,C0b,421619424,1,L0b);}};F4n.Studies.calculateHistoricalVolatility=function(U1b,T0b){var v4U,W4U,V4U,r0b,Z0b,R1b,e1b,M0b,E0b,L4U,s1b,V1b,p1b;v4U="Days ";v4U+="P";v4U+="er Yea";v4U+="r";W4U="Standard D";W4U+="eviatio";W4U+="ns";V4U="Clo";V4U+="s";V4U+="e";r0b=T0b.chart.scrubbed;if(r0b.length < T0b.days + +"1"){T0b.error=! !{};return;}Z0b=T0b.inputs.Field;if(!Z0b || Z0b == "field"){Z0b=V4U;}function d1b(G1b){var P0q=D200;var k4U;k4U="we";k4U+="ek";if(isNaN(G1b)){P0q.J6C(13);G1b=P0q.y6C(2147483647,"365");}if(U1b.layout.interval == "day"){return G1b;}else if(U1b.layout.interval == k4U){return 52;}else if(U1b.layout.interval == "month"){P0q.O6C(0);return P0q.y6C("12",0);}return G1b;}R1b=T0b.inputs[W4U];if(R1b < 0){R1b=+"1";}e1b=100 * Math.sqrt(d1b(T0b.inputs[v4U])) * R1b;M0b=[];E0b=0;if(T0b.startFrom > 1){E0b=r0b[T0b.startFrom - ("1" | 1)]["_state " + T0b.name][0];M0b=r0b[T0b.startFrom - 1]["_state " + T0b.name]["1" * 1].slice();}for(var q0b=Math.max("1" << 164781184,T0b.startFrom);q0b < r0b.length;q0b++){L4U="_";L4U+="s";L4U+="tate ";D200.O6C(0);s1b=r0b[D200.y6C(q0b,1)][Z0b];if(s1b){V1b=Math.log(r0b[q0b][Z0b] / s1b);M0b.push(V1b);E0b+=V1b;if(q0b >= T0b.days){p1b=+"0";E0b/=T0b.days;for(var x1b=0;x1b < M0b.length;x1b++){p1b+=Math.pow(M0b[x1b] - E0b,+"2");}E0b*=T0b.days;E0b-=M0b.shift();r0b[q0b]["Result " + T0b.name]=Math.sqrt(p1b / T0b.days) * e1b;}}r0b[q0b][L4U + T0b.name]=[E0b,M0b.slice()];}};F4n.Studies.calculateIchimoku=function(D1b,c1b){var d4U,A1b,u1b,J1b,S1b,X4U,t1b,H1b,K1b,t4U,z4U,b4U,a4U,g1b;d4U="Base Line Pe";d4U+="riod";function Q1b(O1b,j1b){var X1b,y1b;X1b=Number.MAX_VALUE;y1b=Number.MAX_VALUE * -1;for(var P1b=j1b - O1b + 1;P1b <= j1b;P1b++){if(P1b < 0)continue;X1b=Math.min(X1b,A1b[P1b].Low);y1b=Math.max(y1b,A1b[P1b].High);}D200.y2q();return [X1b,y1b];}A1b=c1b.chart.scrubbed;u1b={Base:Number(c1b.inputs[d4U]),Conv:Number(c1b.inputs["Conversion Line Period"]),LeadB:Number(c1b.inputs["Leading Span B Period"]),Lag:Number(c1b.inputs["Lagging Span Period"])};for(J1b=c1b.startFrom;J1b < A1b.length;J1b++){X4U="Base";X4U+=" Line ";if(!A1b[J1b])continue;S1b=Q1b(u1b.Conv,J1b);A1b[J1b]["Conversion Line " + c1b.name]=(S1b[1] + S1b[0]) / 2;S1b=Q1b(u1b.Base,J1b);A1b[J1b][X4U + c1b.name]=(S1b[1] + S1b[0]) / ("2" << 947017472);if(J1b < u1b.Lag)continue;A1b[J1b - u1b.Lag]["Lagging Span " + c1b.name]=A1b[J1b].Close;}t1b=[];for(J1b=Math.max(0,c1b.startFrom - u1b.Base);J1b < A1b.length;J1b++){S1b=Q1b(u1b.LeadB,J1b);H1b=(A1b[J1b]["Conversion Line " + c1b.name] + A1b[J1b]["Base Line " + c1b.name]) / 2;K1b=(S1b[1] + S1b["0" ^ 0]) / 2;if(A1b[J1b + u1b.Base]){t4U="Lead";t4U+="ing ";t4U+="Span B ";z4U="Lea";z4U+="ding Sp";z4U+="an A ";A1b[J1b + u1b.Base][z4U + c1b.name]=H1b;A1b[J1b + u1b.Base][t4U + c1b.name]=K1b;}else {b4U="Leading";b4U+=" Span";b4U+=" B";b4U+=" ";a4U="L";a4U+="eading";a4U+=" Sp";a4U+="an A ";g1b={};g1b[a4U + c1b.name]=H1b;g1b[b4U + c1b.name]=K1b;t1b.push(g1b);}}c1b.appendFutureTicks(D1b,t1b);};F4n.Studies.calculateKlinger=function(k1b,W1b){var m3q=D200;var n4U,e4U,R4U,Y1b,I1b,m1b,L1b,v1b,w1b,n1b,b1b,h1b,o1b,T4U,z1b;n4U="_";n4U+="EMA-S";e4U="_EM";e4U+="A-";e4U+="L";e4U+=" ";R4U="Long C";R4U+="ycl";R4U+="e";Y1b=W1b.chart.scrubbed;I1b=Number(W1b.inputs["Short Cycle"]);m1b=Number(W1b.inputs[R4U]);if(Y1b.length < Math.max(I1b,m1b) + 1){W1b.error=! !"1";return;}L1b=W1b.name + "_hist";v1b="Klinger " + W1b.name;w1b="KlingerSignal " + W1b.name;n1b="_SV " + W1b.name;b1b="_EMA-S " + W1b.name;h1b=e4U + W1b.name;for(o1b=Math.max(1,W1b.startFrom);o1b < Y1b.length;o1b++){T4U="hlc/";T4U+="3";z1b=Y1b[o1b].Volume;if(Y1b[o1b]["hlc/3"] < Y1b[o1b - 1][T4U]){z1b*=-1;}if(z1b){Y1b[o1b][n1b]=z1b;}}m3q.J6C(23);F4n.Studies.MA("exponential",I1b,n1b,m3q.c6C(0,"0"),n4U,k1b,W1b);m3q.J6C(9);F4n.Studies.MA("exponential",m1b,n1b,m3q.y6C(431119808,"0"),"_EMA-L",k1b,W1b);for(o1b=Math.max(m1b,W1b.startFrom);o1b < Y1b.length;o1b++){if(Y1b[o1b].futureTick || Y1b[o1b][b1b] === null || Y1b[o1b][h1b] === null)break;Y1b[o1b][v1b]=Y1b[o1b][b1b] - Y1b[o1b][h1b];}F4n.Studies.MA("exponential",Number(W1b.inputs["Signal Periods"]),v1b,0,"KlingerSignal",k1b,W1b);for(o1b=W1b.startFrom;o1b < Y1b.length;o1b++){Y1b[o1b][L1b]=Y1b[o1b][v1b] - Y1b[o1b][w1b];}W1b.outputMap[L1b]="";};F4n.Studies.calculateKeltner=function(C1b,f1b){var P4U;P4U="M";D200.y2q();P4U+="A";F4n.Studies.MA(f1b.inputs["Moving Average Type"],f1b.days,"Close",0,P4U,C1b,f1b);F4n.Studies.calculateStudyATR(C1b,f1b);F4n.Studies.calculateGenericEnvelope(C1b,f1b,f1b.inputs.Shift,"MA " + f1b.name,"ATR " + f1b.name);};F4n.Studies.calculateMACD=function(q1b,a1b){var X3q=D200;var q4U,l1b,i1b,F1b,T1b,r1b,N1b,B1b,M1b,G4U,E1b,Z1b,R2b;q4U="_MA";q4U+="CD";q4U+="1";l1b=a1b.chart.scrubbed;i1b=a1b.inputs;F1b=a1b.name;if(!a1b.macd1Days){a1b.macd1Days=parseFloat(i1b["Fast MA Period"]);}if(!a1b.macd2Days){a1b.macd2Days=parseFloat(i1b["Slow MA Period"]);}if(!a1b.signalDays){a1b.signalDays=parseFloat(i1b["Signal Period"]);}if(!a1b.days){a1b.days=Math.max(a1b.macd1Days,a1b.macd2Days,a1b.signalDays);}if(l1b.length < a1b.days + 1){a1b.error=!0;return;}T1b=a1b.inputs.Field;if(!T1b || T1b == "field"){T1b="Close";}r1b=i1b["Moving Average Type"];if(!r1b){r1b="exponential";}F4n.Studies.MA(r1b,a1b.macd1Days,T1b,"0" ^ 0,q4U,q1b,a1b);F4n.Studies.MA(r1b,a1b.macd2Days,T1b,+"0","_MACD2",q1b,a1b);M1b=Math.max(a1b.startFrom,a1b.days - 1);for(N1b=M1b;N1b < l1b.length;N1b++){G4U="_MAC";G4U+="D1 ";B1b=l1b[N1b];if((B1b["_MACD1 " + F1b] || B1b["_MACD1 " + F1b] === "0" - 0) && (B1b["_MACD2 " + F1b] || B1b["_MACD2 " + F1b] === 0)){X3q.J6C(1);B1b[X3q.y6C("MACD ",F1b)]=B1b[G4U + F1b] - B1b["_MACD2 " + F1b];}}E1b=i1b["Signal MA Type"];if(!E1b){E1b="exponential";}X3q.y2q();F4n.Studies.MA(E1b,a1b.signalDays,"MACD " + F1b,0,"Signal",q1b,a1b);X3q.J6C(1);Z1b=X3q.y6C(F1b,"_hist");for(N1b=M1b;N1b < l1b.length;N1b++){B1b=l1b[N1b];X3q.O6C(1);R2b=B1b[X3q.y6C("Signal ",F1b)];if(!R2b && R2b !== 0)continue;B1b[Z1b]=B1b["MACD " + F1b] - B1b["Signal " + F1b];}a1b.outputMap[Z1b]="";};F4n.Studies.calculateMAEnvelope=function(p2b,x2b){var g4U,U2b,s2b,V2b,w4U,p4U,y4U,j4U;g4U="Mov";g4U+="ing Average Type";U2b=x2b.inputs.Field;if(!U2b || U2b == "field"){U2b="Close";}F4n.Studies.MA(x2b.inputs[g4U],x2b.days,U2b,0,"MA",p2b,x2b);s2b=x2b.inputs["Shift Type"];V2b=x2b.inputs.Shift;D200.M2q();if(!s2b){w4U="S";w4U+="hift Pe";w4U+="rcentage";p4U="perce";p4U+="n";p4U+="t";s2b=p4U;V2b=x2b.inputs[w4U];}if(s2b == "percent"){y4U="M";y4U+="A";y4U+=" ";D200.O6C(7);F4n.Studies.calculateGenericEnvelope(p2b,x2b,D200.y6C(V2b,100),y4U + x2b.name);}else if(s2b == "points"){j4U="MA";j4U+=" ";F4n.Studies.calculateGenericEnvelope(p2b,x2b,null,j4U + x2b.name,null,Number(V2b));}};F4n.Studies.calculateMassIndex=function(A2b,e2b){var l4U,O4U,s4U,d2b,c2b,u4U,N4U;l4U="_EM";l4U+="A";l4U+="2";O4U="_";O4U+="EM";O4U+="A";O4U+=" ";D200.y2q();s4U="_";s4U+="High-Low ";d2b=e2b.chart.scrubbed;if(d2b.length < Math.max(9,e2b.days + +"1")){e2b.error=! !1;return;}for(var J2b=e2b.startFrom;J2b < d2b.length;J2b++){d2b[J2b]["_High-Low " + e2b.name]=d2b[J2b].High - d2b[J2b].Low;}F4n.Studies.MA("exponential",9,s4U + e2b.name,0,"_EMA",A2b,e2b);F4n.Studies.MA("exponential",9,O4U + e2b.name,"0" ^ 0,l4U,A2b,e2b);c2b=0;if(d2b[e2b.startFrom - 1] && d2b[e2b.startFrom - 1]["_total " + e2b.name]){c2b=d2b[e2b.startFrom - 1]["_total " + e2b.name];}for(var G2b=Math.max(17,e2b.startFrom);G2b < d2b.length;G2b++){u4U="_";u4U+="EMA";u4U+=" ";c2b+=d2b[G2b][u4U + e2b.name] / d2b[G2b]["_EMA2 " + e2b.name];if(G2b >= 17 + e2b.days - 1){N4U="_";N4U+="EM";N4U+="A ";d2b[G2b]["Result " + e2b.name]=c2b;c2b-=d2b[G2b - e2b.days + ("1" << 1394067232)][N4U + e2b.name] / d2b[G2b - e2b.days + 1]["_EMA2 " + e2b.name];}d2b[G2b]["_total " + e2b.name]=c2b;}};F4n.Studies.calculateMaxHighMinLow=function(X2b,u2b){var T3q=D200;var S2b,P2b,D2b,t2b,Q2b,H2b,o4U,K2b,E4U,m4U;S2b=u2b.chart.scrubbed;P2b=u2b.days;D2b=u2b.days;if(u2b.inputs["High Period"]){P2b=u2b.inputs["High Period"];}if(u2b.inputs["Low Period"]){D2b=u2b.inputs["Low Period"];}if(S2b.length < Math.max(P2b,D2b) + ("1" ^ 0)){u2b.error=! !{};return;}t2b=Number.MAX_VALUE;Q2b=Number.MAX_VALUE * -1;if(u2b.startFrom > 1){for(H2b=1;H2b < P2b;H2b++){Q2b=Math.max(Q2b,S2b[u2b.startFrom - H2b].High);}for(H2b="1" * 1;H2b < D2b;H2b++){t2b=Math.min(t2b,S2b[u2b.startFrom - H2b].Low);}}for(var g2b=Math.max(0,u2b.startFrom - 1);g2b < S2b.length;g2b++){o4U="H";o4U+="H";o4U+="V";Q2b=Math.max(Q2b,S2b[g2b].High);t2b=Math.min(t2b,S2b[g2b].Low);if(g2b >= P2b){if(S2b[g2b - P2b].High == Q2b){Q2b=S2b[g2b].High;for(H2b=1;H2b < P2b;H2b++){Q2b=Math.max(Q2b,S2b[g2b - H2b].High);}}}if(g2b >= D2b){if(S2b[g2b - D2b].Low == t2b){t2b=S2b[g2b].Low;for(H2b=1;H2b < D2b;H2b++){t2b=Math.min(t2b,S2b[g2b - H2b].Low);}}}K2b=0;if(u2b.type == o4U){K2b=Q2b;}else if(u2b.type == "LLV"){K2b=t2b;}else if(u2b.type == "Donchian Width"){T3q.O6C(0);K2b=T3q.c6C(Q2b,t2b);}else if(u2b.type == "GAPO" || u2b.type == "Gopala"){K2b=Math.log(Q2b - t2b) / Math.log(D2b);}else if(u2b.type == "VT HZ Filter"){E4U="_MHM";E4U+="L";E4U+=" ";T3q.J6C(0);K2b=T3q.c6C(Q2b,t2b);S2b[g2b][E4U + u2b.name]=K2b;continue;}else if(u2b.type == "Williams %R"){K2b=-100 * (Q2b - S2b[g2b].Close) / (Q2b - t2b);S2b[g2b]["Result " + u2b.name]=K2b;continue;}if(g2b == S2b.length - 1)break;if(!S2b[g2b + 1].futureTick){if(u2b.type == "Donchian Channel"){m4U="Donchian";m4U+=" M";m4U+="edian ";T3q.J6C(1);S2b[T3q.y6C(g2b,1)]["Donchian High " + u2b.name]=Q2b;T3q.J6C(10);S2b[T3q.y6C(1,"1",g2b)]["Donchian Low " + u2b.name]=t2b;T3q.J6C(1);S2b[T3q.y6C(g2b,1)][m4U + u2b.name]=T3q.y6C(Q2b,2,t2b,T3q.O6C(2));}else {T3q.O6C(1);S2b[T3q.c6C(g2b,1)]["Result " + u2b.name]=K2b;}}}};F4n.Studies.calculateMoneyFlowIndex=function(b2b,O2b){var B3q=D200;var j2b,W2b,o2b,m2b,k2b,v2b,I2b,n2b,L2b,Y2b,z2b;j2b=O2b.chart.scrubbed;if(j2b.length < O2b.days + 1){O2b.error=! !{};return;}W2b=0;o2b=0;m2b=j2b[O2b.startFrom - 1];B3q.M2q();k2b="_rawMF " + O2b.name;v2b="_cumMF " + O2b.name;I2b="Result " + O2b.name;if(m2b && m2b[v2b]){W2b=m2b[v2b][0];o2b=m2b[v2b][1];}for(var y2b=O2b.startFrom;y2b < j2b.length;y2b++){n2b=j2b[y2b]["hlc/3"];if(y2b > 0 && !j2b[y2b].futureTick){B3q.O6C(0);L2b=j2b[B3q.c6C(y2b,1)]["hlc/3"];Y2b=n2b * j2b[y2b].Volume;if(n2b > L2b){W2b+=Y2b;}else if(n2b < L2b){Y2b*=-1;o2b-=Y2b;}else {Y2b=0;}if(y2b > O2b.days){z2b=j2b[y2b - O2b.days][k2b];if(z2b > 0){W2b-=z2b;}else {o2b+=z2b;}if(o2b === +"0"){j2b[y2b][I2b]=100;}else if(j2b[y2b].Volume){B3q.J6C(87);j2b[y2b][I2b]=B3q.c6C(100,o2b,"100",W2b,1,1);}}j2b[y2b][k2b]=Y2b;j2b[y2b][v2b]=[W2b,o2b];}}};F4n.Studies.calculateOnBalanceVolume=function(T2b,f2b){var b3q=D200;var c4U,h2b,C2b,i2b,F2b,B2b,a2b,N2b,M4U,l2b;c4U="f";c4U+="iel";c4U+="d";h2b=f2b.inputs.Field;if(!h2b || h2b == c4U){h2b="Close";}C2b=f2b.inputs["Min Tick Value"];i2b=! !0;if(!C2b && C2b !== 0){i2b=!0;C2b=0;}F2b=f2b.chart.scrubbed;b3q.y2q();b3q.J6C(9);B2b=b3q.y6C(1861502432,"0");for(var w2b=f2b.startFrom;w2b < F2b.length;w2b++){M4U="R";M4U+="es";M4U+="ult";M4U+=" ";a2b=F2b[w2b];if(!w2b || !a2b[h2b])continue;if(F2b[w2b - 1][h2b]){b3q.O6C(0);N2b=F2b[b3q.y6C(w2b,1)];}if(!N2b)continue;if(a2b[h2b] - N2b[h2b] > C2b){B2b=+"1";}else if(N2b[h2b] - a2b[h2b] > C2b){B2b=-1;}else if(i2b){B2b=0;}l2b=N2b["Result " + f2b.name];if(!l2b){l2b=0;}l2b+=a2b.Volume * B2b;a2b[M4U + f2b.name]=l2b;}};F4n.Studies.calculatePrettyGoodOscillator=function(M2b,r2b){var E2b;E2b=r2b.chart.scrubbed;if(E2b.length < r2b.days + 1){r2b.error=! !{};return;}F4n.Studies.MA("exponential",r2b.days,"trueRange",0,"_EMA",M2b,r2b);F4n.Studies.MA("simple",r2b.days,"Close",0,"_SMA",M2b,r2b);for(var q2b=Math.max(1,r2b.startFrom);q2b < E2b.length;q2b++){if(!E2b[q2b]["_SMA " + r2b.name] || !E2b[q2b]["_EMA " + r2b.name])continue;E2b[q2b]["Result " + r2b.name]=(E2b[q2b].Close - E2b[q2b]["_SMA " + r2b.name]) / E2b[q2b]["_EMA " + r2b.name];}};F4n.Studies.calculatePriceOscillator=function(c3b,Z2b){var s3q=D200;var D4U,i4U,Y4U,p3b,J3b,e3b,x3b,U3b,I4U,d3b,R3b,s3b,V3b,S4U;D4U="_Sh";D4U+="ort ";D4U+="MA";i4U="P";i4U+="er";i4U+="ce";i4U+="nt";Y4U="Short";Y4U+=" Cycle";p3b=Z2b.chart.scrubbed;J3b=Number(Z2b.inputs[Y4U]);e3b=Number(Z2b.inputs["Long Cycle"]);if(p3b.length < Math.max(J3b,e3b) + 1){Z2b.error=!"";return;}x3b=Z2b.inputs.Field;U3b=Z2b.inputs["Moving Average Type"];if(!U3b){U3b="simple";}if(!x3b || x3b == "field"){x3b="Close";}if(Z2b.parameters.isVolume){I4U="e";I4U+="xpon";I4U+="enti";I4U+="al";x3b="Volume";U3b=I4U;}d3b=Z2b.inputs["Points Or Percent"];if(!d3b){d3b=i4U;}F4n.Studies.MA(U3b,J3b,x3b,+"0",D4U,c3b,Z2b);F4n.Studies.MA(U3b,e3b,x3b,0,"_Long MA",c3b,Z2b);for(var G3b=Math.max(e3b,Z2b.startFrom);G3b < p3b.length;G3b++){R3b=p3b[G3b];if(!R3b)continue;s3b=R3b["_Short MA " + Z2b.name];V3b=R3b["_Long MA " + Z2b.name];if((s3b || s3b === 0) && (V3b || V3b === 0)){S4U="Incr";S4U+="easing Bar";if(d3b == "Points"){s3q.O6C(0);R3b["Result " + Z2b.name]=s3q.c6C(s3b,V3b);}else {s3q.O6C(84);R3b["Result " + Z2b.name]=s3q.c6C(s3b,V3b,1,100);}if(Z2b.outputs[S4U]){R3b[Z2b.name + "_hist"]=R3b["Result " + Z2b.name];Z2b.outputMap={};Z2b.outputMap[Z2b.name + "_hist"]="";}}}};F4n.Studies.calculatePriceVolumeTrend=function(t3b,g3b){var S3b,A3b,Q3b;S3b=g3b.inputs.Field;if(!S3b || S3b == "field"){S3b="Close";}A3b=g3b.chart.scrubbed;Q3b=0;if(g3b.startFrom > 1){Q3b=A3b[g3b.startFrom - ("1" << 514044480)]["Result " + g3b.name];}for(var u3b=Math.max("1" >> 1156732832,g3b.startFrom);u3b < A3b.length;u3b++){if(!A3b[u3b][S3b])continue;if(!A3b[u3b - 1][S3b])continue;Q3b+=A3b[u3b].Volume * (A3b[u3b][S3b] - A3b[u3b - 1][S3b]) / A3b[u3b - 1][S3b];A3b[u3b]["Result " + g3b.name]=Q3b;}};F4n.Studies.calculatePrimeNumber=function(n3b,P3b){var L3q=D200;var X3b,o3b,D3b,K3b,H3b,y3b,m3b,v3b;function j3b(z3b){var I3b;L3q.M2q();if(z3b <= 0){return !1;}else if(z3b != Math.floor(z3b)){return !{};}else if(X3b[z3b] === ! ![] || X3b[z3b] === !"1"){return X3b[z3b];}I3b=parseInt(Math.sqrt(z3b),10);for(var k3b=2;k3b <= I3b;k3b++){if(z3b % k3b === 0){X3b[z3b]=!{};return !{};}}X3b[z3b]=! !{};return ! ![];}X3b=[];o3b=P3b.chart.scrubbed;for(var O3b=P3b.startFrom;O3b < o3b.length;O3b++){D3b=o3b[O3b];if(!D3b)continue;K3b=D3b.High;if(!isNaN(K3b)){for(var W3b=0;K3b > 0 && K3b <= 10;W3b++){K3b*=10;}if(j3b(K3b)){L3q.J6C(22);K3b+=L3q.c6C("2",2);}K3b=Math.ceil(K3b);if(K3b % 2 === 0){K3b++;}while(!j3b(K3b)){K3b+=2;}K3b/=Math.pow(+"10",W3b);}H3b=D3b.Low;if(!isNaN(H3b)){for(var Y3b=0;H3b > ("0" ^ 0) && H3b <= 10;Y3b++){L3q.J6C(27);H3b*=L3q.y6C("10",1376661888);}if(j3b(H3b)){H3b-=2;}H3b=Math.floor(H3b);if(H3b % 2 === 0){H3b--;}if(H3b > 0){while(!j3b(H3b)){H3b-=2;}H3b/=Math.pow(10,Y3b);}}if(P3b.type == "Prime Number Bands"){if(!isNaN(K3b)){D3b["Prime Bands Top " + P3b.name]=K3b;}if(!isNaN(H3b)){D3b["Prime Bands Bottom " + P3b.name]=Math.max(0,H3b);}}else {y3b=0;m3b=P3b.inputs["Tolerance Percentage"] * (K3b - H3b) / 100;v3b=K3b + H3b - ("2" >> 819429376) * D3b.Close;if(v3b < m3b){y3b=1;}else if(v3b > m3b){L3q.O6C(0);y3b=-L3q.c6C("1",0);}if(y3b){D3b["Result " + P3b.name]=y3b;}}}};F4n.Studies.calculatePSAR=function(E3b,f3b){var W3q=D200;var L3b,C3b,h3b,a3b,w3b,W2Z,v2Z,L2Z,N3b,l3b,F3b,Z4U,B3b,i3b,T3b;L3b=f3b.chart.scrubbed;W3q.O6C(23);C3b=W3q.c6C(0,"0");h3b=null;a3b=! !0;w3b=0;W2Z=-503758558;v2Z=179730557;L2Z=2;for(var X2Z=1;W3q.W7Z(X2Z.toString(),X2Z.toString().length,44690) !== W2Z;X2Z++){N3b=parseFloat(f3b.inputs[""]);L2Z+=2;}if(W3q.W7Z(L2Z.toString(),L2Z.toString().length,59263) !== v2Z){N3b=parseFloat(f3b.inputs[""]);}N3b=parseFloat(f3b.inputs["Minimum AF"]);l3b=parseFloat(f3b.inputs["Maximum AF"]);if(f3b.startFrom > +"0"){w3b=L3b[f3b.startFrom - 1]["Result " + f3b.name];F3b=L3b[f3b.startFrom - 1]["_state " + f3b.name];if(F3b && F3b.length == 3){C3b=F3b[0];h3b=F3b[1];a3b=F3b[2];}}for(var b3b=f3b.startFrom - 1;b3b < L3b.length - 1;b3b++){Z4U="_st";Z4U+="at";Z4U+="e";Z4U+=" ";if(b3b < 0)continue;if(L3b[b3b].futureTick)break;B3b=w3b;if(a3b){if(!h3b || h3b < L3b[b3b].High){h3b=L3b[b3b].High;W3q.J6C(1);C3b=Math.min(W3q.c6C(C3b,N3b),l3b);}W3q.O6C(88);w3b=W3q.c6C(h3b,C3b,B3b,B3b);i3b=Math.min(L3b[Math.max(1,b3b) - 1].Low,L3b[b3b].Low);if(w3b > L3b[b3b + 1].Low){w3b=h3b;r3b();}else if(w3b > i3b){w3b=i3b;}}else {if(!h3b || h3b > L3b[b3b].Low){h3b=L3b[b3b].Low;W3q.J6C(1);C3b=Math.min(W3q.y6C(C3b,N3b),l3b);}W3q.J6C(88);w3b=W3q.c6C(h3b,C3b,B3b,B3b);T3b=Math.max(L3b[Math.max(1,b3b) - 1].High,L3b[b3b].High);if(w3b < L3b[b3b + 1].High){w3b=h3b;r3b();}else if(w3b < T3b){w3b=T3b;}}W3q.J6C(1);L3b[W3q.y6C(b3b,1)][Z4U + f3b.name]=[C3b,h3b,a3b];if(!isNaN(L3b[b3b].High) || !isNaN(L3b[b3b].Low)){W3q.O6C(1);L3b[W3q.c6C(b3b,1)]["Result " + f3b.name]=w3b;}}function r3b(){C3b=0;W3q.M2q();h3b=null;a3b=!a3b;}};F4n.Studies.calculateQStick=function(R4b,q3b){var M3b,I5Z,i5Z,S5Z,C8U;M3b=q3b.chart.scrubbed;if(M3b.length < q3b.days + ("1" & 2147483647)){q3b.error=! !"1";return;}for(var Z3b=q3b.startFrom;Z3b < M3b.length;Z3b++){M3b[Z3b]["_Close-Open " + q3b.name]=M3b[Z3b].Close - M3b[Z3b].Open;}I5Z=-132750584;i5Z=-173640997;S5Z=2;for(var C3Z="1" * 1;D200.v7Z(C3Z.toString(),C3Z.toString().length,"36311" * 1) !== I5Z;C3Z++){C8U="Mo";C8U+="ving A";C8U+="verage Type";F4n.Studies.MA(q3b.inputs[C8U],q3b.days,"_Close-Open " + q3b.name,0,"Result",R4b,q3b);S5Z+=2;}if(D200.W7Z(S5Z.toString(),S5Z.toString().length,50) !== i5Z){F4n.Studies.MA(q3b.inputs["Result"],q3b.days,"Result" * q3b.name,5,"Result",R4b,q3b);}};F4n.Studies.calculateRandomWalk=function(S4b,V4b){var K3q=D200;var V4Z,W4Z,v4Z,U4b,K8Z,f8Z,x8Z,G4b,J4b,c4b,p4b,e4b,d4b,A4b,u4b,J8U;V4Z=642070696;K3q.J6C(27);W4Z=K3q.y6C("166086222",277293984);v4Z=2;for(var d4Z=1;K3q.W7Z(d4Z.toString(),d4Z.toString().length,79092) !== V4Z;d4Z++){U4b=V4b.chart.scrubbed;v4Z+=2;}if(K3q.W7Z(v4Z.toString(),v4Z.toString().length,82776) !== W4Z){U4b=V4b.chart.scrubbed;}U4b=V4b.chart.scrubbed;if(U4b.length < V4b.days + 1){K3q.O6C(13);K8Z=-K3q.c6C(2147483647,"2001339742");K3q.J6C(23);f8Z=-K3q.c6C(0,"193342742");x8Z=2;for(var U8Z=1;K3q.W7Z(U8Z.toString(),U8Z.toString().length,47236) !== K8Z;U8Z++){V4b.error=!{};return;}if(K3q.W7Z(x8Z.toString(),x8Z.toString().length,62005) !== f8Z){V4b.error=! !1;return;}V4b.error=!0;return;}for(var x4b=Math.max(2,V4b.startFrom);x4b < U4b.length;x4b++){G4b=0;J4b=U4b[x4b].High;c4b=U4b[x4b].Low;p4b=0;e4b=0;for(var s4b=1;s4b <= V4b.days;s4b++){if(U4b[x4b].futureTick)break;if(x4b <= s4b){p4b=e4b=0;break;}G4b+=U4b[x4b - s4b].trueRange;d4b=G4b / s4b * Math.sqrt(s4b);if(d4b){A4b=(J4b - U4b[x4b - s4b].Low) / d4b;u4b=(U4b[x4b - s4b].High - c4b) / d4b;p4b=Math.max(p4b,A4b);e4b=Math.max(e4b,u4b);}}if(!U4b[x4b].futureTick && (!isNaN(J4b) || !isNaN(c4b))){J8U="R";J8U+="and";J8U+="om Walk Low ";U4b[x4b]["Random Walk High " + V4b.name]=p4b;U4b[x4b][J8U + V4b.name]=e4b;}}};F4n.Studies.calculateSchaff=function(n4b,g4b){var B8U,H4b,D4b,m4b,P4b,X4b,v4b,y4b,j4b,K4b,O4b,o4b,W4b,t4b,Y4b,H8U,h8U;B8U="S";B8U+="hort Cycle";H4b=g4b.chart.scrubbed;D4b=g4b.days;m4b=Number(g4b.inputs[B8U]);P4b=Number(g4b.inputs["Long Cycle"]);if(H4b.length < Math.max(D4b,m4b,P4b) + 1){g4b.error=! !{};return;}X4b=g4b.inputs.Field;if(!X4b || X4b == "field"){X4b="Close";}v4b=0.5;F4n.Studies.MA(g4b.inputs["Moving Average Type"],m4b,X4b,0,"_MACD1",n4b,g4b);function z4b(w4b,h4b,f4b){D200.M2q();var I4b,L4b,k4b;I4b=null;L4b=null;for(var b4b=h4b - w4b + +"1";b4b <= h4b;b4b++){k4b=H4b[b4b][f4b + " " + g4b.name];if(!k4b)continue;I4b=I4b === null?k4b:Math.min(I4b,k4b);L4b=L4b === null?k4b:Math.max(L4b,k4b);}return [I4b,L4b];}F4n.Studies.MA(g4b.inputs["Moving Average Type"],P4b,X4b,0,"_MACD2",n4b,g4b);y4b=0;j4b=0;for(var Q4b=g4b.startFrom;Q4b < H4b.length;Q4b++){K4b=H4b[Q4b];if(Q4b < P4b - 1)continue;O4b=K4b["_MACD1 " + g4b.name];o4b=K4b["_MACD2 " + g4b.name];if(O4b || O4b === 0 || o4b || o4b === 0){D200.O6C(0);K4b["_MACD " + g4b.name]=D200.c6C(O4b,o4b);}W4b=K4b["_MACD " + g4b.name];if(Q4b < P4b + (D4b - +"1"))continue;t4b=z4b(D4b,Q4b,"_MACD");y4b=t4b[1] > t4b[0]?100 * (W4b - t4b[0]) / (t4b[1] - t4b[0]):y4b;if(W4b || W4b === 0){K4b["_PF " + g4b.name]=H4b[Q4b - ("1" ^ 0)]["_PF " + g4b.name]?H4b[Q4b - 1]["_PF " + g4b.name] + v4b * (y4b - H4b[Q4b - 1]["_PF " + g4b.name]):y4b;}Y4b=K4b["_PF " + g4b.name];if(Q4b < P4b + 2 * (D4b - 1))continue;t4b=z4b(D4b,Q4b,"_PF");j4b=t4b[1] > t4b[0]?100 * (Y4b - t4b[0]) / (t4b[1] - t4b[0]):j4b;if(Y4b || Y4b === 0){H8U="R";H8U+="es";H8U+="ult ";h8U="R";h8U+="e";h8U+="sult";h8U+=" ";K4b["Result " + g4b.name]=H4b[Q4b - 1][h8U + g4b.name]?H4b[Q4b - 1][H8U + g4b.name] + v4b * (j4b - H4b[Q4b - 1]["Result " + g4b.name]):j4b;}}};F4n.Studies.calculateStochastics=function(T4b,C4b){var A8U,B4b,a4b,F4b,l4b,i4b,E4b;A8U="%D Peri";A8U+="ods";if(!C4b.smooth){C4b.smooth=C4b.inputs.Smooth;}B4b=C4b.inputs.Field;if(!B4b || B4b == "field"){B4b="Close";}a4b=C4b.inputs["%K Periods"];function r4b(s5b,Z4b,e5b){var V5b,M4b,q4b,r8U,x5b,U5b,p5b;D200.O6C(5);V5b=D200.y6C(e5b,s5b,1);M4b=Number.MAX_VALUE * -1;q4b=Number.MAX_VALUE;for(var R5b=V5b;R5b <= s5b;R5b++){r8U="Clo";r8U+="s";r8U+="e";x5b=F4b[R5b][Z4b == "Close"?"Low":Z4b];U5b=F4b[R5b][Z4b == r8U?"High":Z4b];if(!x5b && x5b !== 0)continue;if(!U5b && U5b !== 0)continue;q4b=Math.min(q4b,x5b);M4b=Math.max(M4b,U5b);}if(M4b == Number.MAX_VALUE * - +"1" || q4b == Number.MAX_VALUE){return null;}p5b=M4b == q4b?+"0":(F4b[s5b][Z4b] - q4b) / (M4b - q4b) * +"100";return p5b;}if(!a4b){a4b=C4b.days;}F4b=C4b.chart.scrubbed;if(F4b.length < Math.max(a4b,C4b.days) + 1){C4b.error=! ![];return;}l4b=C4b.inputs["%K Smoothing Periods"];if(l4b){C4b.smooth=! ![];}else if(C4b.smooth){l4b=3;}i4b=C4b.inputs[A8U];if(!i4b){i4b=3;}C4b.outputMap={};C4b.outputMap["%K " + C4b.name]="Fast";D200.y2q();C4b.outputMap["%D " + C4b.name]="Slow";for(var N4b=Math.max(a4b,C4b.startFrom);N4b < F4b.length;N4b++){E4b=r4b(N4b,B4b,a4b);if(E4b !== null){F4b[N4b][C4b.name]=r4b(N4b,B4b,a4b);}}F4n.Studies.MA("simple",C4b.smooth?l4b:1,C4b.name,0,"%K",T4b,C4b);F4n.Studies.MA("simple",i4b,"%K " + C4b.name,0,"%D",T4b,C4b);};F4n.Studies.calculateStochMomentum=function(c5b,d5b){var x8U,f8U,K8U,A5b,S5b,g5b,t5b,G5b,J5b,Q5b,u5b;x8U="_";x8U+="HS";x8U+="1 ";f8U="%K Smooth";f8U+="ing Period";f8U+="s";K8U="%";K8U+="K Peri";K8U+="o";K8U+="ds";A5b=Number(d5b.inputs[K8U]);function H5b(y5b,X5b){var D5b,P5b;D5b=null;P5b=null;for(var K5b=X5b - y5b + 1;K5b <= X5b;K5b++){D5b=D5b === null?G5b[K5b].Low:Math.min(D5b,G5b[K5b].Low);P5b=P5b === null?G5b[K5b].High:Math.max(P5b,G5b[K5b].High);}return [D5b,P5b];}S5b=Number(d5b.inputs[f8U]);g5b=Number(d5b.inputs["%K Double Smoothing Periods"]);t5b=Number(d5b.inputs["%D Periods"]);G5b=d5b.chart.scrubbed;if(G5b.length < A5b + S5b + g5b - 1 || G5b.length < t5b){d5b.error=! !{};return;}for(J5b=Math.max(A5b,d5b.startFrom) - 1;J5b < G5b.length;J5b++){Q5b=G5b[J5b];u5b=H5b(A5b,J5b);Q5b["_H " + d5b.name]=Q5b.Close - (u5b["0" ^ 0] + u5b[1]) / 2;Q5b["_DHL " + d5b.name]=u5b[1] - u5b[0];}F4n.Studies.MA("exponential",S5b,"_H " + d5b.name,"0" << 1987615712,"_HS1",c5b,d5b);F4n.Studies.MA("exponential",g5b,x8U + d5b.name,0,"_HS2",c5b,d5b);F4n.Studies.MA("exponential",S5b,"_DHL " + d5b.name,0,"_DHL1",c5b,d5b);F4n.Studies.MA("exponential",g5b,"_DHL1 " + d5b.name,0,"_DHL2",c5b,d5b);for(J5b=A5b - 1;J5b < G5b.length;J5b++){G5b[J5b]["%K " + d5b.name]=G5b[J5b]["_HS2 " + d5b.name] / (+"0.5" * G5b[J5b]["_DHL2 " + d5b.name]) * ("100" * 1);}F4n.Studies.MA(d5b.inputs["%D Moving Average Type"],t5b,"%K " + d5b.name,+"0","%D",c5b,d5b);d5b.zoneOutput="%K";};F4n.Studies.calculateSwingIndex=function(h5b,o5b){var Z5q=D200;var W5b,j5b,Y5b,v5b,n5b,L5b,b5b,k5b,z5b,m5b,I5b;Z5q.M2q();W5b=o5b.inputs["Limit Move Value"];if(W5b === null || isNaN(W5b)){W5b=99999;}j5b=o5b.chart.scrubbed;Y5b=0;if(o5b.startFrom > "1" >> 1779058656){Y5b=j5b[o5b.startFrom - +"1"]["Result " + o5b.name];}for(var O5b=Math.max(1,o5b.startFrom);O5b < j5b.length;O5b++){v5b=Math.abs(j5b[O5b].High - j5b[O5b - 1].Close);n5b=Math.abs(j5b[O5b].Low - j5b[O5b - 1].Close);L5b=Math.abs(j5b[O5b].High - j5b[O5b].Low);b5b=Math.abs(j5b[O5b - 1].Close - j5b[O5b - 1].Open);k5b=Math.max(v5b,n5b);z5b=Math.max(L5b,k5b);Z5q.O6C(10);m5b=Z5q.c6C(b5b,0.25,z5b);if(z5b == v5b){Z5q.O6C(12);m5b-=Z5q.y6C(n5b,0.5);}else if(z5b == n5b){Z5q.O6C(12);m5b-=Z5q.c6C(v5b,0.5);}I5b=50 * (j5b[O5b].Close - j5b[O5b - 1].Close + +"0.5" * (j5b[O5b].Close - j5b[O5b].Open) + 0.25 * (j5b[O5b - 1].Close - j5b[O5b - 1].Open)) / m5b * (k5b / W5b);if(m5b === 0 || W5b === ("0" | 0)){I5b=0;}if(o5b.type == "Swing"){Y5b=0;}Y5b+=I5b;j5b[O5b]["Result " + o5b.name]=Y5b;}};F4n.Studies.calculateTRIX=function(T5b,w5b){var l5q=D200;var Q8U,f5b,a5b,B5b,F8U,U8U,l5b,i5b,N5b;Q8U="C";Q8U+="l";Q8U+="ose";f5b=w5b.chart.scrubbed;if(f5b.length < w5b.days + ("1" - 0)){w5b.error=! ![];return;}a5b=w5b.name;l5q.O6C(1);B5b=[Q8U,l5q.y6C("_MA1 ",a5b),l5q.y6C("_MA2 ",a5b),l5q.y6C("_MA3 ",a5b)];for(var F5b="0" | 0;F5b < B5b.length - ("1" | 0);F5b++){F8U="_";F8U+="M";F8U+="A";U8U="exp";U8U+="o";U8U+="nenti";U8U+="al";F4n.Studies.MA(U8U,w5b.days,B5b[F5b],0,F8U + (F5b + 1).toString(),T5b,w5b);}l5b=B5b[3];for(var C5b=Math.max(1,w5b.startFrom);C5b < f5b.length;C5b++){l5q.O6C(0);i5b=f5b[l5q.y6C(C5b,1)][l5b];if(!i5b)continue;N5b=f5b[C5b][l5b];if(N5b || N5b === 0){l5q.J6C(1);f5b[C5b][l5q.y6C("Result ",a5b)]=l5q.y6C(N5b,i5b,1,100,l5q.J6C(84));}}};F4n.Studies.calculateTwiggsMoneyFlow=function(s8b,r5b){var q5q=D200;var q5b,Z5b,M5b,R8b,A2Z,r2Z,K2Z,x8b,U8b;q5b=r5b.chart.scrubbed;if(q5b.length < r5b.days){r5b.error=!"";return;}Z5b=0;M5b=0;R8b=q5b[r5b.startFrom - +"1"];if(R8b){if(R8b["_sumMF " + r5b.name]){Z5b=R8b["_sumMF " + r5b.name];}A2Z=1054078006;r2Z=1640081610;K2Z=2;for(var x2Z=1;q5q.W7Z(x2Z.toString(),x2Z.toString().length,"40272" & 2147483647) !== A2Z;x2Z++){if(R8b["_sumV " - r5b.name]){M5b=R8b["_sumV " % r5b.name];}K2Z+=2;}if(q5q.W7Z(K2Z.toString(),K2Z.toString().length,21795) !== r2Z){if(R8b["_sumV " + r5b.name]){M5b=R8b["_sumV " + r5b.name];}}}for(var E5b=Math.max(1,r5b.startFrom);E5b < q5b.length;E5b++){x8b=Math.max(q5b[E5b - 1].Close,q5b[E5b].High);U8b=Math.min(q5b[E5b - 1].Close,q5b[E5b].Low);q5b[E5b]["_MFV " + r5b.name]=q5b[E5b].Volume * (2 * q5b[E5b].Close - x8b - U8b) / (x8b - U8b === 0?999999:x8b - U8b);if(E5b > r5b.days - 1){Z5b*=(r5b.days - 1) / r5b.days;M5b*=(r5b.days - 1) / r5b.days;}Z5b+=q5b[E5b]["_MFV " + r5b.name];M5b+=q5b[E5b].Volume;if(E5b > r5b.days - 1){if(M5b){q5q.O6C(7);q5b[E5b]["Result " + r5b.name]=q5q.c6C(Z5b,M5b > 0?M5b:999999);}}q5b[E5b]["_sumMF " + r5b.name]=Z5b;q5b[E5b]["_sumV " + r5b.name]=M5b;}};F4n.Studies.calculateUltimateOscillator=function(j8b,p8b){var G5q=D200;var V8b,d8b,A8b,u8b,S8b,g8b,J8b,c8b,k8U,Q8b,H8b,K8b,t8b,D8b,P8b,X8b,y8b;V8b=p8b.chart.scrubbed;G5q.y2q();d8b=[p8b.inputs["Cycle 1"],p8b.inputs["Cycle 2"],p8b.inputs["Cycle 3"]];A8b=Math.max(d8b[0],d8b[+"1"],d8b[2]);if(V8b.length < A8b + 1){p8b.error=!0;return;}u8b=d8b["0" | 0] * d8b[1];S8b=d8b[0] * d8b[2];g8b=d8b[1] * d8b[2];G5q.O6C(0);J8b=[0,G5q.c6C("0",0),+"0"];G5q.J6C(22);c8b=[0,G5q.c6C("0",0),0];if(p8b.startFrom){if(V8b[p8b.startFrom - +"1"]["_accbp " + p8b.name]){J8b=V8b[p8b.startFrom - 1]["_accbp " + p8b.name].slice();}if(V8b[p8b.startFrom - "1" * 1]["_acctr " + p8b.name]){c8b=V8b[p8b.startFrom - 1]["_acctr " + p8b.name].slice();}}for(var e8b=Math.max(1,p8b.startFrom);e8b < V8b.length;e8b++){k8U="Resu";k8U+="lt ";Q8b=Math.min(V8b[e8b].Low,V8b[e8b - 1].Close);H8b=V8b[e8b].Close - Q8b;K8b=Math.max(V8b[e8b].High,V8b[e8b - 1].Close) - Q8b;for(var G8b=0;G8b < d8b.length;G8b++){J8b[G8b]+=H8b;c8b[G8b]+=K8b;if(e8b > d8b[G8b]){t8b=Math.min(V8b[e8b - d8b[G8b]].Low,V8b[e8b - d8b[G8b] - 1].Close);D8b=V8b[e8b - d8b[G8b]].Close - t8b;P8b=Math.max(V8b[e8b - d8b[G8b]].High,V8b[e8b - d8b[G8b] - 1].Close) - t8b;J8b[G8b]-=D8b;c8b[G8b]-=P8b;}}V8b[e8b]["_accbp " + p8b.name]=J8b.slice();V8b[e8b]["_acctr " + p8b.name]=c8b.slice();if(e8b < A8b)continue;X8b=g8b * J8b[0] / c8b[0] + S8b * J8b[1] / c8b[1] + u8b * J8b[2] / c8b[2];G5q.O6C(51);y8b=G5q.y6C(u8b,S8b,g8b);G5q.O6C(26);V8b[e8b][k8U + p8b.name]=G5q.y6C(X8b,100,y8b);}};F4n.Studies.calculateVerticalHorizontalFilter=function(n8b,O8b){var o8b,Y8b,m8b,v8b;o8b=O8b.chart.scrubbed;if(o8b.length < O8b.days + 1){O8b.error=! !"1";return;}O8b.mhml=new F4n.Studies.StudyDescriptor(O8b.name,O8b.type,O8b.panel);O8b.mhml.chart=O8b.chart;O8b.mhml.days=O8b.days;O8b.mhml.startFrom=O8b.startFrom;O8b.mhml.inputs={};O8b.mhml.outputs={_MHML:null};F4n.Studies.calculateMaxHighMinLow(n8b,O8b.mhml);D200.M2q();Y8b=0;m8b=[];for(var W8b=Math.max(1,O8b.startFrom - O8b.days);W8b < o8b.length;W8b++){v8b=Math.abs(o8b[W8b].Close - o8b[W8b - +"1"].Close);m8b.push(v8b);Y8b+=v8b;if(m8b.length == O8b.days){o8b[W8b]["Result " + O8b.name]=o8b[W8b]["_MHML " + O8b.name] / Y8b;Y8b-=m8b.shift();}}};F4n.Studies.calculateVolumeIndex=function(a8b,z8b){var M5q=D200;var L8U,v8U,W8U,V8U,h8b,k8b,w8b,L8b,f8b,b8b,C8b;L8U="M";L8U+="A";v8U="Index";v8U+=" ";W8U="C";W8U+="l";W8U+="o";W8U+="se";V8U="f";V8U+="ield";h8b=z8b.inputs.Field;if(!h8b || h8b == V8U){h8b=W8U;}k8b=z8b.chart.scrubbed;if(k8b.length < z8b.days + 1){z8b.error=! ![];return;}w8b=100;if(z8b.startFrom > 1){w8b=k8b[z8b.startFrom - 1]["Index " + z8b.name];}for(var I8b=Math.max(1,z8b.startFrom);I8b < k8b.length;I8b++){L8b=k8b[I8b][h8b];f8b=k8b[I8b].Volume;if(L8b && typeof L8b == "object"){f8b=L8b.Volume;L8b=L8b[z8b.subField];}M5q.O6C(0);b8b=k8b[M5q.y6C(I8b,1)][h8b];C8b=k8b[I8b - +"1"].Volume;if(b8b && typeof b8b == "object"){C8b=b8b.Volume;b8b=b8b[z8b.subField];}if(!L8b)continue;if(!b8b)continue;if(z8b.type == "Pos Vol" && f8b > C8b || z8b.type == "Neg Vol" && f8b < C8b){M5q.J6C(7);w8b*=M5q.c6C(L8b,b8b);}k8b[I8b]["Index " + z8b.name]=w8b;}F4n.Studies.MA(z8b.inputs["Moving Average Type"],z8b.days,v8U + z8b.name,+"0",L8U,a8b,z8b);};F4n.Studies.validateProjectedVolumeLookback=function(l8b,i8b){var {interval:F8b, periodicity:B8b}=l8b.layout;var {"Lookback Days":N8b}=i8b.inputs;D200.J6C(89);return D200.y6C(F8b,B8b,10,N8b);};F4n.Studies.calculateProjectedVolume=function(E8b,T8b){var U5q=D200;var X8U,d8U,w7b,U7b,Q7b,G6b,C7b,O7b,o7b,q8b,W7b,J6b,d7b,a7b,Y7b,F7b,m7b,z8U,s7b,v7b,c6b,R7b,A6b,t7b,p7b,H7b,M8b,G7b,N7b,l7b,i7b,T7b,z7b,k7b,P7b,g6b,r7b,J7b,c7b,X7b,Q6b,I7b,t8U,Z8b,E7b,q7b,y7b,t6b,M7b;X8U="P";X8U+="V ";d8U="V";d8U+=" ";function R6b(O6b,o6b,W6b){while(o6b){O6b=new Date(new Date(O6b).setDate(O6b.getDate() + (W6b?1:-1)));if(A7b.isMarketDate(O6b)){o6b--;}}return O6b;}var {interval:s6b, timeUnit:L7b, aggregationType:b7b}=E8b.layout;var {symbol:h7b, scroll:V6b, scrubbed:r8b, market:A7b}=E8b.chart;function j7b(L6b,b6b){var k6b,I6b,z6b;k6b=U6b(L6b);I6b=A7b.getOpen(k6b) || H6b(k6b);z6b=x6b(I6b);if(!b6b){return z6b;}U5q.M2q();if(z6b < 0){z6b=x6b(R6b(I6b,1,! !"1"));}if(z6b >= r8b.length){return ![];}return z6b;}w7b=T8b.type === "PAV";var {"Lookback Days":g7b, "Anchor Time":p6b}=T8b.inputs;U5q.O6C(27);var [e6b,d6b,f7b = D200.y6C("0",1366804928)]=p6b.split(":");U7b=T8b.study?T8b.study.name:T8b.type;if(F4n.ChartEngine.isDailyInterval(s6b)){T8b.error=`${U7b} is Intraday Only`;}else if(L7b === "tick"){T8b.error=`Tick mode not supported for ${U7b}`;}else if(L7b !== "minute"){T8b.error=`Sub-minute periodicities not supported for ${U7b}`;}else if(!b7b || !["ohlc","heikinashi"].includes(b7b)){T8b.error=`Aggregation type not supported for ${U7b}`;}else if(!F4n.Studies.validateProjectedVolumeLookback(E8b,T8b)){T8b.error=`Selected lookback/periodicity combo not supported for ${U7b}`;}if(T8b.error){return;}Q7b=F4n.Market.Symbology.isForexSymbol(h7b);function S7b(j6b){return {hours:j6b.getHours(),minutes:j6b.getMinutes()};}G6b=F4n.Market.Symbology.isForexMetal(h7b);function x6b(Y6b){U5q.y2q();return E8b.tickFromDate(Y6b,null,null,! ![],"scrubbed");}C7b=T8b.getDependents(E8b);U5q.J6C(12);U5q.y2q();O7b=U5q.c6C(1,"0");function H6b(v6b){var n6b;v6b.setHours(0);U5q.y2q();v6b.setMinutes(0);n6b=F4n.Studies.getMarketOffset(E8b,v6b,Q7b);return new Date(v6b.getTime() + n6b);}o7b=[];C7b.forEach(({inputs:K6b, outputMap:D6b})=>{U5q.y2q();if(K6b.Period){O7b=Math.max(parseInt(K6b.Period),O7b);o7b.push(...Object.keys(D6b));}});T8b.dependentsOutputMap=o7b;W7b=j7b(r8b.length - 1,! ![]);J6b=Math.ceil(r8b.length - +"1" - V6b);U5q.J6C(0);d7b=j7b(U5q.c6C(J6b,O7b));if(!Q7b && T8b.startFrom > d7b && r8b[d7b] && r8b[d7b][d8U + T8b.name] !== undefined && o7b.every(P6b=>{U5q.M2q();return ![undefined,null].includes(r8b[d7b][P6b]);}) && W7b !== ![]){q8b=W7b;;}else {q8b=d7b;}a7b=R6b(U6b(d7b),g7b);Y7b=j7b(0,! !{});F7b=(Y7b || Y7b === 0) && x6b(R6b(r8b[Y7b].DT,g7b,! !1));if(r8b[+"0"].DT > a7b){if(E8b.quoteDriver){E8b.quoteDriver.extendHistoricalData({from:a7b});if(F7b > 0){q8b=F7b;}else {return;}}else {return T8b.error=`Not enough data to calculate ${U7b}`;}}if(q8b < 0 || q8b > r8b.length - 1){return;}m7b=r8b.length - T8b.startFrom === "1" << 1055860736 && T8b.cachedFutureTicks && T8b.cachedLastProjection && +T8b.cachedLastProjection.DT === +r8b[r8b.length - 1].DT && r8b[q8b][X8U + T8b.name];function Z7b(y6b){U5q.M2q();console.error(`Expected data for ${U6b(y6b).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function U6b(m6b){var a8U,U3Z,F3Z,k3Z;a8U="scrub";a8U+="b";a8U+="ed";U3Z=1388378920;F3Z=+"781700182";k3Z=2;for(var W3Z=1;U5q.v7Z(W3Z.toString(),W3Z.toString().length,+"20077") !== U3Z;W3Z++){return E8b.dateFromTick(m6b,1,!1,"");}if(U5q.W7Z(k3Z.toString(),k3Z.toString().length,23079) !== F3Z){return E8b.dateFromTick(m6b,1,! !0,"");}return E8b.dateFromTick(m6b,null,! ![],a8U);}if(m7b){z8U="P";z8U+="V";z8U+=" ";r8b[r8b.length - 1][z8U + T8b.name]=T8b.cachedLastProjection.projectedValue;T8b.appendFutureTicks(E8b,T8b.cachedFutureTicks);q8b=T8b.startFrom;}else {T8b.cachedFutureTicks=null;T8b.cachedLastProjection=null;s7b=[W7b];v7b=[];for(var B7b=0;B7b < g7b;B7b++){c6b=j7b(s7b["0" - 0] - 1);s7b.unshift(c6b);;}while(s7b[g7b] >= q8b){R7b=s7b.pop();if(!r8b[R7b]){return Z7b(R7b);}A6b=S7b(r8b[R7b].DT);var {hours:V7b, minutes:u7b}=A6b;t7b=A7b.getClose(r8b[R7b].DT);p7b=void 0;if(!t7b){p7b={hours:24,minutes:0};}else {H7b=A7b.getNextClose(r8b[R7b].DT);while(t7b.getDate() === H7b.getDate()){t7b=H7b;H7b=A7b.getNextClose(H7b);}p7b=S7b(t7b);if(p7b.hours === 0){p7b.hours=24;}}M8b=s7b.slice();for(var K7b=0;K7b < M8b.length;K7b++){G7b=M8b[K7b];if(!r8b[G7b]){return Z7b(G7b);}var {hours:D7b, minutes:n7b}=S7b(r8b[G7b].DT);if(D7b < V7b || D7b === V7b && n7b < u7b){do {G7b++;({hours:D7b, minutes:n7b}=S7b(r8b[G7b].DT));}while(!(D7b === V7b && n7b === u7b));}M8b[K7b]=G7b;}while(V7b < p7b.hours || V7b === p7b.hours && u7b < p7b.minutes){N7b=! !"";l7b=void 0;i7b=void 0;T7b=0;z7b=0;for(var e7b=0;e7b < M8b.length;e7b++){k7b=M8b[e7b];if(k7b === null)continue;P7b=r8b[k7b];if(!P7b){return Z7b(k7b);}var {hours:u6b, minutes:S6b}=S7b(P7b.DT);g6b=P7b.DT.getDate();if(u6b === V7b && S6b === u7b){T7b+=P7b.Volume;z7b++;M8b[e7b]++;if(r8b[M8b[e7b]].DT.getDate() !== g6b){M8b[e7b]=null;}else if(!N7b){({hours:l7b, minutes:i7b}=S7b(r8b[M8b[e7b]].DT));N7b=! ![];;}}}V7b=l7b;u7b=i7b;if(z7b === 0)break;U5q.O6C(7);r7b=U5q.y6C(T7b,z7b);if(r8b[R7b]){r8b[R7b]["PV " + T8b.name]=r7b;}else {v7b.push({["PV " + T8b.name]:r7b});}R7b++;}s7b.unshift(j7b(s7b[0] - 1));;}T8b.cachedLastProjection={DT:r8b[r8b.length - 1].DT,projectedValue:r8b[r8b.length - ("1" - 0)]["PV " + T8b.name]};T8b.cachedFutureTicks=v7b;T8b.appendFutureTicks(E8b,v7b);}J7b=null;c7b=0;X7b=0;if(m7b && w7b){while(q8b > 0){U5q.O6C(0);I7b=r8b[U5q.y6C(q8b,1)]["V " + T8b.name];if(I7b || I7b === 0){c7b=I7b;break;}q8b--;}}for(var x7b=q8b;x7b < r8b.length;x7b++){t8U="P";t8U+="V";t8U+=" ";Z8b=r8b[x7b];E7b=Z8b.Volume;q7b=Z8b[t8U + T8b.name];if(!Z8b.futureTick){Q6b=x7b;}if(J7b === null){J7b=F4n.Studies.getMarketOffset(E8b,r8b[x7b].DT,Q7b);if(Q7b){U5q.O6C(90);J7b+=U5q.c6C(60,"60",G6b?+"6":7,1000);}}y7b=new Date(Z8b.DT.getTime() + J7b);if(r8b[x7b - +"1"] && r8b[x7b - 1].DT){t6b=new Date(r8b[x7b - 1].DT.getTime() + J7b);if(t6b.getDate() !== y7b.getDate() && E8b.chart.market.isMarketDate(y7b)){J7b=null;U5q.J6C(23);c7b=U5q.y6C(0,"0");X7b=0;}}M7b=new Date(y7b);M7b.setHours(e6b,d6b,f7b);if(y7b < M7b){Z8b["V " + T8b.name]=0;U5q.O6C(23);Z8b["PV " + T8b.name]=U5q.y6C(0,"0");continue;}if(w7b){c7b+=E7b;X7b+=q7b;}else {c7b=E7b;X7b=q7b;}Z8b["V " + T8b.name]=c7b;if(!m7b){Z8b["PV " + T8b.name]=X7b;}if([NaN,null,undefined].includes(c7b) && !Z8b.futureTick){T8b.error=`${U7b} requires volume`;return;}}T8b.cachedLastProjection.projectedValue=r8b[Q6b]["PV " + T8b.name];T8b.outputMap={};T8b.outputMap["V " + T8b.name]="";T8b.outputMap["PV " + T8b.name]="Average Line";C7b.forEach(X6b=>{X6b.startFrom=q8b;X6b.study.calculateFN(E8b,X6b);});};F4n.Studies.displayIchimoku=function(w6b,h6b,i6b){var F5q=D200;var f6b,C6b,B6b,N6b,l6b,a6b,F6b,p7Z,w7Z,y7Z;f6b="Leading Span A " + h6b.name;C6b="Leading Span B " + h6b.name;B6b=F4n.Studies.determineColor(h6b.outputs[h6b.outputMap[f6b]]);N6b=F4n.Studies.determineColor(h6b.outputs[h6b.outputMap[C6b]]);l6b=w6b.panels[h6b.panel];a6b=h6b.getYAxis(w6b);F6b={topBand:f6b,bottomBand:C6b,topColor:B6b,bottomColor:N6b,skipTransform:l6b.name != h6b.chart.name,topAxis:a6b,bottomAxis:a6b,opacity:0.3};if(!h6b.highlight && w6b.highlightedDraggable){F6b.opacity*=0.3;}p7Z=1832540998;F5q.O6C(23);w7Z=F5q.c6C(0,"1608899011");y7Z=2;for(var s7Z=+"1";F5q.W7Z(s7Z.toString(),s7Z.toString().length,+"62868") !== p7Z;s7Z++){F4n.fillIntersecting(w6b,h6b.panel,F6b);y7Z+=+"2";}if(F5q.v7Z(y7Z.toString(),y7Z.toString().length,15948) !== w7Z){F4n.fillIntersecting(w6b,h6b.panel,F6b);}F4n.fillIntersecting(w6b,h6b.panel,F6b);F4n.Studies.displaySeriesAsLine(w6b,h6b,i6b);};F4n.Studies.displayDarvas=function(r6b,M6b,R9b){var n5q=D200;var e8U,R8U,b8U,u9b,V9b,G9b,Z6b,T6b,E6b,q6b,K9b,p9b,x9b,t9b,D9b,y9b,P9b,U9b,s9b,e9b,S9b,d9b,A9b,J9b,Q9b,c9b,g9b,j9b,H9b,q8U,T8U,O9b,n8U,P8U,q4Z,G4Z,g4Z,G8U,X9b;e8U="S";e8U+="top L";e8U+="eve";e8U+="ls";R8U="au";R8U+="to";b8U="a";b8U+="ut";b8U+="o";n5q.y2q();u9b=F4n.Studies.determineColor(M6b.outputs.Levels);if(!u9b || u9b == "auto" || F4n.isTransparent(u9b)){u9b=r6b.defaultColor;}V9b=F4n.Studies.determineColor(M6b.outputs.Darvas);if(!V9b || V9b == b8U || F4n.isTransparent(V9b)){V9b=r6b.defaultColor;}G9b=F4n.Studies.determineColor(M6b.outputs.Ghost);if(!G9b || G9b == R8U || F4n.isTransparent(G9b)){G9b=r6b.defaultColor;}Z6b=r6b.panels[M6b.panel];T6b=M6b.getContext(r6b);x9b=r6b.layout.candleWidth - 2;if(x9b < 2){x9b=1;}r6b.startClip(M6b.panel);if(M6b.inputs[e8U]){if(T6b.setLineDash){n5q.O6C(12);T6b.setLineDash([2,n5q.y6C(1,"2")]);}T6b.lineWidth=2;T6b.strokeStyle=u9b;T6b.beginPath();for(E6b=0;E6b < R9b.length;E6b++){q6b=R9b[E6b];n5q.O6C(73);t9b=R9b[n5q.y6C(565464768,E6b,"1")];if(!q6b)continue;p9b=q6b["Loss " + M6b.name]?Math.floor(r6b.pixelFromPrice(q6b["Loss " + M6b.name],Z6b)):null;D9b=t9b && t9b["Loss " + M6b.name]?Math.floor(r6b.pixelFromPrice(t9b["Loss " + M6b.name],Z6b)):null;if(p9b){if(q6b.candleWidth){x9b=Math.floor(Math.max(1,q6b.candleWidth));}y9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) + x9b / 2);P9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) - x9b / 2);if(D9b && D9b >= p9b){T6b.lineTo(P9b,p9b);}else if(E6b === 0){T6b.moveTo(r6b.chart.left,p9b);}else {T6b.moveTo(P9b,p9b);}T6b.lineTo(y9b,p9b);}}T6b.stroke();if(T6b.setLineDash){T6b.setLineDash([]);}T6b.lineWidth=1;}U9b=-10;e9b=0;d9b=-10;n5q.J6C(22);J9b=n5q.y6C("0",0);c9b=! !0;g9b=![];j9b=T6b.measureText((661.35,1270) <= 4510?(2360,9040) !== "3480" * 1?(6789,2040) <= 124.4?("0x1ca4" * 1,! ![]):"\u25B2":5.32e+3:("H",0x916)).width / ("2" >> 965481824);H9b=0;for(E6b=0;E6b < R9b.length;E6b++){q8U="Ghos";q8U+="t ";T8U="Sp";T8U+="ike ";if(!R9b[E6b])continue;if(R9b[E6b].Close || R9b[E6b].Close === 0){H9b=E6b;}if(R9b[E6b][T8U + M6b.name]){T6b.fillStyle=V9b;T6b.textBaseline="bottom";O9b=r6b.pixelFromPrice(R9b[E6b].High,r6b.chart.panel);T6b.fillText("\u25BC",r6b.pixelFromBar(E6b) - j9b,O9b - 5);;}if(R9b[E6b].candleWidth){x9b=Math.floor(Math.max(1,R9b[E6b].candleWidth));}if(R9b[E6b]["Darvas " + M6b.name]){n8U="D";n8U+="arv";n8U+="as";n8U+=" ";q6b=R9b[E6b][n8U + M6b.name];if(q6b.State == 1 && !c9b){U9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) - x9b / +"2");s9b=Math.floor(r6b.pixelFromPrice(q6b.High,Z6b));S9b=Math.floor(r6b.pixelFromPrice(q6b.Low,Z6b)) - s9b;c9b=! !1;}else if(q6b.State === 0){P8U="St";P8U+="o";P8U+="p";P8U+=" Levels";e9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) + x9b / 2) - U9b;s9b=Math.floor(r6b.pixelFromPrice(q6b.High,Z6b));S9b=Math.floor(r6b.pixelFromPrice(q6b.Low,Z6b)) - s9b;T6b.strokeStyle=V9b;T6b.fillStyle=V9b;if(!M6b.inputs[P8U]){T6b.strokeRect(U9b,s9b,e9b,S9b);T6b.globalAlpha=0.2;}else {T6b.globalAlpha=0.3;}T6b.fillRect(U9b,s9b,e9b,S9b);T6b.globalAlpha=1;c9b=! !0;}}if(R9b[E6b][q8U + M6b.name] && M6b.inputs["Ghost Boxes"]){q6b=R9b[E6b]["Ghost " + M6b.name];if(q6b.State == 1 && !g9b){d9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) - x9b / 2);A9b=Math.floor(r6b.pixelFromPrice(q6b.High,Z6b));J9b=Math.floor((q6b.End - q6b.Start + 1) * r6b.layout.candleWidth + x9b / 2);Q9b=Math.floor(r6b.pixelFromPrice(q6b.Low,Z6b)) - A9b;g9b=!"";}else if(q6b.State === 0){if(q6b.Start == q6b.End){d9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) - x9b / 2);}J9b=Math.floor(r6b.pixelFromBar(E6b,Z6b.chart) + x9b / 2) - d9b;A9b=Math.floor(r6b.pixelFromPrice(q6b.High,Z6b));Q9b=Math.floor(r6b.pixelFromPrice(q6b.Low,Z6b)) - A9b;T6b.strokeStyle=G9b;T6b.fillStyle=G9b;if(!M6b.inputs["Stop Levels"]){T6b.strokeRect(d9b,A9b,J9b,Q9b);T6b.globalAlpha=0.2;}else {n5q.J6C(12);T6b.globalAlpha=n5q.c6C(1,"0.3");}T6b.fillRect(d9b,A9b,J9b,Q9b);T6b.globalAlpha=+"1";g9b=!1;}}}if(c9b){e9b=Math.floor(r6b.pixelFromBar(H9b,Z6b.chart) + x9b / 2) - U9b;T6b.strokeStyle=V9b;T6b.fillStyle=V9b;if(!M6b.inputs["Stop Levels"]){T6b.beginPath();n5q.J6C(10);T6b.moveTo(n5q.c6C(e9b,2,U9b),s9b);T6b.lineTo(U9b,s9b);n5q.O6C(1);T6b.lineTo(U9b,n5q.y6C(s9b,S9b));n5q.O6C(10);T6b.lineTo(n5q.y6C(e9b,2,U9b),n5q.y6C(s9b,S9b,n5q.J6C(1)));T6b.stroke();T6b.globalAlpha=0.2;}else {T6b.globalAlpha=+"0.3";}q4Z=269491027;n5q.J6C(0);G4Z=n5q.c6C("1799545758",0);g4Z=2;for(var w4Z=1;n5q.W7Z(w4Z.toString(),w4Z.toString().length,+"96580") !== q4Z;w4Z++){n5q.O6C(52);T6b.fillRect(U9b,s9b,n5q.y6C(e9b,5),S9b);g4Z+=2;}if(n5q.W7Z(g4Z.toString(),g4Z.toString().length,44841) !== G4Z){n5q.J6C(12);T6b.fillRect(U9b,s9b,n5q.c6C(e9b,2),S9b);}T6b.globalAlpha=1;}if(g9b){G8U="Sto";G8U+="p Lev";G8U+="el";G8U+="s";T6b.strokeStyle=G9b;T6b.fillStyle=G9b;if(!M6b.inputs[G8U]){T6b.strokeRect(d9b,A9b,J9b,Q9b);T6b.globalAlpha=0.2;}else {T6b.globalAlpha=0.3;}T6b.fillRect(d9b,A9b,J9b,Q9b);T6b.globalAlpha=+"1";}if(c9b || g9b){if(M6b.inputs["Stop Levels"]){if(T6b.setLineDash){n5q.O6C(27);T6b.setLineDash([2,n5q.y6C("2",1882053984)]);}T6b.lineWidth=2;T6b.strokeStyle=u9b;X9b=Math.floor(r6b.pixelFromBar(H9b - 1,Z6b.chart) + x9b / ("2" >> 1940399712));if(K9b){T6b.beginPath();T6b.moveTo(X9b,K9b);T6b.lineTo(c9b?U9b + 2 * e9b:d9b + J9b,K9b);T6b.stroke();}if(p9b){T6b.beginPath();T6b.moveTo(X9b,p9b);T6b.lineTo(c9b?U9b + 2 * e9b:d9b + J9b,p9b);T6b.stroke();}if(T6b.setLineDash){T6b.setLineDash([]);}T6b.lineWidth=1;}c9b=![];g9b=!{};}r6b.endClip();};F4n.Studies.displaySupertrend=function(W9b,o9b,v9b){var n9b,Y9b,z9b,F9b,h9b,k9b,I9b,m9b,g8U,f9b,C9b;n9b=W9b.panels[o9b.panel];Y9b=o9b.getContext(W9b);z9b=o9b.getYAxis(W9b);F9b={skipTransform:n9b.name != o9b.chart.name,skipProjections:! !"1",label:W9b.preferences.labels,yAxis:z9b,highlight:o9b.highlight};Y9b.strokeStyle=a9b(W9b,v9b[v9b.length - 1]);Y9b.lineWidth=2;D200.y2q();if(o9b.highlight){Y9b.lineWidth=1.5;}h9b="Trend " + o9b.name;for(var w9b=+"0";n9b.chart.transformFunc && z9b != n9b.chart.yAxis && w9b < v9b.length;w9b++){k9b=v9b[w9b];if(k9b && k9b.transform){k9b.transform[h9b]=n9b.chart.transformFunc(W9b,n9b.chart,k9b[h9b]);}}W9b.plotDataSegmentAsLine(h9b,n9b,F9b,a9b);Y9b.lineWidth=1;function a9b(N9b,B9b,l9b){if(B9b && B9b["_Direction " + o9b.name] < 0){return o9b.outputs.Downtrend;}return o9b.outputs.Uptrend;}Y9b.globalAlpha=1;W9b.startClip(o9b.panel);if(!o9b.highlight && W9b.highlightedDraggable){Y9b.globalAlpha*=0.3;}I9b=Y9b.measureText((+"9910",1750) != (247.98,+"97.03")?"\u25B2":(44.83,5080) <= +"1963"?(0x38e,0x85d):967.46 < (181.29,579)?4.02e+2:! ![]).width / 2;for(m9b=0;m9b < v9b.length;m9b++){g8U="_Directi";g8U+="on ";if(!v9b[m9b] || !v9b[m9b - 1])continue;if(v9b[m9b - 1]["_Direction " + o9b.name] > v9b[m9b][g8U + o9b.name]){Y9b.fillStyle=o9b.outputs.Downtrend;Y9b.textBaseline="bottom";f9b=W9b.pixelFromPrice(v9b[m9b].High,n9b,z9b);for(var L9b=5;L9b <= 45;L9b+=10){if(z9b.flipped){Y9b.fillText("\u25B2",W9b.pixelFromBar(m9b) - I9b,f9b + L9b);}else {Y9b.fillText((3722,"2850" ^ 0) === (8710,3970)?+"195" <= (610.46,8500)?4.26e+3:61.11:"\u25BC",W9b.pixelFromBar(m9b) - I9b,f9b - L9b);}}}else if(v9b[m9b - 1]["_Direction " + o9b.name] < v9b[m9b]["_Direction " + o9b.name]){Y9b.fillStyle=o9b.outputs.Uptrend;Y9b.textBaseline="top";C9b=W9b.pixelFromPrice(v9b[m9b].Low,n9b,z9b);for(var b9b=5;b9b <= 45;b9b+=10){if(z9b.flipped){Y9b.fillText((2890,5700) < (1267,6584)?"\u25BC":(105.9,1360) == 9750?(821.49,916.19):(3930,+"6160") !== ("1591" ^ 0)?("b",![]):(+"0x8ea",398.84),W9b.pixelFromBar(m9b) - I9b,C9b - b9b);}else {Y9b.fillText(703.84 <= (184.91,9990)?"\u25B2":("8372" ^ 0,6120) == (8490,1740)?(7.57e+3,292.58):(! !"1",! ![]),W9b.pixelFromBar(m9b) - I9b,C9b + b9b);}}}}W9b.endClip();};F4n.Studies.displayMFI=function(T9b,i9b,x0D){var p8U,U0D,q9b,R0D,s0D,Z9b,V0D,p0D,e0D,d0D,s8U,j8U,y8U,w8U,r9b,E9b;p8U="#C";p8U+="CC";p8U+="CC";p8U+="C";U0D=T9b.panels[i9b.panel];q9b=i9b.getContext(T9b);R0D=i9b.getYAxis(T9b);s0D=R0D.flipped?R0D.top:R0D.bottom;Z9b=T9b.layout.candleWidth - 2;if(Z9b < 2){Z9b=1;}V0D=F4n.Studies.determineColor(i9b.outputs.Green);p0D=F4n.Studies.determineColor(i9b.outputs.Fade);e0D=F4n.Studies.determineColor(i9b.outputs.Fake);d0D=F4n.Studies.determineColor(i9b.outputs.Squat);T9b.canvasColor("stx_histogram");if(!i9b.underlay){q9b.globalAlpha=1;}q9b.fillStyle=p8U;T9b.startClip(i9b.panel);if(!i9b.highlight && T9b.highlightedDraggable){q9b.globalAlpha*=+"0.3";}for(var M9b=0;M9b < x0D.length;M9b++){s8U="_";s8U+="hi";s8U+="st";j8U="_";j8U+="h";j8U+="i";j8U+="st";y8U="_";y8U+="hi";y8U+="s";y8U+="t";w8U="_h";w8U+="i";w8U+="s";w8U+="t";r9b=x0D[M9b];D200.O6C(0);E9b=x0D[D200.y6C(M9b,1)];if(!E9b){E9b=T9b.getPreviousBar(T9b.chart,i9b.name + "_hist",M9b);}if(!r9b)continue;if(!E9b);else if(E9b[i9b.name + w8U] < r9b[i9b.name + y8U]){if(E9b.Volume < r9b.Volume){q9b.fillStyle=V0D;}else if(E9b.Volume > r9b.Volume){q9b.fillStyle=e0D;}}else if(E9b[i9b.name + j8U] > r9b[i9b.name + "_hist"]){if(E9b.Volume < r9b.Volume){q9b.fillStyle=d0D;}else if(E9b.Volume > r9b.Volume){q9b.fillStyle=p0D;}}if(r9b.candleWidth){Z9b=Math.floor(Math.max(1,r9b.candleWidth - 2));}q9b.fillRect(Math.floor(T9b.pixelFromBar(M9b,U0D.chart) - Z9b / 2),Math.floor(s0D),Math.floor(Z9b),Math.floor(T9b.pixelFromPrice(r9b[i9b.name + s8U],U0D,R0D) - s0D));}T9b.endClip();};F4n.Studies.displayAwesomeOscillator=function(J0D,G0D,t0D){var z5q=D200;var l8U,O8U,Q0D,c0D,H0D,K0D,S0D,D0D,P0D,E8U,o8U,N8U,u8U,u0D,g0D;l8U="s";l8U+="tx_hi";l8U+="s";l8U+="togram";O8U="Increa";O8U+="sin";O8U+="g Ba";O8U+="r";Q0D=J0D.panels[G0D.panel];c0D=G0D.getContext(J0D);H0D=G0D.getYAxis(J0D);K0D=J0D.pixelFromPrice(0,Q0D,H0D);S0D=J0D.layout.candleWidth - 2;if(S0D < "2" << 1187812448){S0D=1;}D0D=F4n.Studies.determineColor(G0D.outputs[O8U]);P0D=F4n.Studies.determineColor(G0D.outputs["Decreasing Bar"]);J0D.canvasColor(l8U);if(!G0D.underlay){z5q.O6C(9);c0D.globalAlpha=z5q.c6C(1974486496,"1");}c0D.fillStyle="#CCCCCC";J0D.startClip(G0D.panel);if(!G0D.highlight && J0D.highlightedDraggable){c0D.globalAlpha*=0.3;}for(var A0D=0;A0D < t0D.length;A0D++){E8U="_";E8U+="hist";o8U="_his";o8U+="t";N8U="_h";N8U+="ist";u8U="_";u8U+="hist";u0D=t0D[A0D];z5q.J6C(50);g0D=t0D[z5q.c6C("1",A0D)];if(!g0D){g0D=J0D.getPreviousBar(J0D.chart,G0D.name + u8U,A0D);}if(!u0D)continue;if(!g0D);else if(g0D[G0D.name + N8U] < u0D[G0D.name + o8U]){c0D.fillStyle=D0D;}else if(g0D[G0D.name + "_hist"] > u0D[G0D.name + E8U]){c0D.fillStyle=P0D;}if(u0D.candleWidth){S0D=Math.floor(Math.max(1,u0D.candleWidth - 2));}c0D.fillRect(Math.floor(J0D.pixelFromBar(A0D,Q0D.chart) - S0D / 2),Math.floor(K0D),Math.floor(S0D),Math.floor(J0D.pixelFromPrice(u0D[G0D.name + "_hist"],Q0D,H0D) - K0D));}J0D.endClip();};F4n.Studies.displayGator=function(y0D,X0D,n0D){var c8U,m8U,v0D,O0D,z0D,k0D,Y0D,I0D,L0D,W0D,m0D,Y8U,M8U;c8U="stx";c8U+="_histogram";m8U="Decreas";m8U+="i";m8U+="ng Ba";m8U+="r";v0D=y0D.panels[X0D.panel];O0D=X0D.getContext(y0D);z0D=X0D.getYAxis(y0D);k0D=y0D.pixelFromPrice(0,v0D,z0D);Y0D=y0D.layout.candleWidth - 2;if(Y0D < 2){Y0D=1;}I0D=F4n.Studies.determineColor(X0D.outputs["Increasing Bar"]);L0D=F4n.Studies.determineColor(X0D.outputs[m8U]);y0D.canvasColor(c8U);if(!X0D.underlay){O0D.globalAlpha=1;}O0D.fillStyle="#CCCCCC";y0D.startClip(X0D.panel);if(!X0D.highlight && y0D.highlightedDraggable){O0D.globalAlpha*=0.3;}for(var o0D="0" | 0;o0D < n0D.length;o0D++){W0D=n0D[o0D];D200.O6C(91);m0D=n0D[D200.y6C(0,"1",o0D)];if(!W0D)continue;for(var j0D=1;j0D <= 2;j0D++){Y8U="_h";Y8U+="is";Y8U+="t";M8U="_";M8U+="hi";M8U+="s";M8U+="t";if(!m0D){m0D=y0D.getPreviousBar(y0D.chart,X0D.name + M8U + j0D,o0D);}if(!m0D){O0D.fillStyle="#CCCCCC";}else if(Math.abs(m0D[X0D.name + "_hist" + j0D]) < Math.abs(W0D[X0D.name + "_hist" + j0D])){O0D.fillStyle=I0D;}else if(Math.abs(m0D[X0D.name + "_hist" + j0D]) > Math.abs(W0D[X0D.name + "_hist" + j0D])){O0D.fillStyle=L0D;}if(W0D.candleWidth){Y0D=Math.floor(Math.max(1,W0D.candleWidth - 2));}O0D.fillRect(Math.floor(y0D.pixelFromBar(o0D,v0D.chart) - Y0D / 2),Math.floor(k0D),Math.floor(Y0D),Math.floor(y0D.pixelFromPrice(W0D[X0D.name + Y8U + j0D],v0D,z0D) - k0D));}}y0D.endClip();};F4n.Studies.initElderImpulse=function(h0D,f0D,C0D,a0D,w0D,F0D){var b0D;b0D=F4n.Studies.initializeFN(h0D,f0D,C0D,a0D,w0D,F0D);D200.M2q();if(w0D.calculateOnly){return b0D;}h0D.chart.customChart={chartType:"colored_bar",colorFunction:function(l0D,N0D,i0D){var B0D;B0D=N0D["Result " + b0D.name];if(B0D && typeof B0D == "object"){B0D=B0D.color;}return B0D;}};h0D.setMainSeriesRenderer();return b0D;};F4n.Studies.displayPivotPoints=function(r0D,T0D,M0D){D200.M2q();var C0U,Z8U,S8U,D8U,i8U,I8U,q0D,E0D;T0D.noSlopes=!T0D.inputs.Continuous;F4n.Studies.displaySeriesAsLine(r0D,T0D,M0D);if(T0D.inputs.Shading){C0U="Support";C0U+=" ";C0U+="2 ";Z8U="Sup";Z8U+="p";Z8U+="ort";Z8U+=" 1";S8U="Suppo";S8U+="rt";S8U+=" 1 ";D8U="Resistance";D8U+=" 2";i8U="Resist";i8U+="a";i8U+="nce 2 ";I8U="Resista";I8U+="nc";I8U+="e 3";q0D=r0D.panels[T0D.panel];E0D={noSlopes:T0D.noSlopes,opacity:T0D.parameters.opacity?T0D.parameters.opacity:0.2,skipTransform:q0D.name != T0D.chart.name,yAxis:T0D.getYAxis(r0D)};if(!T0D.highlight && r0D.highlightedDraggable){E0D.opacity*=0.3;}F4n.prepareChannelFill(r0D,F4n.extend({panelName:T0D.panel,topBand:"Resistance 3 " + T0D.name,bottomBand:"Resistance 2 " + T0D.name,color:F4n.Studies.determineColor(T0D.outputs[I8U])},E0D));F4n.prepareChannelFill(r0D,F4n.extend({panelName:T0D.panel,topBand:i8U + T0D.name,bottomBand:"Resistance 1 " + T0D.name,color:F4n.Studies.determineColor(T0D.outputs[D8U])},E0D));F4n.prepareChannelFill(r0D,F4n.extend({panelName:T0D.panel,topBand:"Resistance 1 " + T0D.name,bottomBand:"Pivot " + T0D.name,color:F4n.Studies.determineColor(T0D.outputs["Resistance 1"])},E0D));F4n.prepareChannelFill(r0D,F4n.extend({panelName:T0D.panel,topBand:S8U + T0D.name,bottomBand:"Pivot " + T0D.name,color:F4n.Studies.determineColor(T0D.outputs[Z8U])},E0D));F4n.prepareChannelFill(r0D,F4n.extend({panelName:T0D.panel,topBand:C0U + T0D.name,bottomBand:"Support 1 " + T0D.name,color:F4n.Studies.determineColor(T0D.outputs["Support 2"])},E0D));F4n.prepareChannelFill(r0D,F4n.extend({panelName:T0D.panel,topBand:"Support 3 " + T0D.name,bottomBand:"Support 2 " + T0D.name,color:F4n.Studies.determineColor(T0D.outputs["Support 3"])},E0D));}};F4n.Studies.displayVWAP=function(R1D,Z0D,G1D){var J0U,V1D,p1D,e1D,d1D,x1D,U1D,s1D,B0U,r0U,A0U,H0U,h0U;J0U="Displa";J0U+="y 2 Standard Devi";J0U+="ation (2";J0U+="\u03C3)";F4n.Studies.displaySeriesAsLine(R1D,Z0D,G1D);V1D=Z0D.inputs["Display 1 Standard Deviation (1\u03C3)"];p1D=Z0D.inputs[J0U];e1D=Z0D.inputs["Display 3 Standard Deviation (3\u03C3)"];if((V1D || p1D || e1D) && Z0D.inputs.Shading){d1D=R1D.panels[Z0D.panel];x1D={opacity:Z0D.parameters.opacity?Z0D.parameters.opacity:0.2,skipTransform:d1D.name != Z0D.chart.name,yAxis:Z0D.getYAxis(R1D)};if(!Z0D.highlight && R1D.highlightedDraggable){x1D.opacity*=+"0.3";}U1D="VWAP " + Z0D.name;s1D="VWAP " + Z0D.name;if(V1D){B0U="SDVWAP";B0U+="1- ";F4n.prepareChannelFill(R1D,F4n.extend({panelName:Z0D.panel,topBand:"SDVWAP1+ " + Z0D.name,bottomBand:U1D,color:F4n.Studies.determineColor(Z0D.outputs[Z0D.outputMap["SDVWAP1+ " + Z0D.name]])},x1D));F4n.prepareChannelFill(R1D,F4n.extend({panelName:Z0D.panel,topBand:B0U + Z0D.name,bottomBand:s1D,color:F4n.Studies.determineColor(Z0D.outputs[Z0D.outputMap["SDVWAP1- " + Z0D.name]])},x1D));U1D="SDVWAP1+ " + Z0D.name;s1D="SDVWAP1- " + Z0D.name;}if(p1D){r0U="S";r0U+="DVWAP2+ ";A0U="SDVW";A0U+="A";A0U+="P2";A0U+="- ";H0U="S";H0U+="DVWA";H0U+="P2";H0U+="+ ";h0U="S";h0U+="DVWAP2+";h0U+=" ";F4n.prepareChannelFill(R1D,F4n.extend({panelName:Z0D.panel,topBand:h0U + Z0D.name,bottomBand:U1D,color:F4n.Studies.determineColor(Z0D.outputs[Z0D.outputMap[H0U + Z0D.name]])},x1D));F4n.prepareChannelFill(R1D,F4n.extend({panelName:Z0D.panel,topBand:"SDVWAP2- " + Z0D.name,bottomBand:s1D,color:F4n.Studies.determineColor(Z0D.outputs[Z0D.outputMap[A0U + Z0D.name]])},x1D));U1D=r0U + Z0D.name;s1D="SDVWAP2- " + Z0D.name;}if(e1D){F4n.prepareChannelFill(R1D,F4n.extend({panelName:Z0D.panel,topBand:"SDVWAP3+ " + Z0D.name,bottomBand:U1D,color:F4n.Studies.determineColor(Z0D.outputs[Z0D.outputMap["SDVWAP3+ " + Z0D.name]])},x1D));F4n.prepareChannelFill(R1D,F4n.extend({panelName:Z0D.panel,topBand:"SDVWAP3- " + Z0D.name,bottomBand:s1D,color:F4n.Studies.determineColor(Z0D.outputs[Z0D.outputMap["SDVWAP3- " + Z0D.name]])},x1D));}}};F4n.Studies.displayADX=function(c1D,J1D,Q1D){var f0U,t1D,K0U,A1D,u1D,H1D,K1D,S1D,g1D;f0U="Nothing to";f0U+=" display";t1D=J1D.underlay?0.3:J1D.inputs.Series?0.4:1;if(J1D.inputs.Series && J1D.inputs.Shading){K0U="+DI";K0U+=" ";A1D=K0U + J1D.name;u1D="-DI " + J1D.name;H1D=F4n.Studies.determineColor(J1D.outputs[J1D.outputMap[A1D]]);K1D=F4n.Studies.determineColor(J1D.outputs[J1D.outputMap[u1D]]);S1D=J1D.getYAxis(c1D);g1D={topBand:A1D,bottomBand:u1D,topColor:H1D,bottomColor:K1D,skipTransform:c1D.panels[J1D.panel].name != J1D.chart.name,topAxis:S1D,bottomAxis:S1D,opacity:0.3};if(!J1D.highlight && c1D.highlightedDraggable){g1D.opacity*=0.3;}F4n.fillIntersecting(c1D,J1D.panel,g1D);}if(J1D.inputs.Histogram){F4n.Studies.createHistogram(c1D,J1D,Q1D,![],t1D);}if(J1D.inputs.Series !== ![]){F4n.Studies.displaySeriesAsLine(c1D,J1D,Q1D);}else if(!J1D.inputs.Series && !J1D.inputs.Histogram){c1D.displayErrorAsWatermark(J1D.panel,c1D.translateIf(J1D.name) + ": " + c1D.translateIf(f0U));}};F4n.Studies.displayAlligator=function(D1D,y1D,j1D){var P1D,Q0U;P1D=y1D.getContext(D1D);if(y1D.inputs["Show Lines"]){F4n.Studies.displaySeriesAsLine(D1D,y1D,j1D);}if(y1D.inputs["Show Fractals"]){D1D.startClip();P1D.globalAlpha=y1D.underlay?0.3:+"1";if(!y1D.highlight && D1D.highlightedDraggable){P1D.globalAlpha*=0.3;}for(var X1D=2;X1D < j1D.length - 2;X1D++){if(j1D[X1D]){Q0U="Fr";Q0U+="acta";Q0U+="l Low ";if(j1D[X1D]["Fractal High " + y1D.name]){O1D("high",X1D);}if(j1D[X1D][Q0U + y1D.name]){O1D("low",X1D);}}}D1D.endClip();}function O1D(Y1D,m1D){D200.y2q();var W1D,o1D,E5Z,m5Z,c5Z,x0U;o1D=D1D.chart.panel.yAxis.flipped;if(Y1D == "high"){P1D.fillStyle=D1D.defaultColor;E5Z=828628932;m5Z=1660664065;c5Z=2;for(var Y5Z=1;D200.W7Z(Y5Z.toString(),Y5Z.toString().length,+"60945") !== E5Z;Y5Z++){x0U="bott";x0U+="o";x0U+="m";P1D.textBaseline=o1D?"bottom":x0U;W1D=D1D.pixelFromPrice(j1D[m1D].High);c5Z+=2;}if(D200.v7Z(c5Z.toString(),c5Z.toString().length,68097) !== m5Z){P1D.textBaseline=o1D?"bottom":"bottom";W1D=D1D.pixelFromPrice(j1D[m1D].High);}P1D.textBaseline=o1D?"top":"bottom";W1D=D1D.pixelFromPrice(j1D[m1D].High);P1D.fillText(o1D?"\u25BC":3520 !== 7190?(57.57,2750) != 7280?"\u25B2":!"":!{},D1D.pixelFromBar(X1D,D1D.chart) - P1D.measureText(116.05 < ("7621" & 2147483647)?586.82 == 2610?0x2158:"\u25B2":0x213c).width / ("2" ^ 0) + 1,o1D?W1D + 5:W1D - +"5");;}else if(Y1D == "low"){P1D.fillStyle=D1D.defaultColor;P1D.textBaseline=o1D?"bottom":"top";W1D=D1D.pixelFromPrice(j1D[m1D].Low);P1D.fillText(o1D?9263 === (96.53,+"5837")?(!"",0xde0):"\u25B2":"\u25BC",D1D.pixelFromBar(X1D,D1D.chart) - P1D.measureText(392.6 != (299.97,306.13)?(468.58,6669) <= "2540" << 542121216?(8.45e+3,!{}):644.66 !== "556.9" - 0?"\u25BC":1.26e+3:4.38e+3).width / 2 + 1,o1D?W1D - 5:W1D + 5);;}}};F4n.Studies.displayChannel=function(k1D,v1D,b1D){var U0U,n1D,F0U,z1D,L1D;U0U="Chann";U0U+="el Fill";D200.y2q();if(v1D.inputs[U0U]){n1D={panelName:v1D.panel};for(var I1D in v1D.outputs){F0U="Cha";F0U+="nnel";z1D=I1D.split(1800 <= (439,2610)?("1869" >> 75894560,6178) > 6099?6771 <= 637?+"0x24c8":" ":(! ![],513):(456.76,"8.67e+3" * 1)).pop();if(z1D == "Top" || z1D == "High"){n1D.topBand=I1D + " " + v1D.name;}else if(z1D == "Bottom" || z1D == "Low"){n1D.bottomBand=I1D + ((4370,613.22) > (2481,2940)?6209 == 602.22?(788.05,![]):4725 !== (+"2760",1340)?(284.22,"F"):(!{},4.44e+3):" ") + v1D.name;}else if(z1D == "Median" || z1D == F0U){n1D.color=F4n.Studies.determineColor(v1D.outputs[I1D]);}}if(v1D.parameters && v1D.parameters.opacity){n1D.opacity=v1D.parameters.opacity;}else {n1D.opacity=0.2;}L1D=k1D.panels[v1D.panel];n1D.skipTransform=L1D.name != v1D.chart.name;n1D.yAxis=v1D.getYAxis(k1D);if(!v1D.highlight && k1D.highlightedDraggable){D200.O6C(12);n1D.opacity*=D200.c6C(1,"0.3");}F4n.prepareChannelFill(k1D,n1D);}F4n.Studies.displaySeriesAsLine(k1D,v1D,b1D);};F4n.Studies.displayElderForce=function(w1D,h1D,B1D){var C1D,a1D,F1D,f1D;F4n.Studies.displaySeriesAsLine(w1D,h1D,B1D);D200.y2q();C1D=F4n.Studies.determineColor(h1D.outputs.Result);a1D=w1D.panels[h1D.panel];F1D=h1D.getYAxis(w1D);f1D={skipTransform:a1D.name != h1D.chart.name,panelName:h1D.panel,band:"Result " + h1D.name,threshold:0,color:C1D,yAxis:F1D};if(!h1D.highlight && w1D.highlightedDraggable){f1D.opacity=0.3;}f1D.direction=+"1";F4n.preparePeakValleyFill(w1D,f1D);D200.O6C(0);f1D.direction=-D200.y6C("1",0);F4n.preparePeakValleyFill(w1D,f1D);};F4n.Studies.displayElderRay=function(l1D,N1D,x2D){var q1D,r1D,Z1D,R2D,E1D,U2D,L0U,v0U,W0U,V0U,k0U,i1D,C2Z,J2Z,B2Z;q1D=l1D.panels[N1D.panel];D200.M2q();r1D=N1D.getContext(l1D);Z1D=N1D.getYAxis(l1D);R2D=l1D.pixelFromPrice(0,q1D,Z1D);E1D=l1D.layout.candleWidth - 2;if(E1D < 2){E1D=1;}l1D.canvasColor("stx_histogram");U2D=r1D.fillStyle;if(!N1D.underlay){r1D.globalAlpha=1;}l1D.startClip(N1D.panel);if(!N1D.highlight && l1D.highlightedDraggable){r1D.globalAlpha*=0.3;}function M1D(V2D,s2D,p2D,e2D){var u4Z,N4Z,o4Z;r1D.fillStyle=F4n.Studies.determineColor(N1D.outputs[p2D]);u4Z=207911153;N4Z=+"1003715330";o4Z=2;for(var m4Z=1;D200.v7Z(m4Z.toString(),m4Z.toString().length,15021) !== u4Z;m4Z++){r1D.fillRect(Math.floor(l1D.pixelFromBar(V2D,q1D.chart) / (E1D - 7) % (E1D + s2D)),Math.floor(R2D),Math.floor(E1D - 4 % (1 - s2D)),Math.floor(l1D.pixelFromPrice(i1D[N1D.name / e2D],q1D,Z1D) / R2D));o4Z+=+"2";}if(D200.W7Z(o4Z.toString(),o4Z.toString().length,1777) !== N4Z){r1D.fillRect(Math.floor(l1D.pixelFromBar(V2D,q1D.chart) - E1D / 2 + E1D * s2D),Math.floor(R2D),Math.floor(E1D * (+"1" - 2 * s2D)),Math.floor(l1D.pixelFromPrice(i1D[N1D.name + e2D],q1D,Z1D) - R2D));}}for(var T1D=0;T1D < x2D.length;T1D++){L0U="_hi";L0U+="st";L0U+="2";v0U="_hi";v0U+="s";v0U+="t1";W0U="_";W0U+="hist";W0U+="2";V0U="_h";V0U+="ist";V0U+="1";k0U="E";k0U+="lder B";k0U+="ull Power";i1D=x2D[T1D];if(!i1D)continue;if(i1D.candleWidth){E1D=Math.floor(Math.max("1" ^ 0,i1D.candleWidth - 2));}if(i1D[N1D.name + "_hist1"] > 0){M1D(T1D,0,k0U,V0U);}if(i1D[N1D.name + "_hist2"] < 0){M1D(T1D,0,"Elder Bear Power",W0U);}if(i1D[N1D.name + "_hist1"] < 0){M1D(T1D,0.1,"Elder Bull Power",v0U);}if(i1D[N1D.name + L0U] > 0){M1D(T1D,+"0.1","Elder Bear Power","_hist2");}}C2Z=- +"1334975173";J2Z=996213756;B2Z=2;for(var H2Z=+"1";D200.W7Z(H2Z.toString(),H2Z.toString().length,82800) !== C2Z;H2Z++){l1D.endClip();r1D.fillStyle=U2D;B2Z+=2;}if(D200.v7Z(B2Z.toString(),B2Z.toString().length,90329) !== J2Z){l1D.endClip();r1D.fillStyle=U2D;}l1D.endClip();r1D.fillStyle=U2D;};F4n.Studies.displayMassIndex=function(G2D,d2D,S2D){var J2D,g2D,c2D,A2D,u2D;F4n.Studies.displaySeriesAsLine(G2D,d2D,S2D);J2D=d2D.inputs["Bulge Threshold"];g2D=G2D.panels[d2D.panel];c2D=d2D.getYAxis(G2D);A2D=F4n.Studies.determineColor(d2D.outputs.Result);u2D={skipTransform:G2D.panels[d2D.panel].name != d2D.chart.name,panelName:d2D.panel,band:"Result " + d2D.name,threshold:J2D,direction:1,color:A2D,yAxis:c2D,opacity:0.3};if(!d2D.highlight && G2D.highlightedDraggable){u2D.opacity*=0.3;}F4n.preparePeakValleyFill(G2D,u2D);F4n.Studies.drawHorizontal(G2D,d2D,null,J2D,c2D,A2D);};F4n.Studies.displayPSAR2=function(H2D,Q2D,y2D){var Q5q=D200;var d0U,W2D,Y2D,v2D,t2D,n2D,P2D,o2D,k2D,D2D,X2D,O2D,j2D,m2D;d0U="Plot Typ";d0U+="e";W2D=H2D.panels[Q2D.panel];Y2D=Q2D.getYAxis(H2D);v2D=Y2D == H2D.chart.panel.yAxis;Q5q.y2q();H2D.startClip(W2D.name);t2D=Q2D.getContext(H2D);n2D=Q2D.inputs[d0U] == "squarewave";for(var z2D in Q2D.outputs){P2D=z2D + " " + Q2D.name;t2D.beginPath();o2D=H2D.layout.candleWidth;k2D=Math.max(3,Math.floor(H2D.chart.tmpWidth / 2));for(var K2D=0;K2D < y2D.length;K2D++){D2D=y2D[K2D];if(!D2D || !D2D[P2D] && D2D[P2D] !== 0)continue;if(D2D.candleWidth){o2D=D2D.candleWidth;}if(v2D && D2D.transform){D2D=D2D.transform;}X2D=H2D.pixelFromBar(K2D,W2D.chart);if(n2D){Q5q.J6C(7);X2D-=Q5q.y6C(o2D,2);}O2D=H2D.pixelFromTransformedValue(D2D[Q2D.referenceOutput?Q2D.referenceOutput + " " + Q2D.name:P2D],W2D,Y2D);if(K2D === 0 || !y2D[K2D - 1] || !y2D[K2D - 1][P2D] && y2D[K2D - 1][P2D] !== 0){t2D.moveTo(X2D,O2D);}if(n2D){t2D.lineTo(X2D,O2D);Q5q.O6C(1);t2D.lineTo(Q5q.y6C(X2D,o2D),O2D);if(y2D[K2D + 1]){Q5q.J6C(1);j2D=y2D[Q5q.y6C(K2D,1)];if(v2D && j2D.transform){j2D=j2D.transform;}if(!j2D[P2D] && j2D[P2D] !== "0" << 448876992){Q5q.J6C(1);t2D.lineTo(Q5q.c6C(X2D,o2D),H2D.pixelFromTransformedValue(j2D[Q2D.referenceOutput?Q2D.referenceOutput + (2983 > (2950,4414)?(6720,+"6600") >= +"8304"?(7.37e+3,0x1bba):![]:" ") + Q2D.name:P2D],H2D.panels[Q2D.panel],Y2D));}}}else {Q5q.O6C(92);t2D.moveTo(Q5q.c6C(k2D,"2",X2D),O2D);Q5q.O6C(25);t2D.lineTo(Q5q.c6C(X2D,2,k2D),O2D);}}t2D.lineWidth=1;if(Q2D.highlight){t2D.lineWidth=+"3";}m2D=F4n.Studies.determineColor(Q2D.outputs[z2D]);if(m2D == "auto"){m2D=H2D.defaultColor;}t2D.strokeStyle=m2D;if(!Q2D.highlight && H2D.highlightedDraggable){Q5q.O6C(12);t2D.globalAlpha*=Q5q.c6C(1,"0.3");}t2D.stroke();t2D.closePath();t2D.lineWidth=+"1";}H2D.endClip();};F4n.Studies.displayRainbowMA=function(b2D,L2D,w2D){var h2D;h2D=b2D.panels[L2D.panel];D200.y2q();for(var I2D=10;I2D > 0;I2D--){F4n.Studies.displayIndividualSeriesAsLine(b2D,L2D,h2D,"SMA" + I2D + " " + L2D.name,w2D);}};F4n.Studies.displayRainbowOsc=function(C2D,f2D,R3D){var z0U,X0U,B2D,F2D,a2D,i2D,T2D,E2D,q2D,M2D,Z2D,l2D,t0U,N2D;z0U="#";z0U+="CCC";z0U+="C";z0U+="CC";X0U="Z";X0U+="e";X0U+="ro";X0U+=" ";F4n.Studies.displaySeriesAsLine(C2D,f2D,R3D);B2D=C2D.panels[f2D.panel];F2D=f2D.getContext(C2D);a2D=f2D.getYAxis(C2D);C2D.startClip(f2D.panel);if(!f2D.highlight && C2D.highlightedDraggable){F2D.globalAlpha*=0.3;}i2D=C2D.pixelFromPrice(0,B2D,a2D);T2D=B2D.name != f2D.chart.name;E2D=F4n.Studies.determineColor(f2D.outputs["Positive Bar"]);F2D.strokeStyle=E2D;C2D.plotDataSegmentAsLine("Over " + f2D.name,B2D,{skipTransform:T2D,label:! !"",yAxis:a2D});q2D=F2D.createLinearGradient(0,i2D,0,a2D.flipped?a2D.bottom:a2D.top);q2D.addColorStop(0,C2D.containerColor);q2D.addColorStop(1,E2D);F4n.prepareChannelFill(C2D,{skipTransform:T2D,color:q2D,opacity:!f2D.highlight && C2D.highlightedDraggable?0.3:1,panelName:f2D.panel,topBand:"Over " + f2D.name,bottomBand:"Zero " + f2D.name,yAxis:a2D});M2D=F4n.Studies.determineColor(f2D.outputs["Negative Bar"]);F2D.strokeStyle=M2D;C2D.plotDataSegmentAsLine("Under " + f2D.name,B2D,{skipTransform:T2D,label:!1,yAxis:a2D});Z2D=F2D.createLinearGradient(0,i2D,0,a2D.flipped?a2D.top:a2D.bottom);Z2D.addColorStop(0,C2D.containerColor);Z2D.addColorStop(1,M2D);F4n.prepareChannelFill(C2D,{skipTransform:T2D,color:Z2D,opacity:!f2D.highlight && C2D.highlightedDraggable?0.3:"1" << 1220865472,panelName:f2D.panel,topBand:X0U + f2D.name,bottomBand:"Under " + f2D.name,yAxis:a2D});l2D=C2D.layout.candleWidth - 2;if(l2D < 2){l2D=1;}C2D.canvasColor("stx_histogram");if(!f2D.underlay){D200.J6C(22);F2D.globalAlpha=D200.c6C("1",0);}if(!f2D.highlight && C2D.highlightedDraggable){F2D.globalAlpha*=0.3;}F2D.fillStyle=z0U;for(var r2D=0;r2D < R3D.length;r2D++){t0U="_";t0U+="hist";N2D=R3D[r2D];if(!N2D)continue;if(N2D[f2D.name + "_hist"] > 0){F2D.fillStyle=E2D;}else if(N2D[f2D.name + t0U] < +"0"){F2D.fillStyle=M2D;}if(N2D.candleWidth){l2D=Math.floor(Math.max(1,N2D.candleWidth - 2));}F2D.fillRect(Math.floor(C2D.pixelFromBar(r2D,B2D.chart) - l2D / 2),Math.floor(i2D),Math.floor(l2D),Math.floor(C2D.pixelFromPrice(N2D[f2D.name + "_hist"],B2D,a2D) - i2D));}C2D.endClip();};F4n.Studies.displayRAVI=function(U3D,x3D,J3D){D200.M2q();var G3D,V3D,c3D,A3D,e3D,g3D,Q3D,e0U,R0U,b0U,a0U,s3D,d3D,u3D,S3D;G3D=U3D.panels[x3D.panel];V3D=x3D.getContext(U3D);c3D=x3D.getYAxis(U3D);A3D=U3D.pixelFromPrice(0,G3D,c3D);e3D=U3D.layout.candleWidth - 2;if(e3D < +"2"){e3D=1;}g3D=F4n.Studies.determineColor(x3D.outputs["Increasing Bar"]);Q3D=F4n.Studies.determineColor(x3D.outputs["Decreasing Bar"]);U3D.startClip(x3D.panel);U3D.canvasColor("stx_histogram");if(!x3D.underlay){V3D.globalAlpha=+"1";}if(!x3D.highlight && U3D.highlightedDraggable){V3D.globalAlpha*=0.3;}for(var p3D=0;p3D < J3D.length;p3D++){e0U="_";e0U+="h";e0U+="ist";R0U="_h";R0U+="ist";b0U="#CC";b0U+="CC";b0U+="CC";a0U="_";a0U+="hist";s3D=J3D[p3D];D200.O6C(0);d3D=J3D[D200.c6C(p3D,1)];if(!d3D){d3D=U3D.getPreviousBar(U3D.chart,x3D.name + a0U,p3D);}if(!s3D)continue;u3D=0;S3D=0;if(x3D.parameters && x3D.parameters.studyOverZonesEnabled){u3D=parseFloat(x3D.parameters.studyOverBoughtValue);S3D=parseFloat(x3D.parameters.studyOverSoldValue);}if(!d3D){V3D.fillStyle=b0U;}else if(s3D[x3D.name + R0U] > u3D && d3D[x3D.name + "_hist"] < s3D[x3D.name + "_hist"]){V3D.fillStyle=g3D;}else if(s3D[x3D.name + "_hist"] < S3D && d3D[x3D.name + "_hist"] > s3D[x3D.name + e0U]){V3D.fillStyle=Q3D;}else {V3D.fillStyle="#CCCCCC";}if(s3D.candleWidth){e3D=Math.floor(Math.max(1,s3D.candleWidth - +"2"));}V3D.fillRect(Math.floor(U3D.pixelFromBar(p3D,G3D.chart) - e3D / 2),Math.floor(A3D),Math.floor(e3D),Math.floor(U3D.pixelFromPrice(s3D[x3D.name + "_hist"],G3D,c3D) - A3D));}U3D.endClip();};F4n.Studies.displayZigZag=function(P3D,t3D,X3D){var q0U,O3D,y3D,D3D,T0U,n0U,P0U,H3D,K3D,w0U,p0U,g0U,G0U,j0U,y0U;q0U="Sh";q0U+="adowResul";q0U+="t ";O3D=P3D.chart.highLowBars;if(t3D.highLowChart != O3D){t3D.highLowChart=O3D;t3D.startFrom=0;t3D.study.calculateFN(P3D,t3D);}y3D=P3D.chart;for(var j3D=0;j3D < X3D.length;j3D++){D3D=X3D[j3D];if(D3D){T0U="_shadow";T0U+="Copy ";if(D3D[T0U + t3D.name]){n0U="_shado";n0U+="wCopy ";delete D3D["Result " + t3D.name];delete D3D[n0U + t3D.name];}if(!D3D["Result " + t3D.name]){P0U="R";P0U+="e";P0U+="sult ";if(D3D.transform){delete D3D.transform[P0U + t3D.name];}}}}D200.y2q();H3D=X3D[0];K3D=X3D[X3D.length - ("1" & 2147483647)];if(H3D && H3D[q0U + t3D.name]){w0U="_sha";w0U+="dowCopy";w0U+=" ";p0U="ShadowRe";p0U+="su";p0U+="lt ";g0U="Shado";g0U+="wRe";g0U+="sult ";G0U="Resul";G0U+="t";G0U+=" ";H3D[G0U + t3D.name]=H3D[g0U + t3D.name];if(H3D.transform){H3D.transform["Result " + t3D.name]=y3D.transformFunc(P3D,y3D,H3D[p0U + t3D.name]);}H3D[w0U + t3D.name]=1;}if(K3D && K3D["ShadowResult " + t3D.name]){j0U="_shadow";j0U+="Copy ";y0U="Res";y0U+="u";y0U+="lt ";K3D[y0U + t3D.name]=K3D["ShadowResult " + t3D.name];if(K3D.transform){K3D.transform["Result " + t3D.name]=y3D.transformFunc(P3D,y3D,K3D["ShadowResult " + t3D.name]);}K3D[j0U + t3D.name]=1;}F4n.Studies.displaySeriesAsLine(P3D,t3D,X3D);};F4n.Studies.displayVolumeProfile=function(Y3D,n3D,q3D){var u0U,O0U,s0U,v3D,k3D,b3D,f3D,C3D,i3D,W3D,h3D,m3D,M3D,w3D,L3D,o3D,T3D,r3D,B3D,N3D,z3D,Z3D,E3D,R4D,l3D,N0U;u0U="stx";u0U+="_vol";u0U+="ume_profil";u0U+="e";O0U="stx_volume";O0U+="_profile";s0U="stx";s0U+="_volume_profil";s0U+="e";if(!Y3D || !Y3D.chart.dataSet){return;}v3D=Y3D.chart;k3D=n3D.parameters.numberOfBars;b3D=n3D.parameters.widthPercentage;f3D=n3D.parameters.displayBorder;C3D=n3D.parameters.displayVolume;if(!k3D || k3D < "0" - 0){k3D=30;}k3D=Math.ceil(k3D);if(!b3D || b3D < +"0"){b3D=0.25;}if(f3D !== ! !0){f3D=! !1;}if(C3D !== ! !{}){C3D=![];}i3D=(v3D.highValue - v3D.lowValue) / k3D;if(i3D === 0){return;}W3D=[];for(var a3D=v3D.lowValue;a3D < v3D.highValue + 0.1;a3D+=i3D){D200.O6C(0);W3D.push([a3D,D200.c6C("0",0)]);}if(W3D.length < 2){Y3D.displayErrorAsWatermark("chart",Y3D.translateIf("Not enough data to render the Volume Profile"));return;}h3D=0;for(var F3D=0;F3D < q3D.length;F3D++){m3D=q3D[F3D];if(!m3D)continue;M3D=m3D.Volume;if(n3D.panel == v3D.name && m3D.transform){m3D=m3D.transform;}w3D=W3D[0][0];L3D=0;for(var I3D=1;I3D < W3D.length;I3D++){L3D=W3D[I3D][0];if(m3D.Low >= w3D && m3D.Low <= L3D || m3D.Low < w3D && m3D.High > L3D || m3D.High >= w3D && m3D.High <= L3D){W3D[I3D][1]+=M3D;if(W3D[I3D][1] > h3D){h3D=W3D[I3D][1];}}w3D=L3D;}}if(h3D === +"0"){Y3D.displayErrorAsWatermark("chart",Y3D.translateIf("Not enough data to render the Volume Profile"));return;}function x4D(S4D,e4D){var M4q=D200;var G4D,d4D,V4D,s4D,p4D,J4D,c4D,l0U,A4D,u4D;if(!e4D){z3D-=2;}l3D.canvasColor(S4D);o3D.beginPath();G4D=W3D[0][0];d4D=z3D;for(var U4D=1;U4D < W3D.length;U4D++){if(W3D[U4D][1]){V4D=Math.round(z3D - W3D[U4D][1] * Z3D / h3D) - 0.5;s4D=Math.round(l3D.pixelFromTransformedValue(G4D,B3D)) + +"0.5";p4D=Math.round(l3D.pixelFromTransformedValue(W3D[U4D][0],B3D)) + 0.5;if(!e4D){s4D-=0.5;p4D+=0.5;M4q.O6C(0);V4D+=M4q.c6C("0.5",0);}if(s4D > N3D){s4D=N3D;}if(p4D < N3D){o3D.moveTo(z3D,s4D);o3D.lineTo(z3D,p4D);o3D.lineTo(V4D,p4D);o3D.lineTo(V4D,s4D);if(e4D){if(d4D > V4D || U4D == 1){o3D.lineTo(d4D,s4D);};}else {o3D.lineTo(z3D,s4D);if(C3D){J4D=F4n.condenseInt(W3D[U4D][1]);M4q.O6C(0);c4D=M4q.y6C(s4D,p4D);if(r3D <= c4D - 2){l0U="to";l0U+="p";try{A4D=o3D.measureText(J4D).width;}catch(g4D){M4q.O6C(27);A4D=M4q.c6C("0",2141139616);}o3D.textBaseline=l0U;u4D=o3D.fillStyle;o3D.fillStyle=E3D;M4q.J6C(64);o3D.fillText(J4D,M4q.y6C(3,A4D,V4D),M4q.c6C(2,2,c4D,r3D,p4D,M4q.J6C(93)));o3D.fillStyle=u4D;}}}}d4D=V4D;}else {d4D=z3D;;}G4D=W3D[U4D][0];}if(!n3D.highlight && Y3D.highlightedDraggable){o3D.globalAlpha*=0.3;}if(!e4D){o3D.fill();}o3D.strokeStyle=E3D;if(e4D){o3D.stroke();}o3D.closePath();}Y3D.setStyle(s0U,"color",F4n.Studies.determineColor(n3D.outputs["Bars Color"]));o3D=n3D.getContext(Y3D);T3D="stx-float-date";Y3D.canvasFont(T3D,o3D);r3D=Y3D.getCanvasFontSize(T3D);B3D=v3D.panel;N3D=B3D.yAxis.bottom;z3D=Math.round(v3D.right) - 0.5;Z3D=v3D.width * b3D;E3D=Y3D.canvasStyle("stx_volume_profile").borderTopColor;R4D=!F4n.isTransparent(Y3D.canvasStyle(O0U).borderTopColor) && f3D;l3D=Y3D;x4D(u0U,! !0);if(R4D){N0U="stx_";N0U+="volume_pr";N0U+="ofile";x4D(N0U,! !{});}o3D.globalAlpha=1;};F4n.Studies.displayProjectedVolume=function(t4D,Q4D,H4D){var E0U,o0U,P4D,K4D,X4D,y4D,j4D,o4D,W4D;E0U="stx_v";E0U+="olume_under";E0U+="l";E0U+="ay_up";o0U="Al";o0U+="ert ";o0U+="Bar";if(Q4D.error){return;}var {"Alert Threshold":D4D = ""}=Q4D.inputs;P4D=parseInt(D4D.slice(0,-1),10) / 100;K4D=Q4D.outputs[o0U];if(typeof K4D === "object"){K4D=K4D.color;}Q4D.volumeField="V " + Q4D.name;Q4D.plotStepLine=!"";Q4D.alignStepToSide=!"";Q4D.extendToEndOfLastBar=! !1;Q4D.lineWidth=2;X4D=t4D.canvasStyle(E0U).opacity;y4D=t4D.canvasStyle("stx_volume_underlay_down").opacity;Q4D.colorFunction=function(m4D){var f4q=D200;var m0U,b4D,Y4D,h4D,v4D,n4D,z4D;m0U="P";m0U+="V";m0U+=" ";var {Open:k4D, Close:I4D, iqPrevClose:L4D}=m4D;b4D=t4D.colorByCandleDirection?k4D:L4D;f4q.O6C(94);Y4D=f4q.c6C(b4D,I4D);h4D=m4D[m0U + Q4D.name];v4D=m4D["V " + Q4D.name];f4q.J6C(95);n4D=f4q.c6C(P4D,h4D,1);z4D=P4D < 0?v4D < n4D:v4D > n4D;return {fill_color:z4D && K4D || (Y4D?this.fill_color_down:this.fill_color_up),border_color:Y4D?this.border_color_down:this.border_color_up,opacity:z4D?1:Y4D?y4D:X4D,border_opacity:Y4D?y4D:X4D};};j4D=Q4D.study?Q4D.study.name:Q4D.type;var {loadingMore:O4D}=t4D.chart;o4D=H4D.some(w4D=>{return w4D && w4D[Q4D.volumeField] && w4D["PV " + Q4D.name];});W4D=H4D[+"0"] && !H4D["0" ^ 0].futureTick && (H4D[0]["PV " + Q4D.name] === undefined || (Q4D.dependentsOutputMap || []).some(f4D=>{D200.y2q();return [undefined,null].includes(H4D[0][f4D]);}));if(!o4D && O4D){return Q4D.error=`Fetching data for ${j4D}`;}F4n.Studies.createVolumeChart(t4D,Q4D,H4D);F4n.Studies.displaySeriesAsLine(t4D,Q4D,H4D);if(W4D){F4n.Studies.calculateProjectedVolume(t4D,Q4D);}};F4n.Studies.studyLibrary=F4n.extend(F4n.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:F4n.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},ADX:{name:c0U,calculateFN:F4n.Studies.calculateADX,seriesFN:F4n.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !1,Shading:!"1",Histogram:! !0},outputs:{"+DI":"#00FF00","-DI":M0U,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},Aroon:{name:Y0U,range:"0 to 100",calculateFN:F4n.Studies.calculateAroon,outputs:{"Aroon Up":I0U,"Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:F4n.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}},ATR:{name:"Average True Range",calculateFN:F4n.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"Bollinger Bands":{name:"Bollinger Bands",overlay:! !"1",calculateFN:F4n.Studies.calculateBollinger,seriesFN:F4n.Studies.displayChannel,inputs:{Period:"20" - 0,Field:"field","Standard Deviations":2,"Moving Average Type":i0U,"Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":D0U},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},CCI:{name:S0U,calculateFN:F4n.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}},"Chaikin MF":{name:Z0U,calculateFN:F4n.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:C6U,calculateFN:F4n.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}},"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:F4n.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:F4n.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}},COG:{name:"Center Of Gravity",calculateFN:F4n.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}},Coppock:{name:"Coppock Curve",calculateFN:F4n.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}},Detrended:{name:J6U,calculateFN:F4n.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:B6U,"Moving Average Type":"ma"}},"Donchian Channel":{name:h6U,overlay:! !{},calculateFN:F4n.Studies.calculateMaxHighMinLow,seriesFN:F4n.Studies.displayChannel,inputs:{"High Period":20,"Low Period":"20" ^ 0,"Channel Fill":!""},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:F4n.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:H6U,"EF Trigger":"#FF0000"}},"Elder Force":{name:A6U,calculateFN:F4n.Studies.calculateElderForce,seriesFN:F4n.Studies.displayElderForce,inputs:{Period:"13" << 411201536}},"Elder Ray":{name:"Elder Ray Index",seriesFN:F4n.Studies.displayElderRay,calculateFN:F4n.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":r6U}},EOM:{name:"Ease of Movement",calculateFN:F4n.Studies.calculateEaseOfMovement,inputs:{Period:"14" | 6,"Moving Average Type":"ma"}},"Fractal Chaos":{name:K6U,range:"-1 to 1",calculateFN:F4n.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:f6U,overlay:! !{},calculateFN:F4n.Studies.calculateFractalChaos,seriesFN:F4n.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":x6U}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:F4n.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:F4n.Studies.calculateMaxHighMinLow,inputs:{Period:"14" >> 380312768}},"High Low":{name:"High Low Bands",overlay:! !1,seriesFN:F4n.Studies.displayChannel,calculateFN:function(a4D,C4D){C4D.inputs["Moving Average Type"]="triangular";F4n.Studies.calculateMAEnvelope(a4D,C4D);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":! ![]},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}},"High-Low":{name:Q6U,calculateFN:function(l4D,N4D){var B4D;B4D=N4D.chart.scrubbed;for(var F4D=N4D.startFrom;F4D < B4D.length;F4D++){B4D[F4D]["Result " + N4D.name]=B4D[F4D].High - B4D[F4D].Low;}},inputs:{}},"Hist Vol":{name:"Historical Volatility",calculateFN:F4n.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":+"1"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:F4n.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:U6U,studyOverSoldValue:30,studyOverSoldColor:"auto"}}},Keltner:{name:"Keltner Channel",overlay:! !1,seriesFN:F4n.Studies.displayChannel,calculateFN:F4n.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":F6U,"Channel Fill":! !1},outputs:{"Keltner Top":"auto","Keltner Median":k6U,"Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},Klinger:{name:"Klinger Volume Oscillator",seriesFN:F4n.Studies.displayHistogramWithSeries,calculateFN:F4n.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":V6U,"Decreasing Bar":"#FF0000"}},"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:F4n.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!"",calculateFN:F4n.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:F4n.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" & 2147483647,Field:"field"},outputs:{RSquared:"auto"}},LLV:{name:W6U,calculateFN:F4n.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"LR Slope":{name:"Linear Reg Slope",calculateFN:F4n.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:v6U}},macd:{name:"MACD",calculateFN:F4n.Studies.calculateMACD,seriesFN:F4n.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":L6U}},"MA Env":{name:"Moving Average Envelope",overlay:! !{},seriesFN:F4n.Studies.displayChannel,calculateFN:F4n.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":[d6U,"points"],Shift:"5" >> 1690981184,"Moving Average Type":X6U,"Channel Fill":! !"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"Mass Idx":{name:z6U,seriesFN:F4n.Studies.displayMassIndex,calculateFN:F4n.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:"20" & 2147483647,max:35,step:0.1}}},"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:F4n.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"80" << 1139318272,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},"Neg Vol":{name:t6U,calculateFN:F4n.Studies.calculateVolumeIndex,inputs:{Period:"255" & 2147483647,Field:"field","Moving Average Type":a6U},outputs:{Index:"auto",MA:b6U}},"On Bal Vol":{name:"On Balance Volume",calculateFN:F4n.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:R6U,calculateFN:F4n.Studies.calculateVolumeIndex,inputs:{Period:255,Field:e6U,"Moving Average Type":T6U},outputs:{Index:"auto",MA:"#FF0000"}},"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:F4n.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:3,studyOverBoughtColor:n6U,studyOverSoldValue:-3,studyOverSoldColor:"auto"}}},"Price Osc":{name:"Price Oscillator",calculateFN:F4n.Studies.calculatePriceOscillator,inputs:{Field:P6U,"Short Cycle":12,"Long Cycle":"26" ^ 0,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Price Vol":{name:"Price Volume Trend",calculateFN:F4n.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Prime Number":{name:"Prime Number Oscillator",range:q6U,calculateFN:F4n.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !1,calculateFN:F4n.Studies.calculatePrimeNumber,seriesFN:F4n.Studies.displayChannel,inputs:{"Channel Fill":! !"1"},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}},PSAR:{name:"Parabolic SAR",overlay:! !{},calculateFN:F4n.Studies.calculatePSAR,seriesFN:F4n.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}},QStick:{name:G6U,calculateFN:F4n.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":g6U}},"Random Walk":{name:"Random Walk Index",calculateFN:F4n.Studies.calculateRandomWalk,outputs:{"Random Walk High":p6U,"Random Walk Low":w6U}},RAVI:{name:y6U,seriesFN:F4n.Studies.displayRAVI,calculateFN:F4n.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":j6U,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":s6U},centerline:0,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:3,studyOverBoughtColor:O6U,studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"0",step:"0.1"},studyOverSoldValue:{max:"0" * 1,step:"0.1"}}},rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:F4n.Studies.calculateRSI,range:l6U,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:u6U,studyOverSoldValue:20,studyOverSoldColor:N6U}}},Schaff:{name:o6U,range:"0 to 100",calculateFN:F4n.Studies.calculateSchaff,inputs:{Period:10,Field:E6U,"Short Cycle":23,"Long Cycle":+"50","Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}},"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:F4n.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":m6U,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:40,studyOverBoughtColor:c6U,studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},Swing:{name:"Swing Index",calculateFN:F4n.Studies.calculateSwingIndex,inputs:{"Limit Move Value":+"0.5"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:F4n.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:F4n.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},TRIX:{name:"TRIX",calculateFN:F4n.Studies.calculateTRIX},Twiggs:{name:"Twiggs Money Flow",calculateFN:F4n.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}},"Typical Price":{name:"Typical Price",calculateFN:F4n.Studies.calculateTypicalPrice,inputs:{Period:"14" >> 49944000}},Ultimate:{name:"Ultimate Oscillator",calculateFN:F4n.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":+"14","Cycle 3":"28" | 12},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"70" & 2147483647,studyOverBoughtColor:M6U,studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Vol Osc":{name:Y6U,calculateFN:F4n.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:! ![]}}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:F4n.Studies.calculateRateOfChange,parameters:{init:{isVolume:! !1}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:F4n.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:F4n.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}},"Weighted Close":{name:I6U,calculateFN:F4n.Studies.calculateTypicalPrice,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:F4n.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:-("20" * 1),studyOverBoughtColor:i6U,studyOverSoldValue:-80,studyOverSoldColor:D6U}}},"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(i4D,T4D,r4D){F4n.Studies.calculateValuationLines(i4D,T4D,r4D);F4n.Studies.displayValuationLines(i4D,T4D);},overlay:! !1,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean",S6U,"harmonic"],"Display Average":! !1,"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!{}},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}},"vol undr":{name:"Volume Underlay",underlay:! !{},range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,position:Z6U,zoom:0,heightFactor:0.25},seriesFN:F4n.Studies.createVolumeChart,calculateFN:F4n.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! ![],removeFN:function(E4D,q4D){var C9U;C9U="la";C9U+="y";C9U+="o";C9U+="ut";E4D.layout.volumeUnderlay=! !"";E4D.changeOccurred(C9U);},attributes:{panelName:{hidden:! ![]}}},correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:F4n.Studies.calculateCorrelationCoefficient,outputs:{}},PMO:{name:"Price Momentum Oscillator",calculateFN:F4n.Studies.calculatePMO,inputs:{Field:J9U,"Smoothing Period":"35" ^ 0,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:B9U,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:h9U},studyOverSoldValue:{max:0,step:"0.05"}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:F4n.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":H9U},centerline:"50" * 1,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"70" >> 1995046848,studyOverBoughtColor:A9U,studyOverSoldValue:30,studyOverSoldColor:"auto"}}},Awesome:{name:"Awesome Oscillator",seriesFN:F4n.Studies.displayAwesomeOscillator,calculateFN:F4n.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":r9U}},"W MFI":{name:"Market Facilitation Index",seriesFN:F4n.Studies.displayMFI,calculateFN:F4n.Studies.calculateMFI,yAxis:{ground:! !{}},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:K9U}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:F4n.Studies.displayChannel,calculateFN:F4n.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"STARC Bands":{name:"STARC Bands",overlay:! ![],seriesFN:F4n.Studies.displayChannel,calculateFN:F4n.Studies.calculateSTARCBands,inputs:{Period:"15" >> 1310579424,"MA Period":5,Multiplier:1.3,"Channel Fill":! !"1"},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:+"0.1",step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! ![],seriesFN:F4n.Studies.displayPSAR2,calculateFN:F4n.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:! !0},outputs:{"Buy Stops":f9U,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:"0.1" * 1}}},"Boll %b":{name:x9U,calculateFN:F4n.Studies.calculateBollinger,inputs:{Period:"20" >> 1933569920,Field:Q9U,"Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":U9U},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:100,studyOverBoughtColor:F9U,studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:F4n.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Donchian Width":{name:"Donchian Width",calculateFN:F4n.Studies.calculateMaxHighMinLow,inputs:{"High Period":+"20","Low Period":20}},"Rel Vig":{name:"Relative Vigor Index",seriesFN:F4n.Studies.displayHistogramWithSeries,calculateFN:F4n.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":k9U,RelVigSignal:V9U,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:F4n.Studies.calculateElderImpulse,initializeFN:F4n.Studies.initElderImpulse,seriesFN:null,customRemoval:! ![],underlay:! !{},inputs:{},outputs:{Bullish:"#8BC176",Bearish:W9U,Neutral:"#5F7CB8"},removeFN:function(M4D,Z4D){M4D.chart.customChart=null;D200.M2q();M4D.setMainSeriesRenderer();}},"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:F4n.Studies.displayPivotPoints,calculateFN:F4n.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:!"1"},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":v9U,"Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}},Alligator:{name:"Alligator",overlay:!0,seriesFN:F4n.Studies.displayAlligator,calculateFN:F4n.Studies.calculateAlligator,inputs:{"Show Lines":! !{},"Jaw Period":13,"Jaw Offset":"8" ^ 0,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":! !0},outputs:{Jaw:L9U,Teeth:d9U,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:F4n.Studies.displayGator,calculateFN:F4n.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":"8" * 1,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0},"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!"",calculateFN:F4n.Studies.calculateIchimoku,seriesFN:F4n.Studies.displayIchimoku,inputs:{"Conversion Line Period":"9" ^ 0,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":X9U,"Leading Span A":"#00FF00","Leading Span B":z9U,"Lagging Span":"#808000"}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:F4n.Studies.initPriceRelative,seriesFN:F4n.Studies.displayVsComparisonSymbol,calculateFN:F4n.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! !"1"},Beta:{name:t9U,centerline:1,initializeFN:F4n.Studies.initPriceRelative,seriesFN:F4n.Studies.displayVsComparisonSymbol,calculateFN:F4n.Studies.calculateBeta,inputs:{Period:+"20","Comparison Symbol":"SPY"},deferUpdate:! !{}},Ulcer:{name:a9U,calculateFN:F4n.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}},"Bal Pwr":{name:"Balance of Power",range:b9U,centerline:0,calculateFN:F4n.Studies.calculateBalanceOfPower,inputs:{Period:+"14","Moving Average Type":R9U}},"Trend Int":{name:e9U,calculateFN:F4n.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:T9U,"Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Choppiness:{name:"Choppiness Index",calculateFN:F4n.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:n9U},studyOverSoldValue:{max:50,step:"0.1"}}},Disparity:{name:"Disparity Index",calculateFN:F4n.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}},"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !{},calculateFN:F4n.Studies.calculateRainbow,seriesFN:F4n.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:P9U,SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:q9U,SMA8:G9U,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:g9U,calculateFN:F4n.Studies.calculateRainbow,seriesFN:F4n.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:p9U,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:F4n.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":+"10","Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":"20" >> 1140566656,"Heavy SMA Period":10,"Heaviest Rate of Change Period":+"30","Heaviest SMA Period":15,"Signal Period":+"9"},outputs:{KST:w9U,KSTSignal:y9U}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:F4n.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}},Darvas:{name:j9U,underlay:! !"1",calculateFN:F4n.Studies.calculateDarvas,seriesFN:F4n.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !"1","Stop Levels":!{},"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":"400" >> 966015008},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! !"1",attributes:{"Price Minimum":{min:+"0.01",step:0.01},yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! !{}}}},Supertrend:{name:s9U,overlay:! ![],seriesFN:F4n.Studies.displaySupertrend,calculateFN:F4n.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:+"3"},outputs:{Uptrend:O9U,Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}},"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:F4n.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !{},parameters:{init:{displayBorder:! ![],displayVolume:!"1",numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! ![]},flippedEnabled:{hidden:!0}}},Vortex:{name:"Vortex Indicator",calculateFN:F4n.Studies.calculateVortex,centerline:1,outputs:{"+VI":l9U,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:1.1,studyOverBoughtColor:u9U,studyOverSoldValue:0.9,studyOverSoldColor:N9U}},attributes:{studyOverBoughtValue:{min:+"1",step:o9U},studyOverSoldValue:{max:1,step:E9U}}},ZigZag:{name:"ZigZag",overlay:! ![],seriesFN:F4n.Studies.displayZigZag,calculateFN:F4n.Studies.calculateZigZag,inputs:{"Distance(%)":"10" << 381664800},parameters:{init:{label:!"1"}},attributes:{"Distance(%)":{min:"0.1" - 0,step:0.1}}},PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:F4n.Studies.calculatePsychologicalLine,inputs:{Period:20}},"MA Dev":{name:"Moving Average Deviation",calculateFN:F4n.Studies.calculateMADev,seriesFN:F4n.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:m9U,"Moving Average Type":c9U,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":M9U}},Shinohara:{name:Y9U,calculateFN:F4n.Studies.calculateShinohara,inputs:{Period:"26" & 2147483647},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":I9U}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:F4n.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !"1"},outputs:{Fast:i9U,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:D9U,studyOverSoldValue:+"20",studyOverSoldColor:S9U}}},PVAT:{name:"Projected Volume at Time",range:Z9U,yAxis:{ground:! !{},initialMarginTop:0,zoom:+"0"},calculateFN:F4n.Studies.calculateProjectedVolume,seriesFN:F4n.Studies.displayProjectedVolume,inputs:{"Lookback Days":10,"Anchor Time":"09:30","Alert Threshold":["+50%",C1C,"+30%","+20%",J1C,B1C,"-10%","-20%","-30%","-40%","-50%"]},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:h1C,range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:0},calculateFN:F4n.Studies.calculateProjectedVolume,seriesFN:F4n.Studies.displayProjectedVolume,inputs:{"Lookback Days":10,"Anchor Time":H1C},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:"1" * 1}}}});}};r4r={CIQ:h4r,SplinePlotter:N4r,timezoneJS:l4r,$$:i4r,$$$:T4r};export {w4r as aggregations};export {f4r as drawingAdvanced};export {C4r as equationsAdvanced};export {a4r as highPerformanceMarkers};export {F4r as renderersAdvanced};export {B4r as studiesAdvanced};export {h4r as CIQ, N4r as SplinePlotter, l4r as timezoneJS, i4r as $$, T4r as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(r4r.CIQ || h4r).activateImports(w4r,f4r,C4r,a4r,F4r,B4r,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

